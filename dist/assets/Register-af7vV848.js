import{i as B,u as $,j as r,r as C,c as V,a as u,e as l,k as q,d as h,p as d,l as N,n as x,g as o,x as D,q as U,s as E,t as I,A as H,f as y,w as P}from"./index-CV7pDqKO.js";import{_ as m}from"./BaseInput-iZJAEimR.js";import{_ as z}from"./BaseButton-lFzL_fWZ.js";const A={class:"bg-gradient-to-r from-blue-50 to-indigo-50 min-h-screen py-12 px-4 sm:px-6 lg:px-8"},R={class:"max-w-lg mx-auto"},X={class:"bg-white py-8 px-6 shadow-xl rounded-xl transition-all duration-300 transform hover:shadow-2xl"},F={class:"mb-8"},G={class:"flex space-x-4"},J={class:"flex items-center mb-3"},K={class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3"},L={class:"flex items-center mb-3"},O={class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3"},Q={class:"space-y-8"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-7"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-7"},Z={class:"relative"},ee={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},le={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},te={key:0,class:"mt-1 text-sm text-red-600"},se={class:"grid grid-cols-1 md:grid-cols-2 gap-7"},oe={class:"bg-gray-50 p-3 rounded-lg border border-gray-100 flex items-center"},re={key:0,class:"text-sm text-red-600 mt-1 italic"},ae={class:"pt-2"},ne={class:"mt-8 text-center"},ie={class:"text-gray-600"},ve={__name:"Register",setup(ue){const n=B(),T=$(),a=r("applicant"),c=r(""),v=r(""),p=r(""),k=r("male"),i=r(""),w=r(""),t=r({}),_=r(!1),g=r(""),M=async()=>{if(t.value={},S(),!(Object.keys(t.value).length>0))try{const f={username:c.value,email:v.value,password:i.value,fullname:p.value,gender:k.value,role:a.value==="recruiter"?"employer":"candidate"},e=await n.register(f);e.success&&(g.value=e.message||"Đăng ký thành công! Vui lòng kiểm tra email để kích hoạt tài khoản.",a.value==="recruiter"?T.push("/employer"):T.push("/job-search"))}catch(f){console.error("Lỗi đăng ký:",f)}},S=()=>{c.value||(t.value.username="Vui lòng nhập tên đăng nhập"),v.value||(t.value.email="Vui lòng nhập email"),p.value||(t.value.fullname="Vui lòng nhập họ và tên"),i.value||(t.value.password="Vui lòng nhập mật khẩu"),i.value!==w.value&&(t.value.confirmPassword="Mật khẩu xác nhận không khớp"),_.value||(t.value.acceptTerms="Vui lòng đồng ý với điều khoản sử dụng")};return(f,e)=>{const b=C("font-awesome-icon"),j=C("router-link");return u(),V("div",A,[l("div",R,[e[19]||(e[19]=l("div",{class:"text-center mb-10"},[l("h1",{class:"text-4xl font-extrabold text-gray-900 mb-3 animate__animated animate__fadeIn"},"Đăng ký tài khoản"),l("p",{class:"text-lg text-gray-600"},"Tạo tài khoản mới để sử dụng đầy đủ tính năng của JobHub")],-1)),l("div",X,[d(n).error?(u(),q(N,{key:0,variant:"error",message:d(n).error,show:!!d(n).error,class:"mb-6"},null,8,["message","show"])):h("",!0),g.value?(u(),q(N,{key:1,variant:"success",message:g.value,show:!!g.value,class:"mb-6"},null,8,["message","show"])):h("",!0),l("div",F,[e[13]||(e[13]=l("label",{class:"block text-sm font-semibold text-gray-700 mb-3"},"Bạn là?",-1)),l("div",G,[l("div",{class:x(["flex-1 rounded-lg border-2 p-5 cursor-pointer transition-all duration-200 transform hover:scale-105",{"border-blue-500 bg-blue-50 shadow-md":a.value==="applicant","border-gray-200 hover:border-blue-300":a.value!=="applicant"}]),onClick:e[0]||(e[0]=s=>a.value="applicant")},[l("div",J,[l("div",K,[o(b,{icon:"user",class:"text-blue-600 text-lg"})]),e[9]||(e[9]=l("h3",{class:"font-bold text-lg"},"Ứng viên",-1))]),e[10]||(e[10]=l("p",{class:"text-sm text-gray-600"},"Tìm kiếm công việc phù hợp từ nhà tuyển dụng uy tín",-1))],2),l("div",{class:x(["flex-1 rounded-lg border-2 p-5 cursor-pointer transition-all duration-200 transform hover:scale-105",{"border-blue-500 bg-blue-50 shadow-md":a.value==="recruiter","border-gray-200 hover:border-blue-300":a.value!=="recruiter"}]),onClick:e[1]||(e[1]=s=>a.value="recruiter")},[l("div",L,[l("div",O,[o(b,{icon:"building",class:"text-blue-600 text-lg"})]),e[11]||(e[11]=l("h3",{class:"font-bold text-lg"},"Nhà tuyển dụng",-1))]),e[12]||(e[12]=l("p",{class:"text-sm text-gray-600"},"Đăng tin tuyển dụng và tìm kiếm ứng viên phù hợp",-1))],2)])]),l("form",{onSubmit:D(M,["prevent"]),class:"transform transition-all duration-300"},[l("div",Q,[l("div",W,[o(m,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=s=>c.value=s),label:"Tên đăng nhập",placeholder:"Tên đăng nhập",required:"",prefixIcon:"user",error:t.value.username,class:"transform transition-all duration-200 focus-within:scale-105"},null,8,["modelValue","error"]),o(m,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=s=>v.value=s),type:"email",label:"Email",placeholder:"Email của bạn",autocomplete:"email",required:"",prefixIcon:"envelope",error:t.value.email,class:"transform transition-all duration-200 focus-within:scale-105"},null,8,["modelValue","error"])]),l("div",Y,[o(m,{modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=s=>p.value=s),label:"Họ và tên",placeholder:"Họ và tên đầy đủ",required:"",prefixIcon:"user",error:t.value.fullname,class:"transform transition-all duration-200 focus-within:scale-105"},null,8,["modelValue","error"]),l("div",null,[e[15]||(e[15]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Giới tính",-1)),l("div",Z,[U(l("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>k.value=s),class:x(["appearance-none block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",{"border-red-500":t.value.gender}])},e[14]||(e[14]=[l("option",{value:"male"},"Nam",-1),l("option",{value:"female"},"Nữ",-1),l("option",{value:"other"},"Khác",-1)]),2),[[E,k.value]]),l("div",ee,[o(b,{icon:"venus-mars",class:"text-gray-400"})]),l("div",le,[o(b,{icon:"chevron-down",class:"text-gray-400"})])]),t.value.gender?(u(),V("div",te,I(t.value.gender),1)):h("",!0)])]),l("div",se,[o(m,{modelValue:i.value,"onUpdate:modelValue":e[6]||(e[6]=s=>i.value=s),type:"password",label:"Mật khẩu",placeholder:"Tạo mật khẩu",autocomplete:"new-password",required:"",prefixIcon:"lock",error:t.value.password,class:"transform transition-all duration-200 focus-within:scale-105"},null,8,["modelValue","error"]),o(m,{modelValue:w.value,"onUpdate:modelValue":e[7]||(e[7]=s=>w.value=s),type:"password",label:"Xác nhận mật khẩu",placeholder:"Xác nhận mật khẩu",autocomplete:"new-password",required:"",prefixIcon:"lock",error:t.value.confirmPassword,class:"transform transition-all duration-200 focus-within:scale-105"},null,8,["modelValue","error"])]),l("div",oe,[U(l("input",{id:"terms",type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=s=>_.value=s),class:x(["h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all",{"border-red-500":t.value.acceptTerms}]),required:""},null,2),[[H,_.value]]),e[16]||(e[16]=l("label",{for:"terms",class:"ml-3 block text-sm text-gray-700"},[y(" Tôi đồng ý với "),l("a",{href:"#",class:"text-blue-600 hover:text-blue-800 font-medium"},"Điều khoản sử dụng"),y(" và "),l("a",{href:"#",class:"text-blue-600 hover:text-blue-800 font-medium"},"Chính sách bảo mật")],-1))]),t.value.acceptTerms?(u(),V("div",re,I(t.value.acceptTerms),1)):h("",!0),l("div",ae,[o(z,{type:"submit",variant:"primary",size:"lg",label:"Đăng ký tài khoản",loading:d(n).loading,disabled:d(n).loading,class:"w-full transform transition-all duration-300 hover:shadow-lg hover:scale-105 rounded-lg py-4 text-lg font-bold"},null,8,["loading","disabled"])])])],32)]),l("div",ne,[l("p",ie,[e[18]||(e[18]=y(" Đã có tài khoản? ")),o(j,{to:"/login",class:"font-bold text-blue-600 hover:text-blue-800 transition-colors duration-300 ml-1"},{default:P(()=>e[17]||(e[17]=[y(" Đăng nhập ngay ")])),_:1})])])])])}}};export{ve as default};
