import{u as B,x as M,k as p,D as T,o as j,c as a,a as s,e as t,s as L,d as r,z as S,q,g as u,m as h,p as b,n as v,b as _,t as d,F as D,h as z,v as N}from"./index-BNvAsbeg.js";import{_ as m}from"./BaseInput-BwCqQJq8.js";import{_ as E}from"./BaseButton-DrQz2XVD.js";const H={class:"min-h-screen bg-gray-50 py-12"},R={class:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8"},F={class:"bg-white shadow-xl rounded-lg overflow-hidden"},$={class:"p-8"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},G={class:"space-y-8"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},Y={class:"space-y-8"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},Q={key:0,class:"mt-2 text-sm text-red-600"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},W={key:0,class:"mt-2 text-sm text-red-600"},X=["value"],Z={key:0,class:"mt-2 text-sm text-red-600"},J={key:0,class:"mt-2 text-sm text-red-600"},P={class:"space-y-4"},ee={class:"mt-1 flex items-center"},te={class:"inline-block h-12 w-12 rounded-full overflow-hidden bg-gray-100"},ne=["src"],oe={key:1,class:"h-full w-full text-gray-300",fill:"currentColor",viewBox:"0 0 24 24"},le={key:0,class:"mt-2 text-sm text-red-600"},se={class:"space-y-4"},ie={class:"mt-1 flex flex-col space-y-2"},ae={class:"w-full h-32 rounded-lg overflow-hidden bg-gray-100"},re=["src"],de={key:1,class:"w-full h-full flex items-center justify-center"},ue={key:0,class:"mt-2 text-sm text-red-600"},ce={class:"space-y-4"},me={class:"mt-1 flex flex-col space-y-2"},ge={class:"w-full h-48 rounded-lg overflow-hidden bg-gray-100"},pe=["src"],he={key:1,class:"w-full h-full flex items-center justify-center"},ve={key:0,class:"mt-2 text-sm text-red-600"},fe={class:"pt-6 border-t border-gray-200"},ye={class:"flex justify-end"},we={__name:"CreateEnterprise",setup(be){const k=B(),w=M(),g=p(!1),c=p(""),n=p({}),o=T({company_name:"",tax:"",address:"",phone_number:"",email_company:"",business_certificate:null,field_of_activity:"",scale:"",description:"",city:"",link_web_site:"",logo:null,background_image:null}),x=p([]),V=async()=>{try{const e=await(await fetch("https://provinces.open-api.vn/api/?depth=1")).json();x.value=e}catch(i){console.error("Lỗi khi lấy danh sách tỉnh thành:",i)}};j(()=>{V()});const C=async()=>{var i,e;if(c.value="",n.value={},o.company_name||(n.value.company_name="Vui lòng nhập tên công ty"),o.tax||(n.value.tax="Vui lòng nhập mã số thuế"),o.address||(n.value.address="Vui lòng nhập địa chỉ"),o.phone_number||(n.value.phone_number="Vui lòng nhập số điện thoại"),o.email_company||(n.value.email_company="Vui lòng nhập email"),o.business_certificate||(n.value.business_certificate="Vui lòng tải lên ảnh giấy phép kinh doanh"),o.field_of_activity||(n.value.field_of_activity="Vui lòng chọn lĩnh vực hoạt động"),o.scale||(n.value.scale="Vui lòng chọn quy mô công ty"),o.description||(n.value.description="Vui lòng nhập mô tả công ty"),o.city||(n.value.city="Vui lòng nhập thành phố"),o.logo||(n.value.logo="Vui lòng tải lên logo công ty"),o.background_image||(n.value.background_image="Vui lòng tải lên ảnh nền doanh nghiệp"),!(Object.keys(n.value).length>0))try{g.value=!0,(await w.createEnterprise(o)).success?k.push("/employer"):c.value="Có lỗi xảy ra khi tạo thông tin doanh nghiệp"}catch(l){c.value=((e=(i=l.response)==null?void 0:i.data)==null?void 0:e.message)||"Có lỗi xảy ra khi tạo thông tin doanh nghiệp"}finally{g.value=!1}},f=(i,e)=>{const l=i.target.files[0];if(l){if(l.size>5*1024*1024){n.value[e]="Kích thước file không được vượt quá 5MB";return}if(!l.type.match("image.*")){n.value[e]="Vui lòng chọn file hình ảnh";return}o[e]=l,n.value[e]=""}},U=i=>{if(!i)return!0;try{return new URL(i),n.value.link_web_site="",!0}catch{return n.value.link_web_site="URL không hợp lệ. Vui lòng nhập đúng định dạng (ví dụ: https://example.com)",!1}},y=i=>i?i instanceof File?URL.createObjectURL(i):i:"";return(i,e)=>(s(),a("div",H,[t("div",R,[e[30]||(e[30]=t("div",{class:"text-center mb-12"},[t("h1",{class:"text-3xl font-extrabold text-gray-900 sm:text-4xl"}," Tạo thông tin doanh nghiệp "),t("p",{class:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4"}," Điền đầy đủ thông tin doanh nghiệp của bạn để bắt đầu đăng tin tuyển dụng ")],-1)),t("div",F,[t("div",$,[c.value?(s(),L(S,{key:0,variant:"error",message:c.value,show:!!c.value,class:"mb-8"},null,8,["message","show"])):r("",!0),t("form",{onSubmit:q(C,["prevent"]),class:"space-y-8"},[t("div",null,[e[14]||(e[14]=t("h2",{class:"text-lg font-medium text-gray-900 mb-6"},"Thông tin cơ bản",-1)),t("div",A,[u(m,{modelValue:o.company_name,"onUpdate:modelValue":e[0]||(e[0]=l=>o.company_name=l),label:"Tên công ty",placeholder:"VD: Công ty TNHH ABC",required:"","prefix-icon":"building",error:n.value.company_name,class:"shadow-sm"},null,8,["modelValue","error"]),u(m,{modelValue:o.tax,"onUpdate:modelValue":e[1]||(e[1]=l=>o.tax=l),label:"Mã số thuế",placeholder:"VD: 0123456789",required:"","prefix-icon":"file-invoice",error:n.value.tax,class:"shadow-sm"},null,8,["modelValue","error"])])]),t("div",null,[e[15]||(e[15]=t("h2",{class:"text-lg font-medium text-gray-900 mb-6"},"Thông tin liên hệ",-1)),t("div",G,[u(m,{modelValue:o.address,"onUpdate:modelValue":e[2]||(e[2]=l=>o.address=l),label:"Địa chỉ",placeholder:"VD: Số 123, Đường ABC, Quận XYZ",required:"","prefix-icon":"map-marker-alt",error:n.value.address,class:"shadow-sm"},null,8,["modelValue","error"]),t("div",K,[u(m,{modelValue:o.phone_number,"onUpdate:modelValue":e[3]||(e[3]=l=>o.phone_number=l),label:"Số điện thoại",placeholder:"VD: 0912345678",required:"","prefix-icon":"phone",error:n.value.phone_number,class:"shadow-sm"},null,8,["modelValue","error"]),u(m,{modelValue:o.email_company,"onUpdate:modelValue":e[4]||(e[4]=l=>o.email_company=l),label:"Email công ty",placeholder:"VD: contact@company.com",required:"","prefix-icon":"envelope",error:n.value.email_company,class:"shadow-sm"},null,8,["modelValue","error"])])])]),t("div",null,[e[29]||(e[29]=t("h2",{class:"text-lg font-medium text-gray-900 mb-6"},"Thông tin bổ sung",-1)),t("div",Y,[t("div",O,[t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lĩnh vực hoạt động",-1)),h(t("select",{"onUpdate:modelValue":e[5]||(e[5]=l=>o.field_of_activity=l),class:v(["mt-1 block w-full pl-3 pr-10 py-3 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md shadow-sm",{"border-red-500":n.value.field_of_activity}])},e[16]||(e[16]=[_('<option value="">Chọn lĩnh vực</option><option value="Công nghệ thông tin">Công nghệ thông tin</option><option value="Tài chính - Ngân hàng">Tài chính - Ngân hàng</option><option value="Marketing - Truyền thông">Marketing - Truyền thông</option><option value="Giáo dục">Giáo dục</option><option value="Y tế - Chăm sóc sức khỏe">Y tế - Chăm sóc sức khỏe</option><option value="Sản xuất - Công nghiệp">Sản xuất - Công nghiệp</option><option value="Bán lẻ - Thương mại">Bán lẻ - Thương mại</option><option value="Khác">Khác</option>',9)]),2),[[b,o.field_of_activity]]),n.value.field_of_activity?(s(),a("div",Q,d(n.value.field_of_activity),1)):r("",!0)])]),t("div",I,[t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Quy mô công ty",-1)),h(t("select",{"onUpdate:modelValue":e[6]||(e[6]=l=>o.scale=l),class:v(["mt-1 block w-full pl-3 pr-10 py-3 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md shadow-sm",{"border-red-500":n.value.scale}])},e[18]||(e[18]=[_('<option value="">Chọn quy mô</option><option value="1-10">1-10 nhân viên</option><option value="11-50">11-50 nhân viên</option><option value="51-200">51-200 nhân viên</option><option value="201-500">201-500 nhân viên</option><option value="501-1000">501-1000 nhân viên</option><option value="1000+">1000+ nhân viên</option>',7)]),2),[[b,o.scale]]),n.value.scale?(s(),a("div",W,d(n.value.scale),1)):r("",!0)]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Thành phố",-1)),h(t("select",{"onUpdate:modelValue":e[7]||(e[7]=l=>o.city=l),class:v(["mt-1 block w-full pl-3 pr-10 py-3 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md shadow-sm",{"border-red-500":n.value.city}])},[e[20]||(e[20]=t("option",{value:""},"Chọn thành phố",-1)),(s(!0),a(D,null,z(x.value,l=>(s(),a("option",{key:l.code,value:l.name},d(l.name),9,X))),128))],2),[[b,o.city]]),n.value.city?(s(),a("div",Z,d(n.value.city),1)):r("",!0)])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Mô tả công ty",-1)),h(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=l=>o.description=l),rows:"4",class:v(["mt-1 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",{"border-red-500":n.value.description}]),placeholder:"Mô tả ngắn gọn về lĩnh vực, sản phẩm, dịch vụ và văn hóa công ty của bạn..."},null,2),[[N,o.description]]),n.value.description?(s(),a("div",J,d(n.value.description),1)):r("",!0)]),t("div",P,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700"},"Logo công ty",-1)),t("div",ee,[t("span",te,[o.logo?(s(),a("img",{key:0,src:y(o.logo),class:"h-full w-full object-cover",alt:"Logo preview"},null,8,ne)):(s(),a("svg",oe,e[23]||(e[23]=[t("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])))]),t("input",{type:"file",accept:"image/*",onChange:e[9]||(e[9]=l=>f(l,"logo")),class:"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},null,32)]),n.value.logo?(s(),a("div",le,d(n.value.logo),1)):r("",!0)]),t("div",se,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700"},"Ảnh nền doanh nghiệp",-1)),t("div",ie,[t("div",ae,[o.background_image?(s(),a("img",{key:0,src:y(o.background_image),class:"w-full h-full object-cover",alt:"Background preview"},null,8,re)):(s(),a("div",de,e[25]||(e[25]=[t("svg",{class:"h-12 w-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])))]),t("input",{type:"file",accept:"image/*",onChange:e[10]||(e[10]=l=>f(l,"background_image")),class:"bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},null,32)]),n.value.background_image?(s(),a("div",ue,d(n.value.background_image),1)):r("",!0)]),t("div",ce,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700"},"Giấy phép kinh doanh (Ảnh)",-1)),t("div",me,[t("div",ge,[o.business_certificate?(s(),a("img",{key:0,src:y(o.business_certificate),class:"w-full h-full object-contain",alt:"Business certificate preview"},null,8,pe)):(s(),a("div",he,e[27]||(e[27]=[t("svg",{class:"h-12 w-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])))]),t("input",{type:"file",accept:"image/*",onChange:e[11]||(e[11]=l=>f(l,"business_certificate")),class:"bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},null,32)]),n.value.business_certificate?(s(),a("div",ve,d(n.value.business_certificate),1)):r("",!0)]),u(m,{modelValue:o.link_web_site,"onUpdate:modelValue":e[12]||(e[12]=l=>o.link_web_site=l),label:"Website công ty",placeholder:"VD: https://company.com","prefix-icon":"globe",error:n.value.link_web_site,class:"shadow-sm",onBlur:e[13]||(e[13]=l=>U(o.link_web_site))},null,8,["modelValue","error"])])]),t("div",fe,[t("div",ye,[u(E,{type:"submit",variant:"primary",label:"Tạo thông tin doanh nghiệp",loading:g.value,disabled:g.value,class:"w-full md:w-auto px-8 py-3 text-base font-medium"},null,8,["loading","disabled"])])])],32)])])])]))}};export{we as default};
