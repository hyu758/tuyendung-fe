import{_ as Y,k as h,o as Z,D as B,c as n,a as d,e,f as _,m,v as Q,p as M,F as T,h as P,t as p,A as ne,K as q,q as de,B as ue,u as ce,j as ye,i as pe,E as ge,G as X,C as G,r as me,M as fe,d as v,n as S,g as A,b as ve,w as be}from"./index-Hv-5ffem.js";import{u as xe}from"./address-Bf7iS8Lu.js";import{u as he}from"./field-C5vAfDjy.js";import{u as _e}from"./post-BPehyViq.js";const we={class:"bg-white rounded-xl shadow-sm p-5 transition-all hover:shadow-md relative"},ke={class:"flex justify-between items-center mb-5"},qe={class:"relative"},$e={class:"relative"},Ce=["value"],Ve={class:"relative"},Se=["value"],Te={class:"space-y-2 max-h-52 overflow-y-auto bg-gray-50 rounded-lg p-2.5 border border-gray-100"},Pe=["id","value"],Ue=["for"],De={class:"space-y-2 max-h-72 overflow-y-auto bg-gray-50 rounded-lg p-2.5 border border-gray-100"},Fe={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},ze={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Me={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Le={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Ke={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Ne={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Je={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Ae={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Be={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Ie={class:"space-y-2 bg-gray-50 rounded-lg p-2.5 border border-gray-100"},Ee=["id","value"],Re=["for"],He={__name:"JobFilter",emits:["filter","close"],setup(j,{emit:g}){const $=g,D=h([]),C=h([]);async function L(){try{const s=await xe().fetchProvinces();s!=null&&s.data&&(D.value=s.data.map(i=>i.name));const x=await he().fetchFields();console.log(x),x!=null&&x.data&&(C.value=x.data.map(i=>i.name))}catch(y){console.error("Lỗi khi tải dữ liệu:",y)}}Z(()=>{L()});const V=["Toàn thời gian","Bán thời gian","Thực tập","Freelance","Remote"],k=["Không yêu cầu kinh nghiệm","Dưới 1 năm","1-2 năm","3-5 năm","Trên 5 năm"],l=B({q:"",city:"",position:"",type_working:[],salary_type:"",experience:""}),b=()=>{const y={page:1,page_size:10,sort_by:"created_at",sort_order:"desc",all:!0};if(l.q&&l.q.trim()&&(y.q=l.q.trim()),l.city&&(y.city=l.city),l.position&&(y.position=l.position),l.type_working.length>0&&(y.type_working=l.type_working.join(",")),l.experience&&(y.experience=l.experience),l.salary_type)if(l.salary_type==="negotiable")y.negotiable="true";else{const[s,o]=l.salary_type.split("-").map(Number);s>0&&(y.salary_min=s),o<999&&(y.salary_max=o)}$("filter",y)},K=()=>{b(),$("close")},z=()=>{l.q="",l.city="",l.position="",l.type_working=[],l.salary_type="",l.experience="",$("filter",{page:1,page_size:10,sort_by:"created_at",sort_order:"desc",all:!0})};return(y,s)=>(d(),n("div",we,[e("div",ke,[s[16]||(s[16]=e("h3",{class:"text-lg font-semibold text-gray-800 flex items-center"},[e("i",{class:"fas fa-filter text-blue-500 mr-2"}),_(" Lọc kết quả ")],-1)),e("button",{onClick:s[0]||(s[0]=o=>y.$emit("close")),class:"lg:hidden w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors"},s[15]||(s[15]=[e("i",{class:"fas fa-times text-gray-500"},null,-1)]))]),e("form",{onSubmit:de(b,["prevent"]),class:"space-y-5"},[e("div",null,[s[18]||(s[18]=e("label",{for:"keyword",class:"block text-sm font-medium text-gray-700 mb-1.5"},"Từ khóa",-1)),e("div",qe,[s[17]||(s[17]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-search text-gray-400"})],-1)),m(e("input",{id:"keyword","onUpdate:modelValue":s[1]||(s[1]=o=>l.q=o),type:"text",placeholder:"Tiêu đề, kỹ năng, công ty...",class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"},null,512),[[Q,l.q]])])]),e("div",null,[s[22]||(s[22]=e("label",{for:"location",class:"block text-sm font-medium text-gray-700 mb-1.5"},"Địa điểm",-1)),e("div",$e,[s[20]||(s[20]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-map-marker-alt text-gray-400"})],-1)),m(e("select",{id:"location","onUpdate:modelValue":s[2]||(s[2]=o=>l.city=o),class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white transition-all"},[s[19]||(s[19]=e("option",{value:""},"Tất cả địa điểm",-1)),(d(!0),n(T,null,P(D.value,o=>(d(),n("option",{key:o,value:o},p(o),9,Ce))),128))],512),[[M,l.city]]),s[21]||(s[21]=e("div",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center"},[e("i",{class:"fas fa-chevron-down text-gray-400 text-xs"})],-1))])]),e("div",null,[s[26]||(s[26]=e("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-1.5"},"Ngành nghề",-1)),e("div",Ve,[s[24]||(s[24]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-briefcase text-gray-400"})],-1)),m(e("select",{id:"category","onUpdate:modelValue":s[3]||(s[3]=o=>l.position=o),class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white transition-all"},[s[23]||(s[23]=e("option",{value:""},"Tất cả ngành nghề",-1)),(d(!0),n(T,null,P(C.value,o=>(d(),n("option",{key:o,value:o},p(o),9,Se))),128))],512),[[M,l.position]]),s[25]||(s[25]=e("div",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center"},[e("i",{class:"fas fa-chevron-down text-gray-400 text-xs"})],-1))])]),e("div",null,[s[27]||(s[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Loại công việc",-1)),e("div",Te,[(d(),n(T,null,P(V,o=>e("div",{key:o,class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},[m(e("input",{id:o,"onUpdate:modelValue":s[4]||(s[4]=x=>l.type_working=x),value:o,type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-colors"},null,8,Pe),[[ne,l.type_working]]),e("label",{for:o,class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"},p(o),9,Ue)])),64))])]),e("div",null,[s[37]||(s[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mức lương",-1)),e("div",De,[e("div",Fe,[m(e("input",{id:"salary-all","onUpdate:modelValue":s[5]||(s[5]=o=>l.salary_type=o),value:"",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[q,l.salary_type]]),s[28]||(s[28]=e("label",{for:"salary-all",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," Tất cả ",-1))]),e("div",ze,[m(e("input",{id:"salary-under-10","onUpdate:modelValue":s[6]||(s[6]=o=>l.salary_type=o),value:"0-10",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[q,l.salary_type]]),s[29]||(s[29]=e("label",{for:"salary-under-10",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," Dưới 10 triệu ",-1))]),e("div",Me,[m(e("input",{id:"salary-10-15","onUpdate:modelValue":s[7]||(s[7]=o=>l.salary_type=o),value:"10-15",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[q,l.salary_type]]),s[30]||(s[30]=e("label",{for:"salary-10-15",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 10 - 15 triệu ",-1))]),e("div",Le,[m(e("input",{id:"salary-15-20","onUpdate:modelValue":s[8]||(s[8]=o=>l.salary_type=o),value:"15-20",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[q,l.salary_type]]),s[31]||(s[31]=e("label",{for:"salary-15-20",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 15 - 20 triệu ",-1))]),e("div",Ke,[m(e("input",{id:"salary-20-25","onUpdate:modelValue":s[9]||(s[9]=o=>l.salary_type=o),value:"20-25",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[q,l.salary_type]]),s[32]||(s[32]=e("label",{for:"salary-20-25",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 20 - 25 triệu ",-1))]),e("div",Ne,[m(e("input",{id:"salary-25-30","onUpdate:modelValue":s[10]||(s[10]=o=>l.salary_type=o),value:"25-30",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[q,l.salary_type]]),s[33]||(s[33]=e("label",{for:"salary-25-30",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 25 - 30 triệu ",-1))]),e("div",Je,[m(e("input",{id:"salary-30-50","onUpdate:modelValue":s[11]||(s[11]=o=>l.salary_type=o),value:"30-50",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[q,l.salary_type]]),s[34]||(s[34]=e("label",{for:"salary-30-50",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 30 - 50 triệu ",-1))]),e("div",Ae,[m(e("input",{id:"salary-above-50","onUpdate:modelValue":s[12]||(s[12]=o=>l.salary_type=o),value:"50-999",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[q,l.salary_type]]),s[35]||(s[35]=e("label",{for:"salary-above-50",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," Trên 50 triệu ",-1))]),e("div",Be,[m(e("input",{id:"salary-negotiable","onUpdate:modelValue":s[13]||(s[13]=o=>l.salary_type=o),value:"negotiable",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[q,l.salary_type]]),s[36]||(s[36]=e("label",{for:"salary-negotiable",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," Thỏa thuận ",-1))])])]),e("div",null,[s[38]||(s[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kinh nghiệm",-1)),e("div",Ie,[(d(),n(T,null,P(k,o=>e("div",{key:o,class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},[m(e("input",{id:o,"onUpdate:modelValue":s[14]||(s[14]=x=>l.experience=x),value:o,type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,8,Ee),[[q,l.experience]]),e("label",{for:o,class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"},p(o),9,Re)])),64))])]),e("div",{class:"grid grid-cols-2 gap-3 pt-2"},[e("button",{type:"button",onClick:z,class:"px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all flex items-center justify-center"},s[39]||(s[39]=[e("i",{class:"fas fa-redo-alt mr-2"},null,-1),_(" Xóa bộ lọc ")])),s[40]||(s[40]=e("button",{type:"submit",class:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all flex items-center justify-center"},[e("i",{class:"fas fa-search mr-2"}),_(" Áp dụng ")],-1))]),e("div",{class:"lg:hidden mt-4 sticky bottom-0 bg-white pt-2 pb-1 border-t border-gray-100"},[e("button",{type:"button",onClick:K,class:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all flex items-center justify-center"},s[41]||(s[41]=[e("i",{class:"fas fa-check mr-2"},null,-1),_(" Áp dụng và đóng ")]))])],32)]))}},W=Y(He,[["__scopeId","data-v-7348cdc4"]]),Oe={class:"bg-gray-50 py-8 min-h-screen"},Xe={class:"container mx-auto px-4"},Ge={class:"bg-white rounded-xl shadow-sm p-5 mb-8 transition-all hover:shadow-md"},We={class:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0"},Ye={class:"flex-1 relative"},Ze={class:"lg:hidden sticky top-0 z-10 bg-gray-50 py-2"},Qe={class:"flex justify-between items-center bg-white rounded-xl shadow-sm p-4 mb-4"},je={class:"text-sm font-medium text-gray-800"},et={key:0,class:"h-5 bg-gray-200 rounded w-32 animate-pulse"},tt={key:1,class:"flex items-center"},st={class:"flex items-center space-x-3"},rt={class:"relative"},lt={class:"flex flex-col lg:flex-row space-y-6 lg:space-y-0 lg:space-x-6"},at={class:"lg:hidden w-full"},ot={key:0,class:"mt-4"},it={class:"hidden lg:block lg:w-1/4 lg:sticky lg:top-4 lg:self-start"},nt={class:"lg:w-3/4"},dt={class:"hidden lg:block bg-white rounded-xl shadow-sm p-5 mb-6"},ut={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0"},ct={class:"text-lg font-semibold text-gray-800"},yt={key:0,class:"h-7 bg-gray-200 rounded w-48 animate-pulse"},pt={key:1,class:"flex items-center"},gt={class:"flex items-center space-x-2"},mt={class:"relative"},ft={key:0,class:"space-y-6"},vt={key:1,class:"bg-white rounded-xl shadow-sm p-8 text-center"},bt={key:2},xt={class:"space-y-4"},ht={class:"relative"},_t=["onClick"],wt={class:"flex flex-col md:flex-row md:items-center"},kt={class:"mr-5 mb-4 md:mb-0"},qt={key:0,class:"w-16 h-16 rounded-lg overflow-hidden bg-white border border-gray-100 flex items-center justify-center"},$t=["src","alt"],Ct={key:1,class:"w-16 h-16 rounded-lg flex items-center justify-center bg-blue-100 text-blue-700 font-bold text-xl"},Vt={class:"flex-grow"},St={class:"text-lg font-semibold text-gray-900 mb-1 line-clamp-1 hover:text-blue-600 transition-colors"},Tt={class:"text-gray-600 text-sm mb-1"},Pt={class:"flex gap-2 items-center"},Ut={key:0},Dt={key:1},Ft={class:"flex flex-wrap gap-2 mt-3"},zt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-gray-100 text-gray-800"},Mt={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-gray-100 text-gray-800"},Lt={key:2,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-blue-100 text-blue-800"},Kt={class:"mt-4 md:mt-0 md:ml-4"},Nt={key:0,class:"text-green-600 font-medium"},Jt={key:1,class:"text-green-600 font-medium"},At={class:"text-gray-500 text-xs mt-1"},Bt={key:0,class:"flex justify-center mt-10"},It={class:"flex items-center space-x-2"},Et=["disabled"],Rt={key:1,class:"px-2"},Ht=["onClick"],Ot={key:2,class:"px-2"},Xt=["disabled"],Gt={class:"text-sm text-gray-500 ml-4 flex items-center"},Wt={__name:"JobSearch",setup(j){const g=ue(),$=ce(),D=_e(),C=ye(),L=pe(),V=h(!0),k=h(!0),l=h([]),b=h(1),K=h(10),z=h(0),y=B({sort_by:g.query.sort_by||"created_at",sort_order:"desc"});h([]);const s=h(!1),o=h(!1),x=h(!1),i=B({q:g.query.q||"",city:g.query.city||"",position:g.query.position||"",experience:g.query.experience||"",type_working:g.query.type_working||"",salary_min:g.query.salary_min||"",salary_max:g.query.salary_max||"",scales:g.query.scales||"",field:g.query.field||"",page:g.query.page||1,page_size:g.query.page_size||10,sort_by:g.query.sort_by||"created_at",sort_order:"desc",all:g.query.all!=="false"}),w=h(1),U=ge(()=>{const t=Math.floor(2.5),u=w.value;let a=Math.max(b.value-t,1),f=a+5-1;return f>u&&(f=u,a=Math.max(f-5+1,1)),Array.from({length:f-a+1},(N,J)=>a+J)}),ee=r=>r?r.split(" ").map(t=>t[0]).join("").substring(0,2).toUpperCase():"JH",te=(r,t)=>{if(!r&&!t)return"Thỏa thuận";const u=a=>a?(a/1e6).toLocaleString("vi-VN"):"";return r&&t?`${u(r)} - ${u(t)} triệu`:r?`Từ ${u(r)} triệu`:t?`Đến ${u(t)} triệu`:"Thỏa thuận"},se=r=>{if(!r)return"";const t=new Date,u=new Date(r),a=Math.abs(t-u),f=Math.ceil(a/(1e3*60*60*24));return f===0?"Hôm nay":f===1?"Hôm qua":f<7?`${f} ngày trước`:f<30?`${Math.floor(f/7)} tuần trước`:u.toLocaleDateString("vi-VN")},re=async()=>{var r;if(L.isAuthenticated){x.value=!0;try{(await G.get("/api/criteria/")).data.status===200&&(o.value=!0,console.log("User has criteria:",o.value))}catch(t){((r=t.response)==null?void 0:r.status)!==404&&console.error("Lỗi khi lấy tiêu chí tìm việc:",t),console.log("User does not have criteria or error occurred")}finally{x.value=!1,console.log("Criteria loading completed, isCriteriaLoading:",x.value)}}};Z(async()=>{k.value=!0,await re(),I()}),X(()=>g.query,r=>{i.q=r.q||"",i.city=r.city||"",i.position=r.position||"",i.experience=r.experience||"",i.type_working=r.type_working||"",i.salary_min=r.salary_min||"",i.salary_max=r.salary_max||"",i.page=r.page||1,i.page_size=r.page_size||10,i.sort_by=r.sort_by||"created-at",i.sort_order=r.sort_order||"desc",i.all=r.all!=="false",I()},{deep:!0}),X(()=>y.sort_by,()=>{i.sort_by=y.sort_by,i.page=1,$.push({path:"/job-search",query:{...i}})});const I=async()=>{k.value&&(k.value=!0),V.value=!0;const r=Date.now();try{const u=(await G.get("/api/posts/search/",{params:i})).data.data;console.log("API response data:",u),u.results&&u.results.length>0&&console.log("Sample matches_criteria values:",u.results.map(c=>({id:c.id,title:c.title,matches_criteria:c.matches_criteria})));const a=u.results.map(c=>({id:c.id,title:c.title,location:`${c.city}${c.district?`, ${c.district}`:""}`,type_working:c.type_working,salary_min:c.salary_min,salary_max:c.salary_max,publishDate:new Date(c.created_at),experience:c.experience,description:c.description,required:c.required,interest:c.interest,isFeatured:!1,isSaved:c.is_saved||!1,is_enterprise_premium:c.is_enterprise_premium,enterprise_name:c.enterprise_name||"",enterprise_logo:c.enterprise_logo||"",matchesCriteria:c.matches_criteria===!0})),f=u.total_pages,N=u.page,J=u.page_size,ie=u.total,H=Date.now()-r,O=1e3;H<O&&await new Promise(c=>setTimeout(c,O-H)),l.value=a,w.value=f,b.value=N,K.value=J,z.value=ie}catch(t){console.error("Không thể lấy danh sách việc làm:",t),C.error("Có lỗi xảy ra khi tải danh sách việc làm"),l.value=[]}finally{V.value=!1,k.value=!1}},E=()=>{k.value=!1;const r={page:1,page_size:10,sort_by:"created_at",sort_order:"desc",all:!0};i.q&&i.q.trim()&&(r.q=i.q.trim()),Object.assign(i,r),$.push({path:"/job-search",query:r})},R=r=>{k.value=!1;const t={page:1,page_size:i.page_size,sort_by:r.sort_by||i.sort_by||"created_at",sort_order:r.sort_order||i.sort_order||"desc",all:r.all!==void 0?r.all:!0};r.q&&(t.q=r.q),r.city&&(t.city=r.city),r.position&&(t.position=r.position),r.experience&&(t.experience=r.experience),r.type_working&&(t.type_working=r.type_working),r.salary_min&&(t.salary_min=r.salary_min),r.salary_max&&(t.salary_max=r.salary_max),r.negotiable&&(t.negotiable=r.negotiable),r.scales&&(t.scales=r.scales),r.field&&(t.field=r.field),Object.assign(i,t),$.push({path:"/job-search",query:t})},le=()=>{k.value=!1,i.q="",i.city="",i.position="",i.experience="",i.type_working="",i.salary_min="",i.salary_max="",i.negotiable=!1,i.scales="",i.field="";const r={page:1,page_size:10,sort_by:"created_at",sort_order:"desc",all:!0};Object.assign(i,r),y.sort_by="created_at",$.push({path:"/job-search",query:r})},F=r=>{r<1||r>w.value||(k.value=!1,i.page=r,$.push({path:"/job-search",query:{...i}}))},ae=async r=>{try{const t=l.value.findIndex(u=>u.id===r.id);if(t===-1)return;if(l.value[t].isSaved){const u=await D.deleteSavedPostByPostId(r.id);u.success?(l.value[t].isSaved=!1,C.success("Đã bỏ lưu việc làm thành công")):C.error(u.error)}else{const u=await D.savePost(r.id);u.success?(l.value[t].isSaved=!0,C.success("Đã lưu việc làm thành công")):C.error(u.error)}}catch(t){console.error("Error handling save job:",t),C.error("Có lỗi xảy ra khi thực hiện thao tác")}},oe=()=>{s.value=!s.value};return(r,t)=>{const u=me("router-link");return d(),n("div",Oe,[e("div",Xe,[t[29]||(t[29]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl md:text-3xl font-bold text-gray-900 mb-2"},"Tìm kiếm việc làm"),e("p",{class:"text-gray-600"},"Khám phá cơ hội nghề nghiệp phù hợp với bạn")],-1)),e("div",Ge,[e("div",We,[e("div",Ye,[t[8]||(t[8]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-search text-gray-400"})],-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>i.q=a),type:"text",placeholder:"Tiêu đề công việc, vị trí, kỹ năng...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",onKeyup:fe(E,["enter"])},null,544),[[Q,i.q]])]),e("div",null,[e("button",{onClick:E,class:"w-full px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-all transform active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"},t[9]||(t[9]=[e("div",{class:"flex items-center justify-center"},[e("i",{class:"fas fa-search mr-2"}),_(" Tìm kiếm ")],-1)]))])])]),e("div",Ze,[e("div",Qe,[e("div",je,[V.value?(d(),n("div",et)):(d(),n("span",tt,[t[10]||(t[10]=e("i",{class:"fas fa-clipboard-list text-blue-500 mr-2"},null,-1)),_(" "+p(l.value.length===0?"Không có kết quả":`${l.value.length} việc làm`),1)]))]),e("div",st,[e("div",rt,[m(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>y.sort_by=a),class:"pl-2 pr-6 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 appearance-none cursor-pointer bg-white transition-all"},t[11]||(t[11]=[e("option",{value:"created_at"},"Mới nhất",-1),e("option",{value:"salary_max"},"Lương cao",-1)]),512),[[M,y.sort_by]]),t[12]||(t[12]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-1 text-gray-700"},[e("i",{class:"fas fa-chevron-down text-xs"})],-1))])])])]),e("div",lt,[e("div",at,[e("button",{onClick:oe,class:"w-full flex items-center justify-between px-4 py-3 bg-white rounded-xl shadow-sm hover:shadow-md transition-all"},[t[13]||(t[13]=e("span",{class:"flex items-center font-medium text-gray-800"},[e("i",{class:"fas fa-filter text-blue-500 mr-2"}),_(" Bộ lọc tìm kiếm ")],-1)),e("i",{class:S(["fas",s.value?"fa-chevron-up":"fa-chevron-down"])},null,2)]),s.value?(d(),n("div",ot,[A(W,{onFilter:R,onClose:t[2]||(t[2]=a=>s.value=!1)})])):v("",!0)]),e("div",it,[A(W,{onFilter:R})]),e("div",nt,[e("div",dt,[e("div",ut,[e("h2",ct,[V.value?(d(),n("div",yt)):(d(),n("span",pt,[t[14]||(t[14]=e("i",{class:"fas fa-clipboard-list text-blue-500 mr-2"},null,-1)),_(" "+p(l.value.length===0?"Không có kết quả":`Tìm thấy ${l.value.length} việc làm`),1)]))]),e("div",gt,[t[17]||(t[17]=e("label",{for:"sort",class:"text-sm text-gray-600"},"Sắp xếp:",-1)),e("div",mt,[m(e("select",{id:"sort","onUpdate:modelValue":t[3]||(t[3]=a=>y.sort_by=a),class:"pl-3 pr-8 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none cursor-pointer bg-white transition-all"},t[15]||(t[15]=[e("option",{value:"created_at"},"Mới nhất",-1),e("option",{value:"salary_max"},"Lương cao đến thấp",-1)]),512),[[M,y.sort_by]]),t[16]||(t[16]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[e("i",{class:"fas fa-chevron-down text-xs"})],-1))])])])]),V.value?(d(),n("div",ft,[(d(),n(T,null,P(3,a=>e("div",{key:`skeleton-${a}`,class:"bg-white rounded-xl shadow-sm p-5 animate-pulse"},t[18]||(t[18]=[ve('<div class="flex flex-col md:flex-row md:items-center" data-v-30edd8f5><div class="md:w-16 md:h-16 w-12 h-12 bg-gray-200 rounded-lg mb-4 md:mb-0 md:mr-4" data-v-30edd8f5></div><div class="flex-grow" data-v-30edd8f5><div class="h-6 bg-gray-200 rounded w-3/4 mb-3" data-v-30edd8f5></div><div class="h-4 bg-gray-200 rounded w-1/2 mb-2" data-v-30edd8f5></div><div class="h-4 bg-gray-200 rounded w-1/4" data-v-30edd8f5></div></div><div class="mt-4 md:mt-0 md:ml-4" data-v-30edd8f5><div class="h-8 bg-gray-200 rounded w-24" data-v-30edd8f5></div></div></div>',1)]))),64))])):v("",!0),!V.value&&l.value.length===0?(d(),n("div",vt,[t[20]||(t[20]=e("div",{class:"text-5xl text-blue-500 opacity-80 mb-4"},[e("i",{class:"fas fa-search"})],-1)),t[21]||(t[21]=e("h3",{class:"text-xl font-semibold text-gray-800 mb-2"},"Không tìm thấy việc làm phù hợp",-1)),t[22]||(t[22]=e("p",{class:"text-gray-600 mb-6 max-w-md mx-auto"},"Vui lòng thử lại với từ khóa khác hoặc bỏ bớt bộ lọc",-1)),e("button",{onClick:le,class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all flex items-center mx-auto"},t[19]||(t[19]=[e("i",{class:"fas fa-redo-alt mr-2"},null,-1),_(" Xóa bộ lọc ")]))])):v("",!0),!V.value&&l.value.length>0?(d(),n("div",bt,[e("div",xt,[(d(!0),n(T,null,P(l.value,a=>(d(),n("div",{key:a.id,class:S(["bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-all transform hover:-translate-y-1 border border-gray-100",{"border-l-4 border-l-green-500":a.matchesCriteria===!0}])},[e("div",ht,[e("button",{onClick:f=>ae(a),class:S(["absolute top-4 right-4 z-10 text-gray-400 hover:text-red-500 transition-colors focus:outline-none bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-sm",{"text-red-500":a.isSaved}])},[e("i",{class:S(a.isSaved?"fas fa-heart":"far fa-heart")},null,2)],10,_t),A(u,{to:`/job/${a.id}`,class:"block p-5"},{default:be(()=>[e("div",wt,[e("div",kt,[a.enterprise_logo?(d(),n("div",qt,[e("img",{src:a.enterprise_logo,alt:a.enterprise_name,class:"object-contain w-full h-full"},null,8,$t)])):(d(),n("div",Ct,p(ee(a.enterprise_name)),1))]),e("div",Vt,[e("h3",St,p(a.title),1),e("p",Tt,p(a.enterprise_name||"Công ty ẩn danh"),1),e("div",Pt,[a!=null&&a.is_enterprise_premium?(d(),n("div",Ut,t[23]||(t[23]=[e("span",{class:"inline-flex items-center px-2 py-1 bg-amber-400 text-white rounded-full text-xs font-semibold shadow"}," Pro Company ",-1)]))):v("",!0),a.matchesCriteria?(d(),n("div",Dt,t[24]||(t[24]=[e("span",{class:"inline-flex items-center px-2 py-1 bg-green-500 text-white rounded-full text-xs font-semibold shadow"},[e("i",{class:"fas fa-check-circle mr-1"}),_(" Phù hợp ")],-1)]))):v("",!0)]),e("div",Ft,[a.location?(d(),n("div",zt,[t[25]||(t[25]=e("i",{class:"fas fa-map-marker-alt text-gray-500 mr-1"},null,-1)),_(" "+p(a.location),1)])):v("",!0),a.experience?(d(),n("div",Mt,[t[26]||(t[26]=e("i",{class:"fas fa-briefcase text-gray-500 mr-1"},null,-1)),_(" "+p(a.experience),1)])):v("",!0),a.type_working?(d(),n("div",Lt,p(a.type_working),1)):v("",!0)])]),e("div",Kt,[a.salary_min||a.salary_max?(d(),n("div",Nt,p(te(a.salary_min,a.salary_max)),1)):(d(),n("div",Jt," Thỏa thuận ")),e("div",At,p(se(a.publishDate)),1)])])]),_:2},1032,["to"])])],2))),128))]),w.value>1?(d(),n("div",Bt,[e("nav",It,[e("button",{class:S(["flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",{"opacity-50 cursor-not-allowed":b.value===1}]),disabled:b.value===1,onClick:t[4]||(t[4]=a=>F(b.value-1))},t[27]||(t[27]=[e("i",{class:"fas fa-chevron-left text-gray-500"},null,-1)]),10,Et),U.value.includes(1)?v("",!0):(d(),n("button",{key:0,onClick:t[5]||(t[5]=a=>F(1)),class:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 text-gray-700"}," 1 ")),U.value[0]>2?(d(),n("span",Rt,"...")):v("",!0),(d(!0),n(T,null,P(U.value,a=>(d(),n("button",{key:a,onClick:f=>F(a),class:S(["flex items-center justify-center w-10 h-10 rounded-lg transition-colors",b.value===a?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50 text-gray-700"])},p(a),11,Ht))),128)),U.value[U.value.length-1]<w.value-1?(d(),n("span",Ot,"...")):v("",!0),U.value.includes(w.value)?v("",!0):(d(),n("button",{key:3,onClick:t[6]||(t[6]=a=>F(w.value)),class:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 text-gray-700"},p(w.value),1)),e("button",{class:S(["flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",{"opacity-50 cursor-not-allowed":b.value===w.value}]),disabled:b.value===w.value,onClick:t[7]||(t[7]=a=>F(b.value+1))},t[28]||(t[28]=[e("i",{class:"fas fa-chevron-right text-gray-500"},null,-1)]),10,Xt)]),e("div",Gt," Trang "+p(b.value)+"/"+p(w.value)+" ("+p(z.value)+" kết quả) ",1)])):v("",!0)])):v("",!0)])])])])}}},es=Y(Wt,[["__scopeId","data-v-30edd8f5"]]);export{es as default};
