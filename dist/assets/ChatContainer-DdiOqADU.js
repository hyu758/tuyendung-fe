import{E as L,c as u,o as c,d as n,t as N,n as _,e as X,b as j,_ as re,j as I,Z as ee,G as R,m as te,v as se,M as oe,q as Q,V as ie,h as le,T as ce,B as ue,Q as H,k as de,P as G,y as fe,l as M,F,g as J,s as Z,f as ge}from"./index-BKTIbGvs.js";const he={class:"whitespace-pre-wrap text-[15px]"},ve={key:0,class:"ml-1"},me={key:0,class:"fas fa-check-double"},ye={key:1,class:"fas fa-check"},pe={__name:"ChatMessage",props:{content:{type:String,required:!0},isCurrentUser:{type:Boolean,default:!1},isRead:{type:Boolean,default:!1},createdAt:{type:[String,Date],required:!0}},setup(i){const s=i,x=L(()=>{const v=new Date(s.createdAt);if(isNaN(v.getTime()))return"";const m=new Date,k=m-v,f=Math.floor(k/(1e3*60*60)),b=Math.floor(k/(1e3*60*60*24)),$=v.getHours().toString().padStart(2,"0"),S=v.getMinutes().toString().padStart(2,"0"),g=`${$}:${S}`;if(f<24&&v.getDate()===m.getDate())return g;if(b<7)return`${["CN","T2","T3","T4","T5","T6","T7"][v.getDay()]} ${g}`;if(v.getFullYear()===m.getFullYear()){const D=v.getDate().toString().padStart(2,"0"),U=(v.getMonth()+1).toString().padStart(2,"0");return`${D}/${U} ${g}`}const r=v.getDate().toString().padStart(2,"0"),h=(v.getMonth()+1).toString().padStart(2,"0"),p=v.getFullYear();return`${r}/${h}/${p} ${g}`});return(v,m)=>(c(),u("div",{class:_(["flex",i.isCurrentUser?"justify-end":"justify-start","mb-3"])},[n("div",{class:_(["max-w-[70%] rounded-2xl px-4 py-2.5 break-words shadow-sm",i.isCurrentUser?"bg-blue-500 text-white rounded-br-none":"bg-gray-100 text-gray-800 rounded-bl-none"])},[n("p",he,N(i.content),1),n("div",{class:_(["text-xs mt-1 flex justify-end items-center",i.isCurrentUser?"text-blue-100":"text-gray-500"])},[X(N(x.value)+" ",1),i.isCurrentUser?(c(),u("span",ve,[i.isRead?(c(),u("i",me)):(c(),u("i",ye))])):j("",!0)],2)],2)],2))}},xe={class:"flex-shrink-0 mr-3 relative"},be={key:0,class:"w-12 h-12 rounded-md overflow-hidden shadow-sm"},we=["src"],Ce={key:1,class:"w-12 h-12 bg-gradient-to-r from-blue-400 to-blue-500 rounded-md flex items-center justify-center text-white font-bold shadow-sm"},Me={key:2,class:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"},ke={key:3,class:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white"},Se={class:"flex-1 min-w-0"},Ie={class:"flex justify-between items-center"},$e={class:"flex items-center mt-1"},Te={key:0,class:"ml-2 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5 min-w-[20px] text-center shadow-sm font-bold"},Ne={__name:"ChatConversation",props:{displayName:{type:String,required:!0},avatar:{type:String,default:null},lastMessage:{type:String,default:""},lastMessageTime:{type:String,default:""},unreadCount:{type:Number,default:0},isOnline:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},isRead:{type:Boolean,default:!0},userId:{type:[Number,String],required:!0},openInPopup:{type:Boolean,default:!1}},emits:["select"],setup(i,{emit:s}){const x=i,v=s,m=I(!1),k=ee("openChat",null),f=r=>{if(!r)return!1;try{if(r.startsWith("src/assets/")||r.startsWith("/src/assets/"))return console.error("ƒê∆∞·ªùng d·∫´n avatar assets kh√¥ng t·ªìn t·∫°i:",r),!1;const h=new URL(r);return r.match(/\.(jpeg|jpg|gif|png|webp)$/i)||r.includes("cloudinary.com")||r.includes("res.cloudinary.com"),!0}catch(h){return console.error("URL avatar kh√¥ng h·ª£p l·ªá:",r,h),!1}},b=r=>{console.warn("L·ªói khi t·∫£i avatar:",x.avatar),m.value=!0,r.target.src="";try{const h=r.target.closest(".rounded-md");if(h){r.target.style.display="none";const p=document.createElement("div");p.className="w-full h-full bg-gradient-to-r from-blue-400 to-blue-500 flex items-center justify-center text-white font-bold",p.textContent=S(x.displayName),h.appendChild(p),console.log(`ƒê√£ thay th·∫ø avatar l·ªói cho ${x.displayName} v·ªõi initials: ${S(x.displayName)}`)}}catch(h){console.error("L·ªói khi x·ª≠ l√Ω DOM sau l·ªói avatar:",h)}},$=L(()=>{if(!x.lastMessageTime)return"";const r=new Date(x.lastMessageTime),h=new Date,p=h-r,D=Math.floor(p/(1e3*60)),U=Math.floor(p/(1e3*60*60)),O=Math.floor(p/(1e3*60*60*24));if(D<1)return"V·ª´a xong";if(D<60)return`${D} ph√∫t`;if(U<24&&r.getDate()===h.getDate()){const A=r.getHours().toString().padStart(2,"0"),w=r.getMinutes().toString().padStart(2,"0");return`${A}:${w}`}else{if(O<7)return["CN","T2","T3","T4","T5","T6","T7"][r.getDay()];if(r.getFullYear()===h.getFullYear()){const A=r.getDate().toString().padStart(2,"0"),w=(r.getMonth()+1).toString().padStart(2,"0");return`${A}/${w}`}else{const A=r.getDate().toString().padStart(2,"0"),w=(r.getMonth()+1).toString().padStart(2,"0"),V=r.getFullYear().toString().slice(2);return`${A}/${w}/${V}`}}}),S=r=>r?r.trim().charAt(0).toUpperCase():"?",g=()=>{x.openInPopup&&k?k(x.userId):v("select")};return(r,h)=>(c(),u("div",{class:_(["flex items-center px-4 py-3 cursor-pointer transition-colors border-b border-gray-100",{"bg-blue-50":i.isActive,"hover:bg-gray-50":!i.isActive&&i.unreadCount===0,"hover:bg-blue-25":!i.isActive&&i.unreadCount>0,"border-l-4 border-l-blue-500":i.isActive,"border-l-4 border-l-red-400":!i.isActive&&i.unreadCount>0,"bg-red-25":!i.isActive&&i.unreadCount>0}]),onClick:g},[n("div",xe,[i.avatar&&f(i.avatar)?(c(),u("div",be,[n("img",{src:i.avatar,alt:"Avatar",class:"w-full h-full object-cover",onError:b},null,40,we)])):(c(),u("div",Ce,N(S(i.displayName)),1)),i.isOnline?(c(),u("div",Me)):j("",!0),i.unreadCount>0?(c(),u("div",ke)):j("",!0)]),n("div",Se,[n("div",Ie,[n("h3",{class:_(["text-sm truncate",[i.unreadCount>0?"text-gray-900 font-bold":"text-gray-700 font-medium"]])},N(i.displayName||`Ng∆∞·ªùi d√πng #${i.userId}`),3),n("span",{class:_(["text-xs",[i.unreadCount>0?"text-red-600 font-bold":"text-gray-500"]])},N($.value),3)]),n("div",$e,[n("p",{class:_(["text-sm truncate flex-1",{"text-gray-900 font-semibold":i.unreadCount>0,"text-gray-500":i.unreadCount===0}])},N(i.lastMessage),3),i.unreadCount>0?(c(),u("span",Te,N(i.unreadCount>99?"99+":i.unreadCount),1)):j("",!0)])])],2))}},_e=re(Ne,[["__scopeId","data-v-fb569ab4"]]),De={class:"border-t border-gray-100 py-3 px-4 bg-white"},Ue={class:"relative flex-1"},Ae=["onKeydown"],je=["disabled"],Le={__name:"ChatInput",props:{loading:{type:Boolean,default:!1}},emits:["send-message"],setup(i,{emit:s}){const x=i,v=s,m=I(""),k=I(null),f=I(1);I(!1);const b=L(()=>m.value.trim().length>0&&!x.loading),$=()=>{b.value&&(v("send-message",m.value.trim()),m.value="",f.value=1,setTimeout(()=>{k.value.focus()},10))},S=r=>{r.shiftKey||$()},g=()=>{const r=m.value.split(`
`);f.value=Math.min(r.length,5)};return R(m,()=>{g()}),(r,h)=>(c(),u("div",De,[n("form",{onSubmit:Q($,["prevent"]),class:"flex items-end gap-2"},[n("div",Ue,[te(n("textarea",{"onUpdate:modelValue":h[0]||(h[0]=p=>m.value=p),placeholder:"Nh·∫≠p tin nh·∫Øn...",class:_(["w-full border-gray-200 border rounded-2xl px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent resize-none bg-gray-50",{"h-10":f.value===1,"h-20":f.value>1}]),onKeydown:oe(Q(S,["prevent"]),["enter"]),onInput:g,ref_key:"textarea",ref:k},null,42,Ae),[[se,m.value]])]),n("button",{type:"submit",class:_(["bg-blue-500 hover:bg-blue-600 text-white rounded-full w-11 h-11 flex items-center justify-center shadow-sm transition-colors",{"opacity-50 cursor-not-allowed":!b.value,"hover:shadow-md":b.value}]),disabled:!b.value},h[1]||(h[1]=[n("i",{class:"fab fa-telegram-plane"},null,-1)]),10,je)],32)]))}},He={class:"h-full flex bg-white shadow-md rounded-lg overflow-hidden"},Re={class:"w-1/3 border-r border-gray-100 flex flex-col"},Be={class:"py-3 px-4 border-b border-gray-100 bg-white"},Oe={class:"relative mt-2"},Ee={class:"flex-1 overflow-y-auto"},Fe={key:0,class:"p-4 text-center"},Ve={key:1,class:"p-4 text-center"},qe={class:"w-2/3 flex flex-col"},We={class:"py-3 px-4 border-b border-gray-100 flex items-center justify-between bg-white shadow-sm"},Pe={class:"flex items-center"},Ye={class:"w-10 h-10 bg-blue-100 rounded-md flex items-center justify-center overflow-hidden mr-3"},Ke=["src"],ze={key:1,class:"w-full h-full bg-gradient-to-r from-blue-400 to-blue-500 rounded-md flex items-center justify-center text-white font-bold"},Qe={class:"font-medium text-gray-800"},Ge={key:0,class:"text-xs text-green-500"},Je={key:1,class:"py-2 text-center mb-2"},Ze={key:2,class:"my-auto text-center"},Xe={key:3,class:"my-auto text-center py-12"},et={class:"flex flex-col space-y-2"},tt={key:0,class:"py-2 text-center"},st={key:1,class:"flex-1 flex items-center justify-center flex-col p-4"},rt={__name:"ChatContainer",setup(i){const s=ie(),x=le();ce();const v=ue(),m=I(""),k=I(null),f=I(null),b=I(!1),$=I(!0),S=ee("chatUserId",null),g=L(()=>{var e;return(e=x.userInfo)==null?void 0:e.user_id});R(()=>v.query.user,e=>{if(e){const t=parseInt(e,10);isNaN(t)||U(t)}},{immediate:!1});const r=L(()=>{if(!s.conversations.length)return[];const e=new Map;return s.conversations.forEach(a=>{const y=a.sender===g.value?a.recipient:a.sender,o=typeof y=="string"?parseInt(y,10):y,C=s.userInfoCache[o];let d=s.lastMessages[o],B=0,E=!0;if(d){const K=typeof d.sender=="string"?parseInt(d.sender,10):d.sender,z=typeof d.recipient=="string"?parseInt(d.recipient,10):d.recipient;K===g.value&&z===o||K===o&&z===g.value?(E=d.is_read,!d.is_read&&d.recipient===g.value&&d.sender!==g.value&&(B=1)):d=null}let T="";C&&C.fullname?T=C.fullname:d&&d.recipient_fullname&&o!==g.value?T=d.recipient_fullname:d&&d.sender_fullname?T=d.sender_fullname:T=`Ng∆∞·ªùi d√πng #${o}`,e.has(o)||e.set(o,{userId:o,displayName:T,avatar:(C==null?void 0:C.avatar)||null,isOnline:!1,lastMessage:(d==null?void 0:d.content)||"",lastMessageTime:(d==null?void 0:d.created_at)||"",unreadCount:B,isRead:E})}),Array.from(e.values()).sort((a,l)=>a.lastMessageTime?l.lastMessageTime?new Date(l.lastMessageTime)-new Date(a.lastMessageTime):-1:1)}),h=L(()=>{if(!m.value)return r.value;const e=m.value.toLowerCase();return r.value.filter(t=>t.displayName.toLowerCase().includes(e))}),p=L(()=>s.activeConversation?r.value.find(e=>e.userId===s.activeConversation):null),D=e=>{const t=e.userId,a=s.userInfoCache[t];return a&&a.fullname?(a.avatar&&e.avatar===null&&(e.avatar=a.avatar),a.fullname):e.displayName||`Ng∆∞·ªùi d√πng #${e.userId}`},U=async e=>{s.activeConversation=e,k.value=e,s.page=1,s.hasMoreMessages=!0;try{const t=await s.fetchMessages(e,!0);console.log("üì® [selectConversation] ƒê√£ load",(t==null?void 0:t.length)||0,"tin nh·∫Øn"),!t||t.length<20?s.hasMoreMessages=!1:s.hasMoreMessages=!0,await O(),await H(),setTimeout(()=>{w()},100)}catch(t){console.error("‚ùå [selectConversation] L·ªói khi t·∫£i tin nh·∫Øn:",t)}finally{s.loading=!1}},O=async()=>{const e=s.sortedMessages.filter(t=>!t.is_read&&t.sender!==g.value);if(e.length>0)for(const t of e)try{await s.markMessageAsRead(t.id)}catch(a){console.error(`L·ªói khi ƒë√°nh d·∫•u tin nh·∫Øn ${t.id} l√† ƒë√£ ƒë·ªçc:`,a)}},A=async e=>{if(s.activeConversation)try{const t=await s.sendMessage(s.activeConversation,e),a=r.value.find(l=>l.userId===s.activeConversation);a&&(a.lastMessage=e,a.lastMessageTime=new Date().toISOString()),await H(),w(),setTimeout(async()=>{try{await s.fetchLatestMessages()}catch(l){console.error("L·ªói khi t·∫£i tin nh·∫Øn m·ªõi nh·∫•t sau khi g·ª≠i:",l)}},500)}catch(t){console.error("L·ªói khi g·ª≠i tin nh·∫Øn:",t)}},w=()=>{f.value&&(f.value.scrollTop=f.value.scrollHeight,setTimeout(()=>{f.value&&(f.value.scrollTop=f.value.scrollHeight)},100))},V=async()=>{if(!f.value||!s.activeConversation)return;const{scrollTop:e,clientHeight:t,scrollHeight:a}=f.value;if($.value=a-e-t<100,e<=20&&!b.value&&s.hasMoreMessages){const l=a;b.value=!0;try{if(await s.fetchMessages(s.activeConversation),await H(),f.value){const C=f.value.scrollHeight-l+20;f.value.scrollTop=C}}catch(y){console.error("L·ªói khi t·∫£i th√™m tin nh·∫Øn c≈© h∆°n:",y)}finally{setTimeout(()=>{b.value=!1},500)}}},W=e=>{if(!e||!e.created_at)return!1;const t=new Date(e.created_at);return new Date-t<1e4};R(()=>JSON.stringify(s.sortedMessages),()=>{if(O(),f.value&&!b.value){const{scrollTop:e,scrollHeight:t,clientHeight:a}=f.value,l=t-e-a<300,y=s.sortedMessages[s.sortedMessages.length-1],o=y&&y.sender===g.value,C=y&&W(y);(l&&C||o)&&(console.log("üîΩ Cu·ªôn xu·ªëng v√¨:",o?"tin nh·∫Øn t·ª´ user hi·ªán t·∫°i":"·ªü g·∫ßn cu·ªëi v√† c√≥ tin nh·∫Øn m·ªõi"),w(),H(()=>{w()}))}}),R(()=>s.sortedMessages.length,(e,t)=>{var a;if(e>t&&!b.value){const l=s.sortedMessages[s.sortedMessages.length-1];if(l&&f.value){if(l.sender!==g.value){const T=s.userInfoCache[l.sender];T&&T.avatar&&!((a=s.activeConversation)!=null&&a.avatar)&&s.activeConversation&&(s.activeConversation.avatar=T.avatar)}const{scrollTop:y,scrollHeight:o,clientHeight:C}=f.value,d=o-y-C<300,B=l.sender===g.value,E=W(l);(B||d&&E)&&(console.log("üîΩ Cu·ªôn xu·ªëng v√¨ tin nh·∫Øn m·ªõi:",B?"t·ª´ user hi·ªán t·∫°i":"g·∫ßn cu·ªëi v√† tin nh·∫Øn recent"),w())}}}),R(()=>s.activeConversation,(e,t)=>{e!==t&&H(()=>{w()})}),R(()=>s.sortedMessages,(e,t)=>{if(e.length>t.length){const a=e[e.length-1];s.activeConversation===a.sender&&a.recipient===g.value&&!a.is_read&&s.markMessageAsRead(a.id)}},{deep:!0});const P=e=>{var t,a;if(e&&(e.type==="new_message"||e.data&&e.data.type==="new_message")){const l=((t=e.data)==null?void 0:t.type)==="new_message"?e.data:e,y=(a=x.userInfo)==null?void 0:a.user_id;if(y){const o={sender:parseInt(l.sender_id,10),recipient:parseInt(l.recipient_id,10)},C=y===o.sender?o.recipient:o.sender;s.activeConversation===C&&H(()=>{w()})}}},ne=e=>{console.warn("L·ªói khi t·∫£i avatar trong header:",e),e.target.src="",q();const t=Y(),a=e.target.closest(".overflow-hidden");if(a){const l=document.createElement("div");l.className="w-full h-full bg-gradient-to-r from-blue-400 to-blue-500 flex items-center justify-center text-white font-bold",l.textContent=t,a.appendChild(l),e.target.style.display="none"}p.value&&(p.value.avatar=null)},ae=e=>{if(!e)return!1;try{return e.startsWith("src/assets/")||e.startsWith("/src/assets/")?(console.error("ƒê∆∞·ªùng d·∫´n avatar assets kh√¥ng t·ªìn t·∫°i:",e),!1):(new URL(e),e.match(/\.(jpeg|jpg|gif|png|webp)$/i)||e.includes("cloudinary.com")||e.includes("res.cloudinary.com"),!0)}catch{return console.error("URL avatar kh√¥ng h·ª£p l·ªá:",e),!1}},q=()=>{if(!s.activeConversation)return"Ch·ªçn m·ªôt cu·ªôc tr√≤ chuy·ªán";const e=s.activeConversation,t=s.userInfoCache[e];if(t&&t.fullname)return t.fullname;const a=r.value.find(l=>l.userId===e);return a&&a.displayName?a.displayName:`Ng∆∞·ªùi d√πng #${e}`},Y=()=>{const e=q();return!e||e.startsWith("Ng∆∞·ªùi d√πng #")?"?":e.trim().charAt(0).toUpperCase()};return de(async()=>{let e=null;v.query.user?e=parseInt(v.query.user,10):S&&(e=S);try{await Promise.all([s.fetchConversations(),s.fetchUnreadMessages()]),await s.fetchLatestMessages(),e&&!isNaN(e)&&await U(e)}catch(t){console.error("L·ªói khi kh·ªüi t·∫°o ChatContainer:",t)}G.onMessage(P)}),fe(()=>{console.log("üîå [ChatContainer] Component unmounted, ch·ªâ h·ªßy listener"),G.offMessage(P)}),(e,t)=>{var a,l,y;return c(),u("div",He,[n("div",Re,[n("div",Be,[t[2]||(t[2]=n("h2",{class:"text-lg font-semibold text-gray-800"},"Tin nh·∫Øn",-1)),n("div",Oe,[te(n("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>m.value=o),placeholder:"T√¨m ki·∫øm cu·ªôc tr√≤ chuy·ªán...",class:"w-full border-gray-200 border rounded-xl pl-9 pr-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent bg-gray-50"},null,512),[[se,m.value]]),t[1]||(t[1]=n("div",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},[n("i",{class:"fas fa-search"})],-1))])]),n("div",Ee,[M(s).loading&&!M(s).activeConversation?(c(),u("div",Fe,t[3]||(t[3]=[n("i",{class:"fas fa-circle-notch fa-spin text-blue-500 text-xl"},null,-1),n("p",{class:"mt-2 text-gray-500"},"ƒêang t·∫£i danh s√°ch...",-1)]))):h.value.length===0?(c(),u("div",Ve,t[4]||(t[4]=[n("i",{class:"fas fa-comments text-gray-300 text-4xl"},null,-1),n("p",{class:"mt-2 text-gray-500"},"Kh√¥ng c√≥ cu·ªôc tr√≤ chuy·ªán n√†o",-1)]))):(c(!0),u(F,{key:2},J(h.value,o=>(c(),Z(_e,{key:o.id,"display-name":D(o),avatar:o.avatar,"last-message":o.lastMessage,"last-message-time":o.lastMessageTime,"unread-count":o.unreadCount,"is-online":o.isOnline,"is-active":M(s).activeConversation===o.userId,"is-read":o.isRead,userId:o.userId,onSelect:C=>U(o.userId)},null,8,["display-name","avatar","last-message","last-message-time","unread-count","is-online","is-active","is-read","userId","onSelect"]))),128))])]),n("div",qe,[M(s).activeConversation?(c(),u(F,{key:0},[n("div",We,[n("div",Pe,[n("div",Ye,[(a=p.value)!=null&&a.avatar&&ae((l=p.value)==null?void 0:l.avatar)?(c(),u("img",{key:0,src:p.value.avatar,alt:"Avatar",class:"w-full h-full object-cover",onError:ne},null,40,Ke)):(c(),u("div",ze,N(Y()),1))]),n("div",null,[n("h3",Qe,N(q()),1),(y=p.value)!=null&&y.isOnline?(c(),u("p",Ge,t[5]||(t[5]=[n("i",{class:"fas fa-circle mr-1 text-[8px]"},null,-1),X(" ƒêang ho·∫°t ƒë·ªông ")]))):j("",!0)])])]),n("div",{class:"flex-1 p-4 overflow-y-auto flex flex-col relative bg-gray-50",ref_key:"messagesContainer",ref:f,onScroll:V},[!$.value&&M(s).sortedMessages.length>5?(c(),u("button",{key:0,onClick:w,class:"absolute bottom-4 right-4 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-2 shadow-md z-10 transition-colors",title:"Cu·ªôn xu·ªëng tin nh·∫Øn m·ªõi nh·∫•t"},t[6]||(t[6]=[n("i",{class:"fas fa-arrow-down"},null,-1)]))):j("",!0),b.value?(c(),u("div",Je,t[7]||(t[7]=[n("i",{class:"fas fa-circle-notch fa-spin text-blue-500"},null,-1),n("p",{class:"text-xs text-gray-500"},"ƒêang t·∫£i th√™m tin nh·∫Øn c≈© h∆°n...",-1)]))):j("",!0),M(s).loading&&!M(s).sortedMessages.length?(c(),u("div",Ze,t[8]||(t[8]=[n("i",{class:"fas fa-circle-notch fa-spin text-blue-500 text-xl"},null,-1),n("p",{class:"mt-2 text-gray-500"},"ƒêang t·∫£i tin nh·∫Øn...",-1),n("p",{class:"text-xs text-gray-400 mt-1"},"ƒêang t·∫£i nhi·ªÅu trang ƒë·ªÉ hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß cu·ªôc tr√≤ chuy·ªán",-1)]))):M(s).sortedMessages.length?(c(),u(F,{key:4},[n("div",et,[(c(!0),u(F,null,J(M(s).sortedMessages,o=>(c(),Z(pe,{key:o.id,content:o.content,"is-current-user":o.sender===g.value,"is-read":o.is_read,"created-at":o.created_at},null,8,["content","is-current-user","is-read","created-at"]))),128))]),M(s).loading&&M(s).sortedMessages.length?(c(),u("div",tt,t[10]||(t[10]=[n("i",{class:"fas fa-circle-notch fa-spin text-blue-500"},null,-1),n("p",{class:"text-xs text-gray-500"},"ƒêang t·∫£i tin nh·∫Øn...",-1)]))):j("",!0)],64)):(c(),u("div",Xe,t[9]||(t[9]=[n("i",{class:"fas fa-comment-dots text-gray-300 text-5xl mb-3"},null,-1),n("p",{class:"mt-2 text-gray-500"},"Ch∆∞a c√≥ tin nh·∫Øn. H√£y g·ª≠i tin nh·∫Øn ƒë·∫ßu ti√™n!",-1)])))],544),ge(Le,{loading:M(s).loading,onSendMessage:A},null,8,["loading"])],64)):(c(),u("div",st,t[11]||(t[11]=[n("i",{class:"fas fa-comments text-gray-300 text-6xl mb-4"},null,-1),n("h3",{class:"text-xl font-medium text-gray-700 mb-2"},"Tr√≤ chuy·ªán c·ªßa b·∫°n",-1),n("p",{class:"text-gray-500 text-center max-w-md"}," Ch·ªçn m·ªôt cu·ªôc tr√≤ chuy·ªán t·ª´ danh s√°ch b√™n tr√°i ho·∫∑c b·∫Øt ƒë·∫ßu m·ªôt cu·ªôc tr√≤ chuy·ªán m·ªõi. ",-1)])))])])}}};export{rt as _};
