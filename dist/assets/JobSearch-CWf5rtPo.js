import{_ as R,j as b,o as H,D as K,c as n,a as d,e,f as x,q as g,v as O,s as M,F as V,h as S,t as p,A as re,K as w,x as le,B as ae,u as oe,m as ie,i as ne,E as de,G as A,C as I,r as ue,M as ce,d as h,n as C,g as L,b as ye,w as pe}from"./index-JLNOkUTm.js";import{u as me}from"./address-ufXh2FAU.js";import{u as ge}from"./field-DcE_tBbB.js";import{u as fe}from"./post-B5Ls1hho.js";const ve={class:"bg-white rounded-xl shadow-sm p-5 transition-all hover:shadow-md relative"},be={class:"flex justify-between items-center mb-5"},xe={class:"relative"},he={class:"relative"},_e=["value"],we={class:"relative"},ke=["value"],qe={class:"space-y-2 max-h-52 overflow-y-auto bg-gray-50 rounded-lg p-2.5 border border-gray-100"},$e=["id","value"],Ce=["for"],Ve={class:"space-y-2 max-h-72 overflow-y-auto bg-gray-50 rounded-lg p-2.5 border border-gray-100"},Se={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Te={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Pe={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Ue={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},De={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Fe={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Me={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},ze={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Le={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Ke={class:"space-y-2 bg-gray-50 rounded-lg p-2.5 border border-gray-100"},Ne=["id","value"],Je=["for"],Be={__name:"JobFilter",emits:["filter","close"],setup(X,{emit:m}){const k=m,P=b([]),q=b([]);async function z(){try{const s=await me().fetchProvinces();s!=null&&s.data&&(P.value=s.data.map(f=>f.name));const i=await ge().fetchFields();console.log(i),i!=null&&i.data&&(q.value=i.data.map(f=>f.name))}catch(y){console.error("Lỗi khi tải dữ liệu:",y)}}H(()=>{z()});const _=["Toàn thời gian","Bán thời gian","Thực tập","Freelance","Remote"],v=["Không yêu cầu kinh nghiệm","Dưới 1 năm","1-2 năm","3-5 năm","Trên 5 năm"],l=K({q:"",city:"",position:"",type_working:[],salary_type:"",experience:""}),D=()=>{const y={page:1,page_size:10,sort_by:"created_at",sort_order:"desc",all:!0};if(l.q&&l.q.trim()&&(y.q=l.q.trim()),l.city&&(y.city=l.city),l.position&&(y.position=l.position),l.type_working.length>0&&(y.type_working=l.type_working.join(",")),l.experience&&(y.experience=l.experience),l.salary_type)if(l.salary_type==="negotiable")y.negotiable="true";else{const[s,o]=l.salary_type.split("-").map(Number);s>0&&(y.salary_min=s),o<999&&(y.salary_max=o)}k("filter",y)},F=()=>{D(),k("close")},$=()=>{l.q="",l.city="",l.position="",l.type_working=[],l.salary_type="",l.experience="",k("filter",{page:1,page_size:10,sort_by:"created_at",sort_order:"desc",all:!0})};return(y,s)=>(d(),n("div",ve,[e("div",be,[s[16]||(s[16]=e("h3",{class:"text-lg font-semibold text-gray-800 flex items-center"},[e("i",{class:"fas fa-filter text-blue-500 mr-2"}),x(" Lọc kết quả ")],-1)),e("button",{onClick:s[0]||(s[0]=o=>y.$emit("close")),class:"lg:hidden w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors"},s[15]||(s[15]=[e("i",{class:"fas fa-times text-gray-500"},null,-1)]))]),e("form",{onSubmit:le(D,["prevent"]),class:"space-y-5"},[e("div",null,[s[18]||(s[18]=e("label",{for:"keyword",class:"block text-sm font-medium text-gray-700 mb-1.5"},"Từ khóa",-1)),e("div",xe,[s[17]||(s[17]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-search text-gray-400"})],-1)),g(e("input",{id:"keyword","onUpdate:modelValue":s[1]||(s[1]=o=>l.q=o),type:"text",placeholder:"Tiêu đề, kỹ năng, công ty...",class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"},null,512),[[O,l.q]])])]),e("div",null,[s[22]||(s[22]=e("label",{for:"location",class:"block text-sm font-medium text-gray-700 mb-1.5"},"Địa điểm",-1)),e("div",he,[s[20]||(s[20]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-map-marker-alt text-gray-400"})],-1)),g(e("select",{id:"location","onUpdate:modelValue":s[2]||(s[2]=o=>l.city=o),class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white transition-all"},[s[19]||(s[19]=e("option",{value:""},"Tất cả địa điểm",-1)),(d(!0),n(V,null,S(P.value,o=>(d(),n("option",{key:o,value:o},p(o),9,_e))),128))],512),[[M,l.city]]),s[21]||(s[21]=e("div",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center"},[e("i",{class:"fas fa-chevron-down text-gray-400 text-xs"})],-1))])]),e("div",null,[s[26]||(s[26]=e("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-1.5"},"Ngành nghề",-1)),e("div",we,[s[24]||(s[24]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-briefcase text-gray-400"})],-1)),g(e("select",{id:"category","onUpdate:modelValue":s[3]||(s[3]=o=>l.position=o),class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white transition-all"},[s[23]||(s[23]=e("option",{value:""},"Tất cả ngành nghề",-1)),(d(!0),n(V,null,S(q.value,o=>(d(),n("option",{key:o,value:o},p(o),9,ke))),128))],512),[[M,l.position]]),s[25]||(s[25]=e("div",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center"},[e("i",{class:"fas fa-chevron-down text-gray-400 text-xs"})],-1))])]),e("div",null,[s[27]||(s[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Loại công việc",-1)),e("div",qe,[(d(),n(V,null,S(_,o=>e("div",{key:o,class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},[g(e("input",{id:o,"onUpdate:modelValue":s[4]||(s[4]=i=>l.type_working=i),value:o,type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-colors"},null,8,$e),[[re,l.type_working]]),e("label",{for:o,class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"},p(o),9,Ce)])),64))])]),e("div",null,[s[37]||(s[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mức lương",-1)),e("div",Ve,[e("div",Se,[g(e("input",{id:"salary-all","onUpdate:modelValue":s[5]||(s[5]=o=>l.salary_type=o),value:"",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[w,l.salary_type]]),s[28]||(s[28]=e("label",{for:"salary-all",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," Tất cả ",-1))]),e("div",Te,[g(e("input",{id:"salary-under-10","onUpdate:modelValue":s[6]||(s[6]=o=>l.salary_type=o),value:"0-10",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[w,l.salary_type]]),s[29]||(s[29]=e("label",{for:"salary-under-10",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," Dưới 10 triệu ",-1))]),e("div",Pe,[g(e("input",{id:"salary-10-15","onUpdate:modelValue":s[7]||(s[7]=o=>l.salary_type=o),value:"10-15",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[w,l.salary_type]]),s[30]||(s[30]=e("label",{for:"salary-10-15",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 10 - 15 triệu ",-1))]),e("div",Ue,[g(e("input",{id:"salary-15-20","onUpdate:modelValue":s[8]||(s[8]=o=>l.salary_type=o),value:"15-20",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[w,l.salary_type]]),s[31]||(s[31]=e("label",{for:"salary-15-20",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 15 - 20 triệu ",-1))]),e("div",De,[g(e("input",{id:"salary-20-25","onUpdate:modelValue":s[9]||(s[9]=o=>l.salary_type=o),value:"20-25",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[w,l.salary_type]]),s[32]||(s[32]=e("label",{for:"salary-20-25",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 20 - 25 triệu ",-1))]),e("div",Fe,[g(e("input",{id:"salary-25-30","onUpdate:modelValue":s[10]||(s[10]=o=>l.salary_type=o),value:"25-30",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[w,l.salary_type]]),s[33]||(s[33]=e("label",{for:"salary-25-30",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 25 - 30 triệu ",-1))]),e("div",Me,[g(e("input",{id:"salary-30-50","onUpdate:modelValue":s[11]||(s[11]=o=>l.salary_type=o),value:"30-50",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[w,l.salary_type]]),s[34]||(s[34]=e("label",{for:"salary-30-50",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 30 - 50 triệu ",-1))]),e("div",ze,[g(e("input",{id:"salary-above-50","onUpdate:modelValue":s[12]||(s[12]=o=>l.salary_type=o),value:"50-999",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[w,l.salary_type]]),s[35]||(s[35]=e("label",{for:"salary-above-50",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," Trên 50 triệu ",-1))]),e("div",Le,[g(e("input",{id:"salary-negotiable","onUpdate:modelValue":s[13]||(s[13]=o=>l.salary_type=o),value:"negotiable",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[w,l.salary_type]]),s[36]||(s[36]=e("label",{for:"salary-negotiable",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," Thỏa thuận ",-1))])])]),e("div",null,[s[38]||(s[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kinh nghiệm",-1)),e("div",Ke,[(d(),n(V,null,S(v,o=>e("div",{key:o,class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},[g(e("input",{id:o,"onUpdate:modelValue":s[14]||(s[14]=i=>l.experience=i),value:o,type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,8,Ne),[[w,l.experience]]),e("label",{for:o,class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"},p(o),9,Je)])),64))])]),e("div",{class:"grid grid-cols-2 gap-3 pt-2"},[e("button",{type:"button",onClick:$,class:"px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all flex items-center justify-center"},s[39]||(s[39]=[e("i",{class:"fas fa-redo-alt mr-2"},null,-1),x(" Xóa bộ lọc ")])),s[40]||(s[40]=e("button",{type:"submit",class:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all flex items-center justify-center"},[e("i",{class:"fas fa-search mr-2"}),x(" Áp dụng ")],-1))]),e("div",{class:"lg:hidden mt-4 sticky bottom-0 bg-white pt-2 pb-1 border-t border-gray-100"},[e("button",{type:"button",onClick:F,class:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all flex items-center justify-center"},s[41]||(s[41]=[e("i",{class:"fas fa-check mr-2"},null,-1),x(" Áp dụng và đóng ")]))])],32)]))}},E=R(Be,[["__scopeId","data-v-7348cdc4"]]),Ae={class:"bg-gray-50 py-8 min-h-screen"},Ie={class:"container mx-auto px-4"},Ee={class:"bg-white rounded-xl shadow-sm p-5 mb-8 transition-all hover:shadow-md"},Re={class:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0"},He={class:"flex-1 relative"},Oe={class:"lg:hidden sticky top-0 z-10 bg-gray-50 py-2"},Xe={class:"flex justify-between items-center bg-white rounded-xl shadow-sm p-4 mb-4"},Ge={class:"text-sm font-medium text-gray-800"},We={key:0,class:"h-5 bg-gray-200 rounded w-32 animate-pulse"},Ye={key:1,class:"flex items-center"},Ze={class:"flex items-center space-x-3"},Qe={class:"relative"},je={class:"flex flex-col lg:flex-row space-y-6 lg:space-y-0 lg:space-x-6"},et={class:"lg:hidden w-full"},tt={key:0,class:"mt-4"},st={class:"hidden lg:block lg:w-1/4 lg:sticky lg:top-4 lg:self-start"},rt={class:"lg:w-3/4"},lt={class:"hidden lg:block bg-white rounded-xl shadow-sm p-5 mb-6"},at={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0"},ot={class:"text-lg font-semibold text-gray-800"},it={key:0,class:"h-7 bg-gray-200 rounded w-48 animate-pulse"},nt={key:1,class:"flex items-center"},dt={class:"flex items-center space-x-2"},ut={class:"relative"},ct={key:0,class:"space-y-6"},yt={key:1,class:"bg-white rounded-xl shadow-sm p-8 text-center"},pt={key:2},mt={class:"space-y-4"},gt={class:"relative"},ft=["onClick"],vt={class:"flex flex-col md:flex-row md:items-center"},bt={class:"mr-5 mb-4 md:mb-0"},xt={key:0,class:"w-16 h-16 rounded-lg overflow-hidden bg-white border border-gray-100 flex items-center justify-center"},ht=["src","alt"],_t={key:1,class:"w-16 h-16 rounded-lg flex items-center justify-center bg-blue-100 text-blue-700 font-bold text-xl"},wt={class:"flex-grow"},kt={class:"text-lg font-semibold text-gray-900 mb-1 line-clamp-1 hover:text-blue-600 transition-colors"},qt={class:"text-gray-600 text-sm mb-1"},$t={class:"flex gap-2 items-center"},Ct={key:0},Vt={key:1},St={class:"flex flex-wrap gap-2 mt-3"},Tt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-gray-100 text-gray-800"},Pt={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-gray-100 text-gray-800"},Ut={key:2,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-blue-100 text-blue-800"},Dt={class:"mt-4 md:mt-0 md:ml-4"},Ft={key:0,class:"text-green-600 font-medium"},Mt={key:1,class:"text-green-600 font-medium"},zt={class:"text-gray-500 text-xs mt-1"},Lt={key:0,class:"flex justify-center mt-10"},Kt={class:"flex items-center space-x-2"},Nt=["disabled"],Jt={key:1,class:"px-2"},Bt=["onClick"],At={key:2,class:"px-2"},It=["disabled"],Et={class:"text-sm text-gray-500 ml-4 flex items-center"},Rt={__name:"JobSearch",setup(X){const m=ae(),k=oe(),P=fe(),q=ie(),z=ne(),_=b(!1),v=b([]),l=b(1),D=b(10),F=b(0),$=K({sort_by:m.query.sort_by||"created_at",sort_order:"desc"});b([]);const y=b(!1),s=b(!1),o=b(!1),i=K({q:m.query.q||"",city:m.query.city||"",position:m.query.position||"",experience:m.query.experience||"",type_working:m.query.type_working||"",salary_min:m.query.salary_min||"",salary_max:m.query.salary_max||"",scales:m.query.scales||"",field:m.query.field||"",page:m.query.page||1,page_size:m.query.page_size||10,sort_by:m.query.sort_by||"created_at",sort_order:"desc",all:m.query.all!=="false"}),f=b(1),T=de(()=>{const t=Math.floor(2.5),c=f.value;let a=Math.max(l.value-t,1),u=a+5-1;return u>c&&(u=c,a=Math.max(u-5+1,1)),Array.from({length:u-a+1},(te,se)=>a+se)}),G=r=>r?r.split(" ").map(t=>t[0]).join("").substring(0,2).toUpperCase():"JH",W=(r,t)=>{if(!r&&!t)return"Thỏa thuận";const c=a=>a?(a/1e6).toLocaleString("vi-VN"):"";return r&&t?`${c(r)} - ${c(t)} triệu`:r?`Từ ${c(r)} triệu`:t?`Đến ${c(t)} triệu`:"Thỏa thuận"},Y=r=>{if(!r)return"";const t=new Date,c=new Date(r),a=Math.abs(t-c),u=Math.ceil(a/(1e3*60*60*24));return u===0?"Hôm nay":u===1?"Hôm qua":u<7?`${u} ngày trước`:u<30?`${Math.floor(u/7)} tuần trước`:c.toLocaleDateString("vi-VN")},Z=async()=>{var r;if(z.isAuthenticated){o.value=!0;try{(await I.get("/api/criteria/")).data.status===200&&(s.value=!0)}catch(t){((r=t.response)==null?void 0:r.status)!==404&&console.error("Lỗi khi lấy tiêu chí tìm việc:",t)}finally{o.value=!1}}};H(async()=>{await Z(),N()}),A(()=>m.query,r=>{i.q=r.q||"",i.city=r.city||"",i.position=r.position||"",i.experience=r.experience||"",i.type_working=r.type_working||"",i.salary_min=r.salary_min||"",i.salary_max=r.salary_max||"",i.page=r.page||1,i.page_size=r.page_size||10,i.sort_by=r.sort_by||"created-at",i.sort_order=r.sort_order||"desc",i.all=r.all!=="false",N()},{deep:!0}),A(()=>$.sort_by,()=>{i.sort_by=$.sort_by,i.page=1,k.push({path:"/job-search",query:{...i}})});const N=async()=>{_.value=!0;const r=Date.now();try{const c=(await I.get("/api/posts/search/",{params:i})).data.data;console.log(c),v.value=c.results.map(u=>({id:u.id,title:u.title,location:`${u.city}${u.district?`, ${u.district}`:""}`,type_working:u.type_working,salary_min:u.salary_min,salary_max:u.salary_max,publishDate:new Date(u.created_at),experience:u.experience,description:u.description,required:u.required,interest:u.interest,isFeatured:!1,isSaved:u.is_saved||!1,is_enterprise_premium:u.is_enterprise_premium,enterprise_name:u.enterprise_name||"",enterprise_logo:u.enterprise_logo||"",matchesCriteria:s.value&&!o.value&&u.matches_criteria||!1})),f.value=c.total_pages,l.value=c.page,D.value=c.page_size,F.value=c.total;const a=Date.now()-r;a<500&&await new Promise(u=>setTimeout(u,500-a))}catch(t){console.error("Không thể lấy danh sách việc làm:",t),q.error("Có lỗi xảy ra khi tải danh sách việc làm")}finally{_.value=!1}},J=()=>{const r={page:1,page_size:10,sort_by:"created_at",sort_order:"desc",all:!0};i.q&&i.q.trim()&&(r.q=i.q.trim()),Object.assign(i,r),k.push({path:"/job-search",query:r})},B=r=>{const t={page:1,page_size:i.page_size,sort_by:r.sort_by||i.sort_by||"created_at",sort_order:r.sort_order||i.sort_order||"desc",all:r.all!==void 0?r.all:!0};r.q&&(t.q=r.q),r.city&&(t.city=r.city),r.position&&(t.position=r.position),r.experience&&(t.experience=r.experience),r.type_working&&(t.type_working=r.type_working),r.salary_min&&(t.salary_min=r.salary_min),r.salary_max&&(t.salary_max=r.salary_max),r.negotiable&&(t.negotiable=r.negotiable),r.scales&&(t.scales=r.scales),r.field&&(t.field=r.field),Object.assign(i,t),k.push({path:"/job-search",query:t})},Q=()=>{i.q="",i.city="",i.position="",i.experience="",i.type_working="",i.salary_min="",i.salary_max="",i.negotiable=!1,i.scales="",i.field="";const r={page:1,page_size:10,sort_by:"created_at",sort_order:"desc",all:!0};Object.assign(i,r),$.sort_by="created_at",k.push({path:"/job-search",query:r})},U=r=>{r<1||r>f.value||(i.page=r,k.push({path:"/job-search",query:{...i}}))},j=async r=>{try{const t=v.value.findIndex(c=>c.id===r.id);if(t===-1)return;if(v.value[t].isSaved){const c=await P.deleteSavedPostByPostId(r.id);c.success?(v.value[t].isSaved=!1,q.success("Đã bỏ lưu việc làm thành công")):q.error(c.error)}else{const c=await P.savePost(r.id);c.success?(v.value[t].isSaved=!0,q.success("Đã lưu việc làm thành công")):q.error(c.error)}}catch(t){console.error("Error handling save job:",t),q.error("Có lỗi xảy ra khi thực hiện thao tác")}},ee=()=>{y.value=!y.value};return(r,t)=>{const c=ue("router-link");return d(),n("div",Ae,[e("div",Ie,[t[29]||(t[29]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl md:text-3xl font-bold text-gray-900 mb-2"},"Tìm kiếm việc làm"),e("p",{class:"text-gray-600"},"Khám phá cơ hội nghề nghiệp phù hợp với bạn")],-1)),e("div",Ee,[e("div",Re,[e("div",He,[t[8]||(t[8]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-search text-gray-400"})],-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>i.q=a),type:"text",placeholder:"Tiêu đề công việc, vị trí, kỹ năng...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",onKeyup:ce(J,["enter"])},null,544),[[O,i.q]])]),e("div",null,[e("button",{onClick:J,class:"w-full px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-all transform active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"},t[9]||(t[9]=[e("div",{class:"flex items-center justify-center"},[e("i",{class:"fas fa-search mr-2"}),x(" Tìm kiếm ")],-1)]))])])]),e("div",Oe,[e("div",Xe,[e("div",Ge,[_.value?(d(),n("div",We)):(d(),n("span",Ye,[t[10]||(t[10]=e("i",{class:"fas fa-clipboard-list text-blue-500 mr-2"},null,-1)),x(" "+p(!_.value&&v.value.length===0?"Không có kết quả":`${v.value.length} việc làm`),1)]))]),e("div",Ze,[e("div",Qe,[g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>$.sort_by=a),class:"pl-2 pr-6 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 appearance-none cursor-pointer bg-white transition-all"},t[11]||(t[11]=[e("option",{value:"created_at"},"Mới nhất",-1),e("option",{value:"salary_max"},"Lương cao",-1)]),512),[[M,$.sort_by]]),t[12]||(t[12]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-1 text-gray-700"},[e("i",{class:"fas fa-chevron-down text-xs"})],-1))])])])]),e("div",je,[e("div",et,[e("button",{onClick:ee,class:"w-full flex items-center justify-between px-4 py-3 bg-white rounded-xl shadow-sm hover:shadow-md transition-all"},[t[13]||(t[13]=e("span",{class:"flex items-center font-medium text-gray-800"},[e("i",{class:"fas fa-filter text-blue-500 mr-2"}),x(" Bộ lọc tìm kiếm ")],-1)),e("i",{class:C(["fas",y.value?"fa-chevron-up":"fa-chevron-down"])},null,2)]),y.value?(d(),n("div",tt,[L(E,{onFilter:B,onClose:t[2]||(t[2]=a=>y.value=!1)})])):h("",!0)]),e("div",st,[L(E,{onFilter:B})]),e("div",rt,[e("div",lt,[e("div",at,[e("h2",ot,[_.value?(d(),n("div",it)):(d(),n("span",nt,[t[14]||(t[14]=e("i",{class:"fas fa-clipboard-list text-blue-500 mr-2"},null,-1)),x(" "+p(!_.value&&v.value.length===0?"Không có kết quả":`Tìm thấy ${v.value.length} việc làm`),1)]))]),e("div",dt,[t[17]||(t[17]=e("label",{for:"sort",class:"text-sm text-gray-600"},"Sắp xếp:",-1)),e("div",ut,[g(e("select",{id:"sort","onUpdate:modelValue":t[3]||(t[3]=a=>$.sort_by=a),class:"pl-3 pr-8 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none cursor-pointer bg-white transition-all"},t[15]||(t[15]=[e("option",{value:"created_at"},"Mới nhất",-1),e("option",{value:"salary_max"},"Lương cao đến thấp",-1)]),512),[[M,$.sort_by]]),t[16]||(t[16]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[e("i",{class:"fas fa-chevron-down text-xs"})],-1))])])])]),_.value?(d(),n("div",ct,[(d(),n(V,null,S(3,a=>e("div",{key:`skeleton-${a}`,class:"bg-white rounded-xl shadow-sm p-5 animate-pulse"},t[18]||(t[18]=[ye('<div class="flex flex-col md:flex-row md:items-center" data-v-616d3c7c><div class="md:w-16 md:h-16 w-12 h-12 bg-gray-200 rounded-lg mb-4 md:mb-0 md:mr-4" data-v-616d3c7c></div><div class="flex-grow" data-v-616d3c7c><div class="h-6 bg-gray-200 rounded w-3/4 mb-3" data-v-616d3c7c></div><div class="h-4 bg-gray-200 rounded w-1/2 mb-2" data-v-616d3c7c></div><div class="h-4 bg-gray-200 rounded w-1/4" data-v-616d3c7c></div></div><div class="mt-4 md:mt-0 md:ml-4" data-v-616d3c7c><div class="h-8 bg-gray-200 rounded w-24" data-v-616d3c7c></div></div></div>',1)]))),64))])):!_.value&&v.value.length===0?(d(),n("div",yt,[t[20]||(t[20]=e("div",{class:"text-5xl text-blue-500 opacity-80 mb-4"},[e("i",{class:"fas fa-search"})],-1)),t[21]||(t[21]=e("h3",{class:"text-xl font-semibold text-gray-800 mb-2"},"Không tìm thấy việc làm phù hợp",-1)),t[22]||(t[22]=e("p",{class:"text-gray-600 mb-6 max-w-md mx-auto"},"Vui lòng thử lại với từ khóa khác hoặc bỏ bớt bộ lọc",-1)),e("button",{onClick:Q,class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all flex items-center mx-auto"},t[19]||(t[19]=[e("i",{class:"fas fa-redo-alt mr-2"},null,-1),x(" Xóa bộ lọc ")]))])):(d(),n("div",pt,[e("div",mt,[(d(!0),n(V,null,S(v.value,a=>(d(),n("div",{key:a.id,class:C(["bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-all transform hover:-translate-y-1 border border-gray-100",{"border-l-4 border-l-green-500":a.matchesCriteria}])},[e("div",gt,[e("button",{onClick:u=>j(a),class:C(["absolute top-4 right-4 z-10 text-gray-400 hover:text-red-500 transition-colors focus:outline-none bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-sm",{"text-red-500":a.isSaved}])},[e("i",{class:C(a.isSaved?"fas fa-heart":"far fa-heart")},null,2)],10,ft),L(c,{to:`/job/${a.id}`,class:"block p-5"},{default:pe(()=>[e("div",vt,[e("div",bt,[a.enterprise_logo?(d(),n("div",xt,[e("img",{src:a.enterprise_logo,alt:a.enterprise_name,class:"object-contain w-full h-full"},null,8,ht)])):(d(),n("div",_t,p(G(a.enterprise_name)),1))]),e("div",wt,[e("h3",kt,p(a.title),1),e("p",qt,p(a.enterprise_name||"Công ty ẩn danh"),1),e("div",$t,[a!=null&&a.is_enterprise_premium?(d(),n("div",Ct,t[23]||(t[23]=[e("span",{class:"inline-flex items-center px-2 py-1 bg-amber-400 text-white rounded-full text-xs font-semibold shadow"}," Pro Company ",-1)]))):h("",!0),a.matchesCriteria?(d(),n("div",Vt,t[24]||(t[24]=[e("span",{class:"inline-flex items-center px-2 py-1 bg-green-500 text-white rounded-full text-xs font-semibold shadow"},[e("i",{class:"fas fa-check-circle mr-1"}),x(" Phù hợp ")],-1)]))):h("",!0)]),e("div",St,[a.location?(d(),n("div",Tt,[t[25]||(t[25]=e("i",{class:"fas fa-map-marker-alt text-gray-500 mr-1"},null,-1)),x(" "+p(a.location),1)])):h("",!0),a.experience?(d(),n("div",Pt,[t[26]||(t[26]=e("i",{class:"fas fa-briefcase text-gray-500 mr-1"},null,-1)),x(" "+p(a.experience),1)])):h("",!0),a.type_working?(d(),n("div",Ut,p(a.type_working),1)):h("",!0)])]),e("div",Dt,[a.salary_min||a.salary_max?(d(),n("div",Ft,p(W(a.salary_min,a.salary_max)),1)):(d(),n("div",Mt," Thỏa thuận ")),e("div",zt,p(Y(a.publishDate)),1)])])]),_:2},1032,["to"])])],2))),128))]),f.value>1?(d(),n("div",Lt,[e("nav",Kt,[e("button",{class:C(["flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",{"opacity-50 cursor-not-allowed":l.value===1}]),disabled:l.value===1,onClick:t[4]||(t[4]=a=>U(l.value-1))},t[27]||(t[27]=[e("i",{class:"fas fa-chevron-left text-gray-500"},null,-1)]),10,Nt),T.value.includes(1)?h("",!0):(d(),n("button",{key:0,onClick:t[5]||(t[5]=a=>U(1)),class:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 text-gray-700"}," 1 ")),T.value[0]>2?(d(),n("span",Jt,"...")):h("",!0),(d(!0),n(V,null,S(T.value,a=>(d(),n("button",{key:a,onClick:u=>U(a),class:C(["flex items-center justify-center w-10 h-10 rounded-lg transition-colors",l.value===a?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50 text-gray-700"])},p(a),11,Bt))),128)),T.value[T.value.length-1]<f.value-1?(d(),n("span",At,"...")):h("",!0),T.value.includes(f.value)?h("",!0):(d(),n("button",{key:3,onClick:t[6]||(t[6]=a=>U(f.value)),class:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 text-gray-700"},p(f.value),1)),e("button",{class:C(["flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",{"opacity-50 cursor-not-allowed":l.value===f.value}]),disabled:l.value===f.value,onClick:t[7]||(t[7]=a=>U(l.value+1))},t[28]||(t[28]=[e("i",{class:"fas fa-chevron-right text-gray-500"},null,-1)]),10,It)]),e("div",Et," Trang "+p(l.value)+"/"+p(f.value)+" ("+p(F.value)+" kết quả) ",1)])):h("",!0)]))])])])])}}},Wt=R(Rt,[["__scopeId","data-v-616d3c7c"]]);export{Wt as default};
