import{E as $,c as r,a as l,e as n,t as _,n as T,f as W,d as N,X as z,k as M,G as B,s as E,v as G,M as Z,h as P,U as ee,j as te,B as se,P as A,o as ne,O as w,z as oe,q as f,F as L,i as K,l as F,g as ae}from"./index-DjN2xGKQ.js";const ie={class:"whitespace-pre-wrap text-[15px]"},le={key:0,class:"ml-1"},re={key:0,class:"fas fa-check-double"},ce={key:1,class:"fas fa-check"},ue={__name:"ChatMessage",props:{content:{type:String,required:!0},isCurrentUser:{type:Boolean,default:!1},isRead:{type:Boolean,default:!1},createdAt:{type:[String,Date],required:!0}},setup(i){const e=i,k=$(()=>{const p=new Date(e.createdAt);return isNaN(p.getTime())?"":p.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})});return(p,h)=>(l(),r("div",{class:T(["flex",i.isCurrentUser?"justify-end":"justify-start","mb-3"])},[n("div",{class:T(["max-w-[70%] rounded-2xl px-4 py-2.5 break-words shadow-sm",i.isCurrentUser?"bg-blue-500 text-white rounded-br-none":"bg-gray-100 text-gray-800 rounded-bl-none"])},[n("p",ie,_(i.content),1),n("div",{class:T(["text-xs mt-1 flex justify-end items-center",i.isCurrentUser?"text-blue-100":"text-gray-500"])},[W(_(k.value)+" ",1),i.isCurrentUser?(l(),r("span",le,[i.isRead?(l(),r("i",re)):(l(),r("i",ce))])):N("",!0)],2)],2)],2))}},de={class:"flex-shrink-0 mr-3 relative"},he={key:0,class:"w-12 h-12 rounded-full overflow-hidden shadow-sm"},ge=["src"],fe={key:1,class:"w-12 h-12 bg-gradient-to-r from-blue-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold shadow-sm"},me={key:2,class:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"},ve={class:"flex-1 min-w-0"},ye={class:"flex justify-between items-center"},xe={class:"flex items-center mt-1"},pe={key:0,class:"ml-2 bg-blue-500 text-white text-xs rounded-full px-1.5 py-0.5 min-w-[20px] text-center shadow-sm"},be={__name:"ChatConversation",props:{displayName:{type:String,required:!0},avatar:{type:String,default:null},lastMessage:{type:String,default:""},lastMessageTime:{type:String,default:""},unreadCount:{type:Number,default:0},isOnline:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},isRead:{type:Boolean,default:!0},userId:{type:[Number,String],required:!0},openInPopup:{type:Boolean,default:!1}},emits:["select"],setup(i,{emit:e}){const k=i,p=e,h=z("openChat",null),U=$(()=>{if(!k.lastMessageTime)return"";const y=new Date(k.lastMessageTime),v=new Date-y,d=Math.floor(v/(1e3*60));return d<1?"V·ª´a xong":d<60?`${d} ph√∫t`:d<24*60?`${Math.floor(d/60)}h`:d<7*24*60?`${Math.floor(d/(24*60))} ng√†y`:y.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"})}),u=y=>y?y.split(" ").filter(C=>C.length>0).map(C=>C.charAt(0).toUpperCase()).slice(0,2).join(""):"?",b=()=>{k.openInPopup&&h?h(k.userId):p("select")};return(y,C)=>(l(),r("div",{class:T(["flex items-center px-4 py-3 cursor-pointer transition-colors border-b border-gray-100",{"bg-blue-50":i.isActive,"hover:bg-gray-50":!i.isActive,"border-l-4 border-l-blue-500":i.isActive}]),onClick:b},[n("div",de,[i.avatar?(l(),r("div",he,[n("img",{src:i.avatar,alt:"Avatar",class:"w-full h-full object-cover"},null,8,ge)])):(l(),r("div",fe,_(u(i.displayName)),1)),i.isOnline?(l(),r("div",me)):N("",!0)]),n("div",ve,[n("div",ye,[n("h3",{class:T(["text-sm font-medium truncate",[i.unreadCount>0?"text-gray-900 font-semibold":"text-gray-700"]])},_(i.displayName),3),n("span",{class:T(["text-xs text-gray-500",[i.unreadCount>0?"text-blue-600 font-semibold":"text-gray-500"]])},_(U.value),3)]),n("div",xe,[n("p",{class:T(["text-sm truncate flex-1",{"text-gray-700 font-medium":!i.isRead&&i.unreadCount>0,"text-gray-500":i.isRead||i.unreadCount===0}])},_(i.lastMessage),3),i.unreadCount>0?(l(),r("span",pe,_(i.unreadCount>99?"99+":i.unreadCount),1)):N("",!0)])])],2))}},Ce={class:"border-t border-gray-100 py-3 px-4 bg-white"},ke={class:"relative flex-1"},we=["onKeydown"],Me=["disabled"],Te={__name:"ChatInput",props:{loading:{type:Boolean,default:!1}},emits:["send-message"],setup(i,{emit:e}){const k=i,p=e,h=M(""),U=M(null),u=M(1);M(!1);const b=$(()=>h.value.trim().length>0&&!k.loading),y=()=>{b.value&&(p("send-message",h.value.trim()),h.value="",u.value=1,setTimeout(()=>{U.value.focus()},10))},C=d=>{d.shiftKey||y()},v=()=>{const d=h.value.split(`
`);u.value=Math.min(d.length,5)};return B(h,()=>{v()}),(d,I)=>(l(),r("div",Ce,[n("form",{onSubmit:P(y,["prevent"]),class:"flex items-end gap-2"},[n("div",ke,[E(n("textarea",{"onUpdate:modelValue":I[0]||(I[0]=D=>h.value=D),placeholder:"Nh·∫≠p tin nh·∫Øn...",class:T(["w-full border-gray-200 border rounded-2xl px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent resize-none bg-gray-50",{"h-10":u.value===1,"h-20":u.value>1}]),onKeydown:Z(P(C,["prevent"]),["enter"]),onInput:v,ref_key:"textarea",ref:U},null,42,we),[[G,h.value]])]),n("button",{type:"submit",class:T(["bg-blue-500 hover:bg-blue-600 text-white rounded-full w-11 h-11 flex items-center justify-center shadow-sm transition-colors",{"opacity-50 cursor-not-allowed":!b.value,"hover:shadow-md":b.value}]),disabled:!b.value},I[1]||(I[1]=[n("i",{class:"fab fa-telegram-plane"},null,-1)]),10,Me)],32)]))}},Se={class:"h-full flex bg-white shadow-md rounded-lg overflow-hidden"},_e={class:"w-1/3 border-r border-gray-100 flex flex-col"},Ie={class:"py-3 px-4 border-b border-gray-100 bg-white"},$e={class:"relative mt-2"},Ne={class:"flex-1 overflow-y-auto"},Ue={key:0,class:"p-4 text-center"},je={key:1,class:"p-4 text-center"},Ae={class:"w-2/3 flex flex-col"},Be={class:"py-3 px-4 border-b border-gray-100 flex items-center justify-between bg-white shadow-sm"},Le={class:"flex items-center"},De={class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center overflow-hidden mr-3"},He=["src"],Re={key:1,class:"fas fa-user text-blue-500"},qe={class:"font-medium text-gray-800"},Oe={key:0,class:"text-xs text-green-500"},Ve={key:1,class:"py-2 text-center mb-2"},Pe={key:2,class:"my-auto text-center"},Ke={key:3,class:"my-auto text-center py-12"},Fe={class:"flex flex-col space-y-2"},We={key:0,class:"py-2 text-center"},ze={key:1,class:"flex-1 flex items-center justify-center flex-col p-4"},Je={__name:"ChatContainer",setup(i){const e=ee(),k=te(),p=se(),h=M(""),U=M(null),u=M(null),b=M(!1),y=M(!0),C=z("chatUserId",null);console.log("Gi√° tr·ªã userId ƒë∆∞·ª£c inject t·ª´ component cha:",C);const v=$(()=>{var s;return(s=k.userInfo)==null?void 0:s.user_id});B(()=>p.query.user,s=>{if(s){console.log("Tham s·ªë user ƒë√£ thay ƒë·ªïi:",s);const t=parseInt(s,10);isNaN(t)||(console.log("Ch·ªçn cu·ªôc tr√≤ chuy·ªán m·ªõi t·ª´ URL thay ƒë·ªïi:",t),H(t))}},{immediate:!1});const d=$(()=>{if(!e.conversations.length)return[];const s=new Map;return e.conversations.forEach(o=>{const m=o.sender===v.value?o.recipient:o.sender,a=typeof m=="string"?parseInt(m,10):m,x=e.userInfoCache[a];let g=e.lastMessages[a];if(g){const O=typeof g.sender=="string"?parseInt(g.sender,10):g.sender,V=typeof g.recipient=="string"?parseInt(g.recipient,10):g.recipient;O===v.value&&V===a||O===a&&V===v.value||(g=null)}s.has(a)||s.set(a,{userId:a,displayName:(x==null?void 0:x.fullname)||`Ng∆∞·ªùi d√πng #${a}`,avatar:(x==null?void 0:x.avatar)||null,isOnline:!1,lastMessage:(g==null?void 0:g.content)||"",lastMessageTime:(g==null?void 0:g.created_at)||"",unreadCount:0})}),Array.from(s.values()).sort((o,c)=>o.lastMessageTime?c.lastMessageTime?new Date(c.lastMessageTime)-new Date(o.lastMessageTime):-1:1)}),I=$(()=>{if(!h.value)return d.value;const s=h.value.toLowerCase();return d.value.filter(t=>t.displayName.toLowerCase().includes(s))});$(()=>e.activeConversation?d.value.find(s=>s.userId===e.activeConversation):null);const D=s=>(console.log("L·∫•y t√™n hi·ªÉn th·ªã cho conversation:",s),s.displayName||`Ng∆∞·ªùi d√πng #${s.userId}`),H=async s=>{if(console.log("ƒêang ch·ªçn cu·ªôc tr√≤ chuy·ªán v·ªõi userId:",s),e.activeConversation=s,U.value=s,e.activeConversation===s&&e.sortedMessages.length>0){console.log("Cu·ªôc tr√≤ chuy·ªán n√†y ƒë√£ ƒë∆∞·ª£c ch·ªçn v√† c√≥ tin nh·∫Øn, kh√¥ng t·∫£i l·∫°i");return}e.page=1,e.hasMoreMessages=!0;try{let t=!e.userInfoCache[s],o=null;t&&(o=e.fetchUserInfo(s));const c=await e.fetchMessages(s,!0);!c||c.length<20?e.hasMoreMessages=!1:e.hasMoreMessages=!0,await Promise.all([o].filter(Boolean)),await R(),await A(),setTimeout(()=>{S(),console.log("ƒê√£ cu·ªôn xu·ªëng tin nh·∫Øn m·ªõi nh·∫•t sau khi ch·ªçn cu·ªôc tr√≤ chuy·ªán")},100)}catch(t){console.error("L·ªói khi t·∫£i tin nh·∫Øn:",t)}finally{e.loading=!1}},R=async()=>{const s=e.sortedMessages.filter(t=>!t.is_read&&t.sender!==v.value);if(s.length>0){console.log(`ƒê√°nh d·∫•u ${s.length} tin nh·∫Øn l√† ƒë√£ ƒë·ªçc`);for(const t of s)try{await e.markMessageAsRead(t.id)}catch(o){console.error(`L·ªói khi ƒë√°nh d·∫•u tin nh·∫Øn ${t.id} l√† ƒë√£ ƒë·ªçc:`,o)}}},J=async s=>{if(e.activeConversation)try{const t=await e.sendMessage(e.activeConversation,s);console.log("üì§ ƒê√£ g·ª≠i tin nh·∫Øn m·ªõi:",t);const o=d.value.find(c=>c.userId===e.activeConversation);o&&(console.log("C·∫≠p nh·∫≠t tin nh·∫Øn m·ªõi nh·∫•t cho cu·ªôc tr√≤ chuy·ªán hi·ªán t·∫°i:",o.userId),o.lastMessage=s,o.lastMessageTime=new Date().toISOString()),setTimeout(async()=>{try{console.log("T·∫£i tin nh·∫Øn m·ªõi nh·∫•t sau khi g·ª≠i tin nh·∫Øn"),await e.fetchLatestMessages(),console.log("ƒê√£ c·∫≠p nh·∫≠t tin nh·∫Øn m·ªõi nh·∫•t cho t·∫•t c·∫£ cu·ªôc tr√≤ chuy·ªán")}catch(c){console.error("L·ªói khi t·∫£i tin nh·∫Øn m·ªõi nh·∫•t sau khi g·ª≠i:",c)}},500),setTimeout(()=>{const c=e.sortedMessages[e.sortedMessages.length-1];c&&c.content===s?console.log("‚úÖ Tin nh·∫Øn ƒë√£ ƒë∆∞·ª£c th√™m v√†o danh s√°ch, kh√¥ng c·∫ßn m√¥ ph·ªèng"):(console.log("‚ö†Ô∏è Kh√¥ng t√¨m th·∫•y tin nh·∫Øn m·ªõi trong danh s√°ch, m√¥ ph·ªèng tin nh·∫Øn"),t&&(e.addMessage({...t,is_read:!0}),e.sortConversationToTop(t)))},500),await A(),S()}catch(t){console.error("L·ªói khi g·ª≠i tin nh·∫Øn:",t)}},S=()=>{u.value&&(console.log("Th·ª±c hi·ªán cu·ªôn xu·ªëng cu·ªëi c√πng"),u.value.scrollTop=u.value.scrollHeight,setTimeout(()=>{u.value&&(u.value.scrollTop=u.value.scrollHeight,console.log("ƒê√£ cu·ªôn xu·ªëng l·∫ßn th·ª© hai ƒë·ªÉ ƒë·∫£m b·∫£o hi·ªÉn th·ªã tin nh·∫Øn m·ªõi nh·∫•t"))},100))},Q=async()=>{if(!u.value||!e.activeConversation)return;const{scrollTop:s,clientHeight:t,scrollHeight:o}=u.value;if(y.value=o-s-t<100,s<=20&&!b.value&&e.hasMoreMessages){console.log("ƒêang t·∫£i th√™m tin nh·∫Øn c≈© h∆°n...");const c=o;b.value=!0;try{if(await e.fetchMessages(e.activeConversation),await A(),u.value){const x=u.value.scrollHeight-c+20;u.value.scrollTop=x,console.log(`ƒê√£ ƒëi·ªÅu ch·ªânh scrollTop t·ª´ 0 ƒë·∫øn ${x}px`)}}catch(m){console.error("L·ªói khi t·∫£i th√™m tin nh·∫Øn c≈© h∆°n:",m)}finally{setTimeout(()=>{b.value=!1},500)}}};B(()=>JSON.stringify(e.sortedMessages),()=>{if(console.log("N·ªôi dung tin nh·∫Øn ƒë√£ thay ƒë·ªïi (deep check)"),R(),u.value){const{scrollTop:s,scrollHeight:t,clientHeight:o}=u.value,c=t-s-o<300,m=e.sortedMessages[e.sortedMessages.length-1],a=m&&m.sender===v.value;(c||a)&&(console.log("N·ªôi dung thay ƒë·ªïi v√† ng∆∞·ªùi d√πng g·∫ßn cu·ªëi ho·∫∑c g·ª≠i tin nh·∫Øn m·ªõi, ƒëang cu·ªôn xu·ªëng"),S(),A(()=>{S()}))}}),B(()=>e.sortedMessages.length,(s,t)=>{if(s>t){console.log(`S·ªë l∆∞·ª£ng tin nh·∫Øn ƒë√£ tƒÉng t·ª´ ${t} l√™n ${s}`);const o=e.sortedMessages[e.sortedMessages.length-1];if(o&&u.value){const{scrollTop:c,scrollHeight:m,clientHeight:a}=u.value,x=m-c-a<300,g=o.sender===v.value;(x||g)&&(console.log("C√≥ tin nh·∫Øn m·ªõi v√† ng∆∞·ªùi d√πng g·∫ßn cu·ªëi ho·∫∑c tin nh·∫Øn t·ª´ user hi·ªán t·∫°i, cu·ªôn xu·ªëng"),S())}}}),B(()=>e.activeConversation,(s,t)=>{s!==t&&(console.log(`Active conversation changed from ${t} to ${s}`),A(()=>{S()}))}),B(()=>e.sortedMessages,(s,t)=>{if(console.log("Tin nh·∫Øn thay ƒë·ªïi, danh s√°ch cu·ªôc tr√≤ chuy·ªán s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t"),s.length>t.length){const o=s[s.length-1];e.activeConversation===o.sender&&(console.log("Tin nh·∫Øn m·ªõi thu·ªôc cu·ªôc tr√≤ chuy·ªán ƒëang m·ªü"),o.recipient===v.value&&!o.is_read&&e.markMessageAsRead(o.id))}},{deep:!0});const q=s=>{if(console.log("Nh·∫≠n tin nh·∫Øn t·ª´ socket:",s),s&&s.type==="chat_message"){const t=s.message;if(e.addMessage(t),e.activeConversation===t.sender){e.markMessageAsRead(t.id);const o=d.value.find(c=>c.userId===t.sender);o&&(o.lastMessage=t.content,o.lastMessageTime=t.created_at,console.log("C·∫≠p nh·∫≠t tin nh·∫Øn m·ªõi nh·∫•t cho cu·ªôc tr√≤ chuy·ªán ƒëang m·ªü:",o)),A(()=>{S()})}setTimeout(async()=>{try{console.log("T·∫£i tin nh·∫Øn m·ªõi nh·∫•t sau khi nh·∫≠n tin nh·∫Øn t·ª´ socket"),await e.fetchLatestMessages(),console.log("ƒê√£ c·∫≠p nh·∫≠t tin nh·∫Øn m·ªõi nh·∫•t cho t·∫•t c·∫£ cu·ªôc tr√≤ chuy·ªán")}catch(o){console.error("L·ªói khi t·∫£i tin nh·∫Øn m·ªõi nh·∫•t sau khi nh·∫≠n tin nh·∫Øn socket:",o)}},500)}};ne(async()=>{console.log("ChatContainer ƒë√£ ƒë∆∞·ª£c mount"),X();let s=null;p.query.user?(s=parseInt(p.query.user,10),console.log("T√¨m th·∫•y tham s·ªë user trong URL:",s)):C&&(s=C,console.log("S·ª≠ d·ª•ng userId ƒë∆∞·ª£c inject:",s));try{await Promise.all([e.fetchConversations(),e.fetchUnreadMessages()]),await e.fetchLatestMessages(),console.log("ƒê√£ t·∫£i xong d·ªØ li·ªáu ban ƒë·∫ßu, s·ªë cu·ªôc tr√≤ chuy·ªán:",e.conversations.length),s&&!isNaN(s)&&(console.log("Th·ª±c hi·ªán ch·ªçn cu·ªôc tr√≤ chuy·ªán v·ªõi userId:",s),await H(s)),Y()}catch(t){console.error("L·ªói khi kh·ªüi t·∫°o ChatContainer:",t)}w.onMessage(q)});const X=()=>{console.log("ƒêang kh·ªüi t·∫°o k·∫øt n·ªëi WebSocket..."),w.init(),setTimeout(()=>{w.connected?console.log("‚úÖ WebSocket ƒë√£ k·∫øt n·ªëi th√†nh c√¥ng!"):(console.log("‚ö†Ô∏è WebSocket ch∆∞a k·∫øt n·ªëi sau 2 gi√¢y, th·ª≠ k·∫øt n·ªëi l·∫°i..."),w.disconnect(),w.init())},2e3)};let j=null;const Y=()=>{j&&clearInterval(j),j=setInterval(()=>{w.connected?console.log("‚úì WebSocket v·∫´n ƒëang k·∫øt n·ªëi"):(console.log("‚ö†Ô∏è Ph√°t hi·ªán WebSocket ƒë√£ ng·∫Øt k·∫øt n·ªëi, ƒëang th·ª≠ k·∫øt n·ªëi l·∫°i..."),w.init())},3e4)};return oe(()=>{console.log("ChatContainer ƒë√£ ƒë∆∞·ª£c unmount"),j&&(clearInterval(j),j=null),w.disconnect(),w.offMessage(q)}),(s,t)=>{var o,c,m;return l(),r("div",Se,[n("div",_e,[n("div",Ie,[t[2]||(t[2]=n("h2",{class:"text-lg font-semibold text-gray-800"},"Tin nh·∫Øn",-1)),n("div",$e,[E(n("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>h.value=a),placeholder:"T√¨m ki·∫øm cu·ªôc tr√≤ chuy·ªán...",class:"w-full border-gray-200 border rounded-xl pl-9 pr-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent bg-gray-50"},null,512),[[G,h.value]]),t[1]||(t[1]=n("div",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},[n("i",{class:"fas fa-search"})],-1))])]),n("div",Ne,[f(e).loading&&!f(e).activeConversation?(l(),r("div",Ue,t[3]||(t[3]=[n("i",{class:"fas fa-circle-notch fa-spin text-blue-500 text-xl"},null,-1),n("p",{class:"mt-2 text-gray-500"},"ƒêang t·∫£i danh s√°ch...",-1)]))):I.value.length===0?(l(),r("div",je,t[4]||(t[4]=[n("i",{class:"fas fa-comments text-gray-300 text-4xl"},null,-1),n("p",{class:"mt-2 text-gray-500"},"Kh√¥ng c√≥ cu·ªôc tr√≤ chuy·ªán n√†o",-1)]))):(l(!0),r(L,{key:2},K(I.value,a=>(l(),F(be,{key:a.id,"display-name":D(a),avatar:a.avatar,"last-message":a.lastMessage,"last-message-time":a.lastMessageTime,"unread-count":a.unreadCount,"is-online":a.isOnline,"is-active":f(e).activeConversation===a.userId,userId:a.userId,onSelect:x=>H(a.userId)},null,8,["display-name","avatar","last-message","last-message-time","unread-count","is-online","is-active","userId","onSelect"]))),128))])]),n("div",Ae,[f(e).activeConversation?(l(),r(L,{key:0},[n("div",Be,[n("div",Le,[n("div",De,[(o=f(e).activeConversation)!=null&&o.avatar?(l(),r("img",{key:0,src:f(e).activeConversation.avatar,alt:"Avatar",class:"w-full h-full object-cover"},null,8,He)):(l(),r("i",Re))]),n("div",null,[n("h3",qe,_((c=f(e).activeConversation)==null?void 0:c.displayName),1),(m=f(e).activeConversation)!=null&&m.isOnline?(l(),r("p",Oe,t[5]||(t[5]=[n("i",{class:"fas fa-circle mr-1 text-[8px]"},null,-1),W(" ƒêang ho·∫°t ƒë·ªông ")]))):N("",!0)])])]),n("div",{class:"flex-1 p-4 overflow-y-auto flex flex-col relative bg-gray-50",ref_key:"messagesContainer",ref:u,onScroll:Q},[!y.value&&f(e).sortedMessages.length>5?(l(),r("button",{key:0,onClick:S,class:"absolute bottom-4 right-4 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-2 shadow-md z-10 transition-colors",title:"Cu·ªôn xu·ªëng tin nh·∫Øn m·ªõi nh·∫•t"},t[6]||(t[6]=[n("i",{class:"fas fa-arrow-down"},null,-1)]))):N("",!0),b.value?(l(),r("div",Ve,t[7]||(t[7]=[n("i",{class:"fas fa-circle-notch fa-spin text-blue-500"},null,-1),n("p",{class:"text-xs text-gray-500"},"ƒêang t·∫£i th√™m tin nh·∫Øn c≈© h∆°n...",-1)]))):N("",!0),f(e).loading&&!f(e).sortedMessages.length?(l(),r("div",Pe,t[8]||(t[8]=[n("i",{class:"fas fa-circle-notch fa-spin text-blue-500 text-xl"},null,-1),n("p",{class:"mt-2 text-gray-500"},"ƒêang t·∫£i tin nh·∫Øn...",-1),n("p",{class:"text-xs text-gray-400 mt-1"},"ƒêang t·∫£i nhi·ªÅu trang ƒë·ªÉ hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß cu·ªôc tr√≤ chuy·ªán",-1)]))):f(e).sortedMessages.length?(l(),r(L,{key:4},[n("div",Fe,[(l(!0),r(L,null,K(f(e).sortedMessages,a=>(l(),F(ue,{key:a.id,content:a.content,"is-current-user":a.sender===v.value,"is-read":a.is_read,"created-at":a.created_at},null,8,["content","is-current-user","is-read","created-at"]))),128))]),f(e).loading&&f(e).sortedMessages.length?(l(),r("div",We,t[10]||(t[10]=[n("i",{class:"fas fa-circle-notch fa-spin text-blue-500"},null,-1),n("p",{class:"text-xs text-gray-500"},"ƒêang t·∫£i tin nh·∫Øn...",-1)]))):N("",!0)],64)):(l(),r("div",Ke,t[9]||(t[9]=[n("i",{class:"fas fa-comment-dots text-gray-300 text-5xl mb-3"},null,-1),n("p",{class:"mt-2 text-gray-500"},"Ch∆∞a c√≥ tin nh·∫Øn. H√£y g·ª≠i tin nh·∫Øn ƒë·∫ßu ti√™n!",-1)])))],544),ae(Te,{loading:f(e).loading,onSendMessage:J},null,8,["loading"])],64)):(l(),r("div",ze,t[11]||(t[11]=[n("i",{class:"fas fa-comments text-gray-300 text-6xl mb-4"},null,-1),n("h3",{class:"text-xl font-medium text-gray-700 mb-2"},"Tr√≤ chuy·ªán c·ªßa b·∫°n",-1),n("p",{class:"text-gray-500 text-center max-w-md"}," Ch·ªçn m·ªôt cu·ªôc tr√≤ chuy·ªán t·ª´ danh s√°ch b√™n tr√°i ho·∫∑c b·∫Øt ƒë·∫ßu m·ªôt cu·ªôc tr√≤ chuy·ªán m·ªõi. ",-1)])))])])}}};export{Je as _};
