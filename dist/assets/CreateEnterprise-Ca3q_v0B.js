import{u as U,x as B,k as g,D as M,o as S,c as r,a as s,e as t,s as D,d as m,z as E,q as G,g as a,m as v,p as f,n as h,b as _,t as p,F as N,h as q,v as L}from"./index-BAXA5aW0.js";import{_ as u}from"./BaseInput-BM8ReBO5.js";import{_ as P}from"./BaseButton-BMNTCWut.js";import{B as y}from"./BaseFileUpload-B6OEfJP_.js";const F={class:"min-h-screen bg-gray-50 py-12"},$={class:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8"},j={class:"bg-white shadow-xl rounded-lg overflow-hidden"},J={class:"p-8"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},Y={class:"space-y-8"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},A={class:"space-y-8"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},K={key:0,class:"mt-2 text-sm text-red-600"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},O={key:0,class:"mt-2 text-sm text-red-600"},W=["value"],X={key:0,class:"mt-2 text-sm text-red-600"},Z={key:0,class:"mt-2 text-sm text-red-600"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},ee={class:"pt-6 border-t border-gray-200"},ne={class:"flex justify-end"},se={__name:"CreateEnterprise",setup(le){const V=U(),k=B(),c=g(!1),d=g(""),l=g({}),n=M({company_name:"",tax:"",address:"",phone_number:"",email_company:"",business_certificate:null,field_of_activity:"",scale:"",description:"",city:"",link_web_site:"",logo:null,background_image:null}),x=g([]),w=async()=>{try{const e=await(await fetch("https://provinces.open-api.vn/api/?depth=1")).json();x.value=e}catch(i){console.error("Lỗi khi lấy danh sách tỉnh thành:",i)}};S(()=>{w()});const C=async()=>{var i,e;if(d.value="",l.value={},n.company_name||(l.value.company_name="Vui lòng nhập tên công ty"),n.tax||(l.value.tax="Vui lòng nhập mã số thuế"),n.address||(l.value.address="Vui lòng nhập địa chỉ"),n.phone_number||(l.value.phone_number="Vui lòng nhập số điện thoại"),n.email_company||(l.value.email_company="Vui lòng nhập email"),n.business_certificate||(l.value.business_certificate="Vui lòng tải lên ảnh giấy phép kinh doanh"),n.field_of_activity||(l.value.field_of_activity="Vui lòng chọn lĩnh vực hoạt động"),n.scale||(l.value.scale="Vui lòng chọn quy mô công ty"),n.description||(l.value.description="Vui lòng nhập mô tả công ty"),n.city||(l.value.city="Vui lòng nhập thành phố"),n.logo||(l.value.logo="Vui lòng tải lên logo công ty"),n.background_image||(l.value.background_image="Vui lòng tải lên ảnh nền doanh nghiệp"),!(Object.keys(l.value).length>0))try{c.value=!0,(await k.createEnterprise(n)).success?V.push("/employer"):d.value="Có lỗi xảy ra khi tạo thông tin doanh nghiệp"}catch(o){d.value=((e=(i=o.response)==null?void 0:i.data)==null?void 0:e.message)||"Có lỗi xảy ra khi tạo thông tin doanh nghiệp"}finally{c.value=!1}},b=(i,e)=>{i?l.value[e]=i:l.value[e]=""},T=i=>{if(!i)return!0;try{return new URL(i),l.value.link_web_site="",!0}catch{return l.value.link_web_site="URL không hợp lệ. Vui lòng nhập đúng định dạng (ví dụ: https://example.com)",!1}};return(i,e)=>(s(),r("div",F,[t("div",$,[e[27]||(e[27]=t("div",{class:"text-center mb-12"},[t("h1",{class:"text-3xl font-extrabold text-gray-900 sm:text-4xl"}," Tạo thông tin doanh nghiệp "),t("p",{class:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4"}," Điền đầy đủ thông tin doanh nghiệp của bạn để bắt đầu đăng tin tuyển dụng ")],-1)),t("div",j,[t("div",J,[d.value?(s(),D(E,{key:0,variant:"error",message:d.value,show:!!d.value,class:"mb-8"},null,8,["message","show"])):m("",!0),t("form",{onSubmit:G(C,["prevent"]),class:"space-y-8"},[t("div",null,[e[17]||(e[17]=t("h2",{class:"text-lg font-medium text-gray-900 mb-6"},"Thông tin cơ bản",-1)),t("div",R,[a(u,{modelValue:n.company_name,"onUpdate:modelValue":e[0]||(e[0]=o=>n.company_name=o),label:"Tên công ty",placeholder:"VD: Công ty TNHH ABC",required:"","prefix-icon":"building",error:l.value.company_name,class:"shadow-sm"},null,8,["modelValue","error"]),a(u,{modelValue:n.tax,"onUpdate:modelValue":e[1]||(e[1]=o=>n.tax=o),label:"Mã số thuế",placeholder:"VD: 0123456789",required:"","prefix-icon":"file-invoice",error:l.value.tax,class:"shadow-sm"},null,8,["modelValue","error"])])]),t("div",null,[e[18]||(e[18]=t("h2",{class:"text-lg font-medium text-gray-900 mb-6"},"Thông tin liên hệ",-1)),t("div",Y,[a(u,{modelValue:n.address,"onUpdate:modelValue":e[2]||(e[2]=o=>n.address=o),label:"Địa chỉ",placeholder:"VD: Số 123, Đường ABC, Quận XYZ",required:"","prefix-icon":"map-marker-alt",error:l.value.address,class:"shadow-sm"},null,8,["modelValue","error"]),t("div",z,[a(u,{modelValue:n.phone_number,"onUpdate:modelValue":e[3]||(e[3]=o=>n.phone_number=o),label:"Số điện thoại",placeholder:"VD: 0912345678",required:"","prefix-icon":"phone",error:l.value.phone_number,class:"shadow-sm"},null,8,["modelValue","error"]),a(u,{modelValue:n.email_company,"onUpdate:modelValue":e[4]||(e[4]=o=>n.email_company=o),label:"Email công ty",placeholder:"VD: contact@company.com",required:"","prefix-icon":"envelope",error:l.value.email_company,class:"shadow-sm"},null,8,["modelValue","error"])])])]),t("div",null,[e[26]||(e[26]=t("h2",{class:"text-lg font-medium text-gray-900 mb-6"},"Thông tin bổ sung",-1)),t("div",A,[t("div",H,[t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lĩnh vực hoạt động",-1)),v(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>n.field_of_activity=o),class:h(["mt-1 block w-full pl-3 pr-10 py-3 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md shadow-sm",{"border-red-500":l.value.field_of_activity}])},e[19]||(e[19]=[_('<option value="">Chọn lĩnh vực</option><option value="Công nghệ thông tin">Công nghệ thông tin</option><option value="Tài chính - Ngân hàng">Tài chính - Ngân hàng</option><option value="Marketing - Truyền thông">Marketing - Truyền thông</option><option value="Giáo dục">Giáo dục</option><option value="Y tế - Chăm sóc sức khỏe">Y tế - Chăm sóc sức khỏe</option><option value="Sản xuất - Công nghiệp">Sản xuất - Công nghiệp</option><option value="Bán lẻ - Thương mại">Bán lẻ - Thương mại</option><option value="Khác">Khác</option>',9)]),2),[[f,n.field_of_activity]]),l.value.field_of_activity?(s(),r("div",K,p(l.value.field_of_activity),1)):m("",!0)])]),t("div",Q,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Quy mô công ty",-1)),v(t("select",{"onUpdate:modelValue":e[6]||(e[6]=o=>n.scale=o),class:h(["mt-1 block w-full pl-3 pr-10 py-3 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md shadow-sm",{"border-red-500":l.value.scale}])},e[21]||(e[21]=[_('<option value="">Chọn quy mô</option><option value="1-10">1-10 nhân viên</option><option value="11-50">11-50 nhân viên</option><option value="51-200">51-200 nhân viên</option><option value="201-500">201-500 nhân viên</option><option value="501-1000">501-1000 nhân viên</option><option value="1000+">1000+ nhân viên</option>',7)]),2),[[f,n.scale]]),l.value.scale?(s(),r("div",O,p(l.value.scale),1)):m("",!0)]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Thành phố",-1)),v(t("select",{"onUpdate:modelValue":e[7]||(e[7]=o=>n.city=o),class:h(["mt-1 block w-full pl-3 pr-10 py-3 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md shadow-sm",{"border-red-500":l.value.city}])},[e[23]||(e[23]=t("option",{value:""},"Chọn thành phố",-1)),(s(!0),r(N,null,q(x.value,o=>(s(),r("option",{key:o.code,value:o.name},p(o.name),9,W))),128))],2),[[f,n.city]]),l.value.city?(s(),r("div",X,p(l.value.city),1)):m("",!0)])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Mô tả công ty",-1)),v(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=o=>n.description=o),rows:"4",class:h(["mt-1 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",{"border-red-500":l.value.description}]),placeholder:"Mô tả ngắn gọn về lĩnh vực, sản phẩm, dịch vụ và văn hóa công ty của bạn..."},null,2),[[L,n.description]]),l.value.description?(s(),r("div",Z,p(l.value.description),1)):m("",!0)]),t("div",I,[a(y,{modelValue:n.logo,"onUpdate:modelValue":e[9]||(e[9]=o=>n.logo=o),label:"Logo công ty",error:l.value.logo,accept:"image/*",icon:"fas fa-building",previewContainerClass:"h-40",helpText:"Tải lên logo công ty (JPG, PNG, tối đa 5MB)",onError:e[10]||(e[10]=o=>b(o,"logo"))},null,8,["modelValue","error"]),a(y,{modelValue:n.background_image,"onUpdate:modelValue":e[11]||(e[11]=o=>n.background_image=o),label:"Ảnh nền doanh nghiệp",error:l.value.background_image,accept:"image/*",icon:"fas fa-image",previewContainerClass:"h-40",helpText:"Tải lên ảnh nền doanh nghiệp (JPG, PNG, tối đa 5MB)",onError:e[12]||(e[12]=o=>b(o,"background_image"))},null,8,["modelValue","error"])]),a(y,{modelValue:n.business_certificate,"onUpdate:modelValue":e[13]||(e[13]=o=>n.business_certificate=o),label:"Giấy phép kinh doanh (Ảnh)",error:l.value.business_certificate,accept:"image/*",icon:"fas fa-file-alt",previewType:"contain",previewContainerClass:"h-60",helpText:"Tải lên ảnh giấy phép kinh doanh (JPG, PNG, tối đa 5MB)",onError:e[14]||(e[14]=o=>b(o,"business_certificate"))},null,8,["modelValue","error"]),a(u,{modelValue:n.link_web_site,"onUpdate:modelValue":e[15]||(e[15]=o=>n.link_web_site=o),label:"Website công ty",placeholder:"VD: https://company.com","prefix-icon":"globe",error:l.value.link_web_site,class:"shadow-sm",onBlur:e[16]||(e[16]=o=>T(n.link_web_site))},null,8,["modelValue","error"])])]),t("div",ee,[t("div",ne,[a(P,{type:"submit",variant:"primary",label:"Tạo thông tin doanh nghiệp",loading:c.value,disabled:c.value,class:"w-full md:w-auto px-8 py-3 text-base font-medium"},null,8,["loading","disabled"])])])],32)])])])]))}};export{se as default};
