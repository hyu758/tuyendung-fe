import{_ as S,j as J,k as _,E as T,o as V,r as $,c as r,a as i,e as s,m as L,v as N,l as B,F as b,h as y,b as D,g as x,w as v,f as o,t as n,d as u}from"./index-BNvAsbeg.js";import{u as P}from"./post-D-Os7nC3.js";const U={class:"bg-gray-50 py-8 min-h-screen"},q={class:"container mx-auto px-4"},E={class:"bg-white rounded-xl shadow-sm p-5 mb-8 transition-all hover:shadow-md"},F={class:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0"},H={class:"flex-1 relative"},I={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},M={key:1,class:"bg-white rounded-xl shadow-sm p-8 text-center"},Q={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},X={class:"p-5"},z={class:"mb-4"},A={key:0,class:"w-16 h-16 rounded-lg overflow-hidden bg-white border border-gray-100 flex items-center justify-center"},G=["src","alt"],K={key:1,class:"w-16 h-16 rounded-lg flex items-center justify-center bg-blue-100 text-blue-700 font-bold text-xl"},O={class:"mb-4"},R={class:"flex items-start justify-between mb-2"},W={class:"text-lg font-semibold text-gray-900 line-clamp-2 hover:text-blue-600"},Y={key:0,class:"ml-2 flex-shrink-0"},Z={class:"text-gray-600 text-sm mb-2"},j={class:"flex flex-wrap gap-2 mt-3"},ee={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-gray-100 text-gray-800"},te={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-green-100 text-green-800"},se={key:2,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-blue-100 text-blue-800"},le={key:3,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-purple-100 text-purple-800"},ae={class:"flex justify-between items-center mt-4 pt-4 border-t border-gray-100"},re=["onClick"],ie={__name:"SavedJobs",setup(oe){const f=P(),c=J(),d=_([]),p=_(""),h=(l,e)=>{if(!l&&!e)return"Thỏa thuận";const a=t=>t?(t/1e6).toLocaleString("vi-VN"):"";return l&&e?`${a(l)} - ${a(e)} triệu`:l?`Từ ${a(l)} triệu`:e?`Đến ${a(e)} triệu`:"Thỏa thuận"},g=T(()=>{if(!p.value)return d.value;const l=p.value.toLowerCase();return d.value.filter(e=>{var a,t,m;return e.post_detail.title.toLowerCase().includes(l)||((a=e.post_detail.enterprise_name)==null?void 0:a.toLowerCase().includes(l))||((t=e.post_detail.city)==null?void 0:t.toLowerCase().includes(l))||((m=e.post_detail.field_name)==null?void 0:m.toLowerCase().includes(l))})}),w=l=>l?l.split(" ").map(e=>e[0]).join("").substring(0,2).toUpperCase():"JH",k=async()=>{const l=await f.fetchSavedPosts();l.success?d.value=l.data.data.results:c.error(l.error)},C=async(l,e)=>{try{const a=await f.deleteSavedPost(l);a.success?(d.value=d.value.filter(t=>t.id!==l),c.success("Đã bỏ lưu việc làm thành công")):c.error(a.error)}catch{c.error("Có lỗi xảy ra khi bỏ lưu việc làm")}};return V(()=>{k()}),(l,e)=>{const a=$("router-link");return i(),r("div",U,[s("div",q,[e[13]||(e[13]=s("div",{class:"mb-8"},[s("h1",{class:"text-2xl md:text-3xl font-bold text-gray-900 mb-2"},"Việc làm đã lưu"),s("p",{class:"text-gray-600"},"Xem lại danh sách những việc làm mà bạn đã lưu trước đó")],-1)),s("div",E,[s("div",F,[s("div",H,[e[1]||(e[1]=s("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[s("i",{class:"fas fa-search text-gray-400"})],-1)),L(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),type:"text",placeholder:"Tìm kiếm trong danh sách việc làm đã lưu...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"},null,512),[[N,p.value]])])])]),B(f).loading?(i(),r("div",I,[(i(),r(b,null,y(3,t=>s("div",{key:t,class:"bg-white rounded-xl shadow-sm p-5 animate-pulse"},e[2]||(e[2]=[D('<div class="flex flex-col" data-v-4b4bf0fa><div class="w-16 h-16 bg-gray-200 rounded-lg mb-4" data-v-4b4bf0fa></div><div class="h-6 bg-gray-200 rounded w-3/4 mb-3" data-v-4b4bf0fa></div><div class="h-4 bg-gray-200 rounded w-1/2 mb-2" data-v-4b4bf0fa></div><div class="h-4 bg-gray-200 rounded w-1/4" data-v-4b4bf0fa></div><div class="mt-4" data-v-4b4bf0fa><div class="h-8 bg-gray-200 rounded w-24" data-v-4b4bf0fa></div></div></div>',1)]))),64))])):g.value.length?(i(),r("div",Q,[(i(!0),r(b,null,y(g.value,t=>(i(),r("div",{key:t.id,class:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-all transform hover:-translate-y-1 border border-gray-100"},[s("div",X,[s("div",z,[t.post_detail.enterprise_logo?(i(),r("div",A,[s("img",{src:t.post_detail.enterprise_logo,alt:t.post_detail.enterprise_name,class:"object-contain w-full h-full"},null,8,G)])):(i(),r("div",K,n(w(t.post_detail.enterprise_name)),1))]),s("div",O,[s("div",R,[s("h3",W,[x(a,{to:{name:"JobDetail",params:{id:t.post_detail.id}}},{default:v(()=>[o(n(t.post_detail.title),1)]),_:2},1032,["to"])]),t.post_detail.is_enterprise_premium?(i(),r("div",Y,e[7]||(e[7]=[s("span",{class:"inline-flex items-center px-2 py-1 bg-amber-400 text-white rounded-full text-xs font-semibold"}," Pro ",-1)]))):u("",!0)]),s("p",Z,n(t.post_detail.enterprise_name),1),s("div",j,[t.post_detail.city?(i(),r("div",ee,[e[8]||(e[8]=s("i",{class:"fas fa-map-marker-alt text-gray-500 mr-1"},null,-1)),o(" "+n(`${t.post_detail.city}${t.post_detail.district?`, ${t.post_detail.district}`:""}`),1)])):u("",!0),t.post_detail.salary_min||t.post_detail.salary_max?(i(),r("div",te,[e[9]||(e[9]=s("i",{class:"fas fa-money-bill-wave text-green-500 mr-1"},null,-1)),o(" "+n(h(t.post_detail.salary_min,t.post_detail.salary_max)),1)])):u("",!0),t.post_detail.type_working?(i(),r("div",se,n(t.post_detail.type_working),1)):u("",!0),t.post_detail.experience?(i(),r("div",le,[e[10]||(e[10]=s("i",{class:"fas fa-briefcase text-purple-500 mr-1"},null,-1)),o(" "+n(t.post_detail.experience),1)])):u("",!0)])]),s("div",ae,[x(a,{to:{name:"JobDetail",params:{id:t.post_detail.id}},class:"inline-flex items-center px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium"},{default:v(()=>e[11]||(e[11]=[s("i",{class:"fas fa-eye mr-2"},null,-1),o(" Chi tiết ")])),_:2},1032,["to"]),s("button",{onClick:m=>C(t.id,t.post_detail.id),class:"inline-flex items-center px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium"},e[12]||(e[12]=[s("i",{class:"fas fa-heart mr-2"},null,-1),o(" Bỏ lưu ")]),8,re)])])]))),128))])):(i(),r("div",M,[e[4]||(e[4]=s("div",{class:"text-5xl text-blue-500 opacity-80 mb-4"},[s("i",{class:"fas fa-bookmark"})],-1)),e[5]||(e[5]=s("h3",{class:"text-xl font-semibold text-gray-800 mb-2"},"Chưa có việc làm nào được lưu",-1)),e[6]||(e[6]=s("p",{class:"text-gray-600 mb-6"},"Hãy lưu những việc làm bạn quan tâm để xem lại sau",-1)),x(a,{to:"/job-search",class:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all"},{default:v(()=>e[3]||(e[3]=[s("i",{class:"fas fa-search mr-2"},null,-1),o(" Tìm việc ngay ")])),_:1})]))])])}}},ue=S(ie,[["__scopeId","data-v-4b4bf0fa"]]);export{ue as default};
