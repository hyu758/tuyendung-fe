import{j as x,u as C,k as S,c as r,o as n,d as t,l as V,e as i,q as M,m as a,b as u,v as p,n as d,t as m,p as f,a as k,A as D}from"./index-Cd2jS5EI.js";import{u as E}from"./post-B--kX4P0.js";import{s as L,n as v,a as T}from"./notifications-BdlxHN63.js";const B={class:"min-h-screen bg-gray-50 py-8"},H={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},N={class:"bg-white shadow-xl rounded-lg overflow-hidden"},I={class:"p-8"},P={class:"flex items-center justify-between mb-8"},j={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F={key:0,class:"mt-1 text-sm text-red-500"},Q=["value"],J=["value"],R=["min"],Y={key:0,class:"mt-1 text-sm text-red-500"},$={key:0,class:"mt-1 text-sm text-red-500"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},A={key:0,class:"mt-1 text-sm text-red-500"},K={key:0,class:"mt-1 text-sm text-red-500"},O={class:"md:col-span-2"},G={key:0,class:"mt-1 text-sm text-red-500"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},X={key:0,class:"mt-1 text-sm text-red-500"},Z={key:0,class:"mt-1 text-sm text-red-500"},ee={key:0,class:"mt-1 text-sm text-red-500"},te={key:0,class:"mt-1 text-sm text-red-500"},oe={class:"md:col-span-2"},le={class:"space-y-3"},se={class:"flex items-center"},re={key:0,class:"grid grid-cols-2 gap-4"},ne=["required","disabled"],ie={key:0,class:"mt-1 text-sm text-red-500"},ae=["min","required","disabled"],ue={key:0,class:"mt-1 text-sm text-red-500"},de={class:"space-y-6"},me={key:0,class:"mt-1 text-sm text-red-500"},pe={key:0,class:"mt-1 text-sm text-red-500"},be={key:0,class:"mt-1 text-sm text-red-500"},ce={class:"flex justify-end space-x-4 pt-6 border-t"},ge=["disabled"],ve={key:0,class:"flex items-center"},ye={key:1},he={__name:"PostEdit",setup(xe){const w=x(""),g=C(),h=E(),y=x(!1),o=x({}),l=x({title:"",deadline:"",district:"",experience:"",interest:"",level:"",quantity:1,required:"",salary_min:0,salary_max:0,is_salary_negotiable:!1,time_working:"",type_working:"",city:"",description:"",detail_address:""}),_=g.currentRoute.value.params.id;S(async()=>{try{const b=await h.fetchPostDetailForEnterprise(_);if(!b.success){g.push("/employer/posts");return}l.value={...l.value,...b.data.data},w.value=l.value.position.name,console.log(l.value)}catch(b){console.error("Error loading post data:",b),g.push("/employer/posts")}});const U=async()=>{var b,e,s,q;try{y.value=!0,o.value={};const c=await h.updatePost(_,l.value);c.success?(L(v.post.updateSuccess),setTimeout(()=>{g.push("/employer/posts")},1e3)):(T(v.post.updateError+(c.error||v.common.error)),o.value=c.error)}catch(c){T(v.post.updateError+(((e=(b=c.response)==null?void 0:b.data)==null?void 0:e.message)||v.common.error)),(q=(s=c.response)==null?void 0:s.data)!=null&&q.errors?o.value=c.response.data.errors:console.error("Error updating post:",c)}finally{y.value=!1}};return(b,e)=>(n(),r("div",B,[t("div",H,[t("div",N,[t("div",I,[t("div",P,[e[19]||(e[19]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Chỉnh sửa tin tuyển dụng",-1)),t("button",{onClick:e[0]||(e[0]=s=>V(g).back()),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},e[18]||(e[18]=[t("i",{class:"fas fa-arrow-left mr-2"},null,-1),i(" Quay lại ")]))]),t("form",{onSubmit:M(U,["prevent"]),class:"space-y-8"},[t("div",null,[e[25]||(e[25]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Thông tin chung",-1)),t("div",j,[t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Tiêu đề tin "),t("span",{class:"text-red-500"},"*")],-1)),a(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.title=s),type:"text",required:"",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.title}])},null,2),[[p,l.value.title]]),o.value.title?(n(),r("p",F,m(o.value.title),1)):u("",!0)]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Lĩnh vực "),t("span",{class:"text-red-500"},"*")],-1)),t("input",{value:l.value.field||"Đang tải...",type:"text",readonly:"",class:"mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 bg-gray-50 text-gray-500 cursor-not-allowed"},null,8,Q)]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Vị trí "),t("span",{class:"text-red-500"},"*")],-1)),t("input",{value:w.value||"Đang tải...",type:"text",readonly:"",class:"mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 bg-gray-50 text-gray-500 cursor-not-allowed"},null,8,J)]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Hạn nộp hồ sơ "),t("span",{class:"text-red-500"},"*")],-1)),a(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.deadline=s),type:"date",required:"",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.deadline}]),min:new Date().toISOString().split("T")[0]},null,10,R),[[p,l.value.deadline]]),o.value.deadline?(n(),r("p",Y,m(o.value.deadline),1)):u("",!0)]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Số lượng "),t("span",{class:"text-red-500"},"*")],-1)),a(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.quantity=s),type:"number",required:"",min:"1",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.quantity}])},null,2),[[p,l.value.quantity]]),o.value.quantity?(n(),r("p",$,m(o.value.quantity),1)):u("",!0)])])]),t("div",null,[e[29]||(e[29]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Địa điểm làm việc",-1)),t("div",z,[t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Thành phố "),t("span",{class:"text-red-500"},"*")],-1)),a(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.city=s),type:"text",required:"",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.city}])},null,2),[[p,l.value.city]]),o.value.city?(n(),r("p",A,m(o.value.city),1)):u("",!0)]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Quận/Huyện "),t("span",{class:"text-red-500"},"*")],-1)),a(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>l.value.district=s),type:"text",required:"",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.district}])},null,2),[[p,l.value.district]]),o.value.district?(n(),r("p",K,m(o.value.district),1)):u("",!0)]),t("div",O,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Địa chỉ chi tiết "),t("span",{class:"text-red-500"},"*")],-1)),a(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>l.value.detail_address=s),type:"text",required:"",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.detail_address}])},null,2),[[p,l.value.detail_address]]),o.value.detail_address?(n(),r("p",G,m(o.value.detail_address),1)):u("",!0)])])]),t("div",null,[e[41]||(e[41]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Yêu cầu chung",-1)),t("div",W,[t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Kinh nghiệm "),t("span",{class:"text-red-500"},"*")],-1)),a(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>l.value.experience=s),required:"",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.experience}])},e[30]||(e[30]=[k('<option value="">Chọn kinh nghiệm</option><option value="Chưa có kinh nghiệm">Chưa có kinh nghiệm</option><option value="Dưới 1 năm">Dưới 1 năm</option><option value="1 năm">1 năm</option><option value="2 năm">2 năm</option><option value="3 năm">3 năm</option><option value="4 năm">4 năm</option><option value="5 năm">5 năm</option><option value="Trên 5 năm">Trên 5 năm</option>',9)]),2),[[f,l.value.experience]]),o.value.experience?(n(),r("p",X,m(o.value.experience),1)):u("",!0)]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Cấp bậc "),t("span",{class:"text-red-500"},"*")],-1)),a(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>l.value.level=s),required:"",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.level}])},e[32]||(e[32]=[k('<option value="">Chọn cấp bậc</option><option value="Intern">Intern</option><option value="Fresher">Fresher</option><option value="Junior">Junior</option><option value="Middle">Middle</option><option value="Senior">Senior</option><option value="Leader">Leader</option><option value="Manager">Manager</option><option value="Director">Director</option>',9)]),2),[[f,l.value.level]]),o.value.level?(n(),r("p",Z,m(o.value.level),1)):u("",!0)]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Thời gian làm việc "),t("span",{class:"text-red-500"},"*")],-1)),a(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>l.value.time_working=s),type:"text",required:"",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.time_working}])},null,2),[[p,l.value.time_working]]),o.value.time_working?(n(),r("p",ee,m(o.value.time_working),1)):u("",!0)]),t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Loại hình công việc "),t("span",{class:"text-red-500"},"*")],-1)),a(t("select",{"onUpdate:modelValue":e[10]||(e[10]=s=>l.value.type_working=s),required:"",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.type_working}])},e[35]||(e[35]=[k('<option value="">Chọn loại hình công việc</option><option value="Toàn thời gian">Toàn thời gian</option><option value="Bán thời gian">Bán thời gian</option><option value="Làm việc từ xa">Làm việc từ xa</option><option value="Làm việc kết hợp">Làm việc kết hợp</option><option value="Thực tập">Thực tập</option><option value="Hợp đồng">Hợp đồng</option>',7)]),2),[[f,l.value.type_working]]),o.value.type_working?(n(),r("p",te,m(o.value.type_working),1)):u("",!0)]),t("div",oe,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Mức lương "),t("span",{class:"text-red-500"},"*")],-1)),t("div",le,[t("div",se,[a(t("input",{type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=s=>l.value.is_salary_negotiable=s),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[D,l.value.is_salary_negotiable]]),e[37]||(e[37]=t("label",{class:"ml-2 block text-sm text-gray-700"}," Thỏa thuận ",-1))]),l.value.is_salary_negotiable?u("",!0):(n(),r("div",re,[t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm text-gray-600 mb-1"},"Tối thiểu",-1)),a(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>l.value.salary_min=s),type:"number",min:"0",step:"1000000",required:!l.value.is_salary_negotiable,class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.salary_min}]),disabled:l.value.is_salary_negotiable},null,10,ne),[[p,l.value.salary_min,void 0,{number:!0}]]),o.value.salary_min?(n(),r("p",ie,m(o.value.salary_min),1)):u("",!0)]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm text-gray-600 mb-1"},"Tối đa",-1)),a(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>l.value.salary_max=s),type:"number",min:l.value.salary_min||0,step:"1000000",required:!l.value.is_salary_negotiable,class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.salary_max}]),disabled:l.value.is_salary_negotiable},null,10,ae),[[p,l.value.salary_max,void 0,{number:!0}]]),o.value.salary_max?(n(),r("p",ue,m(o.value.salary_max),1)):u("",!0)])]))])])])]),t("div",null,[e[45]||(e[45]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Thông tin chi tiết",-1)),t("div",de,[t("div",null,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Mô tả công việc "),t("span",{class:"text-red-500"},"*")],-1)),a(t("textarea",{"onUpdate:modelValue":e[14]||(e[14]=s=>l.value.description=s),rows:"6",required:"",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.description}]),placeholder:"Mô tả chi tiết về công việc, trách nhiệm..."},null,2),[[p,l.value.description]]),o.value.description?(n(),r("p",me,m(o.value.description),1)):u("",!0)]),t("div",null,[e[43]||(e[43]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Yêu cầu ứng viên "),t("span",{class:"text-red-500"},"*")],-1)),a(t("textarea",{"onUpdate:modelValue":e[15]||(e[15]=s=>l.value.required=s),rows:"6",required:"",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.required}]),placeholder:"Các yêu cầu về kỹ năng, trình độ..."},null,2),[[p,l.value.required]]),o.value.required?(n(),r("p",pe,m(o.value.required),1)):u("",!0)]),t("div",null,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i("Quyền lợi ứng viên "),t("span",{class:"text-red-500"},"*")],-1)),a(t("textarea",{"onUpdate:modelValue":e[16]||(e[16]=s=>l.value.interest=s),rows:"6",required:"",class:d(["mt-1 block w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":o.value.interest}]),placeholder:"Các quyền lợi, chế độ đãi ngộ..."},null,2),[[p,l.value.interest]]),o.value.interest?(n(),r("p",be,m(o.value.interest),1)):u("",!0)])])]),t("div",ce,[t("button",{type:"button",onClick:e[17]||(e[17]=s=>V(g).back()),class:"px-6 py-2.5 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Hủy "),t("button",{type:"submit",disabled:y.value,class:"px-6 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[y.value?(n(),r("span",ve,e[46]||(e[46]=[t("i",{class:"fas fa-circle-notch fa-spin mr-2"},null,-1),i(" Đang cập nhật... ")]))):(n(),r("span",ye,"Cập nhật tin"))],8,ge)])],32)])])])]))}};export{he as default};
