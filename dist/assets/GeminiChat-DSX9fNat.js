var Jn=Object.defineProperty;var es=(p,e,n)=>e in p?Jn(p,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):p[e]=n;var R=(p,e,n)=>es(p,typeof e!="symbol"?e+"":e,n);import{_ as ts,r as ns,c as v,o as S,d as h,b as ce,F as Ce,g as Qe,n as ve,t as ne,a as xt,m as Tt,v as wt,M as _t,q as yt,e as de,f as fn,w as dn,h as ss,u as is,E as rs,j as V,G as os,k as as,C as Le,Q as ls}from"./index-BC0viRdf.js";function Dt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let be=Dt();function Cn(p){be=p}const Ue={exec:()=>null};function A(p,e=""){let n=typeof p=="string"?p:p.source;const t={replace:(r,o)=>{let a=typeof o=="string"?o:o.source;return a=a.replace(G.caret,"$1"),n=n.replace(r,a),t},getRegex:()=>new RegExp(n,e)};return t}const G={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:p=>new RegExp(`^( {0,3}${p})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}#`),htmlBeginRegex:p=>new RegExp(`^ {0,${Math.min(3,p-1)}}<(?:[a-z].*>|!--)`,"i")},cs=/^(?:[ \t]*(?:\n|$))+/,us=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ps=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,He=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,hs=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Mt=/(?:[*+-]|\d{1,9}[.)])/,Ln=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,In=A(Ln).replace(/bull/g,Mt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),fs=A(Ln).replace(/bull/g,Mt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Nt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ds=/^[^\n]+/,Ot=/(?!\s*\])(?:\\.|[^\[\]\\])+/,gs=A(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ot).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ms=A(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Mt).getRegex(),rt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Pt=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,bs=A("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Pt).replace("tag",rt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Dn=A(Nt).replace("hr",He).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt).getRegex(),ks=A(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Dn).getRegex(),zt={blockquote:ks,code:us,def:gs,fences:ps,heading:hs,hr:He,html:bs,lheading:In,list:ms,newline:cs,paragraph:Dn,table:Ue,text:ds},gn=A("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",He).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt).getRegex(),xs={...zt,lheading:fs,table:gn,paragraph:A(Nt).replace("hr",He).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt).getRegex()},Ts={...zt,html:A(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Pt).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ue,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:A(Nt).replace("hr",He).replace("heading",` *#{1,6} *[^
]`).replace("lheading",In).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ws=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,_s=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Mn=/^( {2,}|\\)\n(?!\s*$)/,ys=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ot=/[\p{P}\p{S}]/u,Ut=/[\s\p{P}\p{S}]/u,Nn=/[^\s\p{P}\p{S}]/u,vs=A(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ut).getRegex(),On=/(?!~)[\p{P}\p{S}]/u,Ss=/(?!~)[\s\p{P}\p{S}]/u,As=/(?:[^\s\p{P}\p{S}]|~)/u,Es=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Pn=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Rs=A(Pn,"u").replace(/punct/g,ot).getRegex(),Cs=A(Pn,"u").replace(/punct/g,On).getRegex(),zn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Ls=A(zn,"gu").replace(/notPunctSpace/g,Nn).replace(/punctSpace/g,Ut).replace(/punct/g,ot).getRegex(),Is=A(zn,"gu").replace(/notPunctSpace/g,As).replace(/punctSpace/g,Ss).replace(/punct/g,On).getRegex(),Ds=A("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Nn).replace(/punctSpace/g,Ut).replace(/punct/g,ot).getRegex(),Ms=A(/\\(punct)/,"gu").replace(/punct/g,ot).getRegex(),Ns=A(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Os=A(Pt).replace("(?:-->|$)","-->").getRegex(),Ps=A("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Os).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),nt=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,zs=A(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",nt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Un=A(/^!?\[(label)\]\[(ref)\]/).replace("label",nt).replace("ref",Ot).getRegex(),Bn=A(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ot).getRegex(),Us=A("reflink|nolink(?!\\()","g").replace("reflink",Un).replace("nolink",Bn).getRegex(),Bt={_backpedal:Ue,anyPunctuation:Ms,autolink:Ns,blockSkip:Es,br:Mn,code:_s,del:Ue,emStrongLDelim:Rs,emStrongRDelimAst:Ls,emStrongRDelimUnd:Ds,escape:ws,link:zs,nolink:Bn,punctuation:vs,reflink:Un,reflinkSearch:Us,tag:Ps,text:ys,url:Ue},Bs={...Bt,link:A(/^!?\[(label)\]\((.*?)\)/).replace("label",nt).getRegex(),reflink:A(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",nt).getRegex()},Ct={...Bt,emStrongRDelimAst:Is,emStrongLDelim:Cs,url:A(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Hs={...Ct,br:A(Mn).replace("{2,}","*").getRegex(),text:A(Ct.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ke={normal:zt,gfm:xs,pedantic:Ts},Ie={normal:Bt,gfm:Ct,breaks:Hs,pedantic:Bs},Fs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mn=p=>Fs[p];function se(p,e){if(e){if(G.escapeTest.test(p))return p.replace(G.escapeReplace,mn)}else if(G.escapeTestNoEncode.test(p))return p.replace(G.escapeReplaceNoEncode,mn);return p}function bn(p){try{p=encodeURI(p).replace(G.percentDecode,"%")}catch{return null}return p}function kn(p,e){var o;const n=p.replace(G.findPipe,(a,s,u)=>{let l=!1,c=s;for(;--c>=0&&u[c]==="\\";)l=!l;return l?"|":" |"}),t=n.split(G.splitPipe);let r=0;if(t[0].trim()||t.shift(),t.length>0&&!((o=t.at(-1))!=null&&o.trim())&&t.pop(),e)if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(G.slashPipe,"|");return t}function De(p,e,n){const t=p.length;if(t===0)return"";let r=0;for(;r<t&&p.charAt(t-r-1)===e;)r++;return p.slice(0,t-r)}function Gs(p,e){if(p.indexOf(e[1])===-1)return-1;let n=0;for(let t=0;t<p.length;t++)if(p[t]==="\\")t++;else if(p[t]===e[0])n++;else if(p[t]===e[1]&&(n--,n<0))return t;return n>0?-2:-1}function xn(p,e,n,t,r){const o=e.href,a=e.title||null,s=p[1].replace(r.other.outputLinkReplace,"$1");t.state.inLink=!0;const u={type:p[0].charAt(0)==="!"?"image":"link",raw:n,href:o,title:a,text:s,tokens:t.inlineTokens(s)};return t.state.inLink=!1,u}function $s(p,e,n){const t=p.match(n.other.indentCodeCompensation);if(t===null)return e;const r=t[1];return e.split(`
`).map(o=>{const a=o.match(n.other.beginningSpace);if(a===null)return o;const[s]=a;return s.length>=r.length?o.slice(r.length):o}).join(`
`)}class st{constructor(e){R(this,"options");R(this,"rules");R(this,"lexer");this.options=e||be}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const t=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?t:De(t,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const t=n[0],r=$s(t,n[3]||"",this.rules);return{type:"code",raw:t,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:r}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let t=n[2].trim();if(this.rules.other.endingHash.test(t)){const r=De(t,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(t=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:De(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let t=De(n[0],`
`).split(`
`),r="",o="";const a=[];for(;t.length>0;){let s=!1;const u=[];let l;for(l=0;l<t.length;l++)if(this.rules.other.blockquoteStart.test(t[l]))u.push(t[l]),s=!0;else if(!s)u.push(t[l]);else break;t=t.slice(l);const c=u.join(`
`),b=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,o=o?`${o}
${b}`:b;const m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(b,a,!0),this.lexer.state.top=m,t.length===0)break;const k=a.at(-1);if((k==null?void 0:k.type)==="code")break;if((k==null?void 0:k.type)==="blockquote"){const y=k,_=y.raw+`
`+t.join(`
`),z=this.blockquote(_);a[a.length-1]=z,r=r.substring(0,r.length-y.raw.length)+z.raw,o=o.substring(0,o.length-y.text.length)+z.text;break}else if((k==null?void 0:k.type)==="list"){const y=k,_=y.raw+`
`+t.join(`
`),z=this.list(_);a[a.length-1]=z,r=r.substring(0,r.length-k.raw.length)+z.raw,o=o.substring(0,o.length-y.raw.length)+z.raw,t=_.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:a,text:o}}}list(e){let n=this.rules.block.list.exec(e);if(n){let t=n[1].trim();const r=t.length>1,o={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");const a=this.rules.other.listItemRegex(t);let s=!1;for(;e;){let l=!1,c="",b="";if(!(n=a.exec(e))||this.rules.block.hr.test(e))break;c=n[0],e=e.substring(c.length);let m=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,j=>" ".repeat(3*j.length)),k=e.split(`
`,1)[0],y=!m.trim(),_=0;if(this.options.pedantic?(_=2,b=m.trimStart()):y?_=n[1].length+1:(_=n[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,b=m.slice(_),_+=n[1].length),y&&this.rules.other.blankLine.test(k)&&(c+=k+`
`,e=e.substring(k.length+1),l=!0),!l){const j=this.rules.other.nextBulletRegex(_),K=this.rules.other.hrRegex(_),L=this.rules.other.fencesBeginRegex(_),J=this.rules.other.headingBeginRegex(_),pe=this.rules.other.htmlBeginRegex(_);for(;e;){const he=e.split(`
`,1)[0];let ie;if(k=he,this.options.pedantic?(k=k.replace(this.rules.other.listReplaceNesting,"  "),ie=k):ie=k.replace(this.rules.other.tabCharGlobal,"    "),L.test(k)||J.test(k)||pe.test(k)||j.test(k)||K.test(k))break;if(ie.search(this.rules.other.nonSpaceChar)>=_||!k.trim())b+=`
`+ie.slice(_);else{if(y||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||L.test(m)||J.test(m)||K.test(m))break;b+=`
`+k}!y&&!k.trim()&&(y=!0),c+=he+`
`,e=e.substring(he.length+1),m=ie.slice(_)}}o.loose||(s?o.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(s=!0));let z=null,ue;this.options.gfm&&(z=this.rules.other.listIsTask.exec(b),z&&(ue=z[0]!=="[ ] ",b=b.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:c,task:!!z,checked:ue,loose:!1,text:b,tokens:[]}),o.raw+=c}const u=o.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let l=0;l<o.items.length;l++)if(this.lexer.state.top=!1,o.items[l].tokens=this.lexer.blockTokens(o.items[l].text,[]),!o.loose){const c=o.items[l].tokens.filter(m=>m.type==="space"),b=c.length>0&&c.some(m=>this.rules.other.anyLine.test(m.raw));o.loose=b}if(o.loose)for(let l=0;l<o.items.length;l++)o.items[l].loose=!0;return o}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const t=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:t,raw:n[0],href:r,title:o}}}table(e){var s;const n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;const t=kn(n[1]),r=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(s=n[3])!=null&&s.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(t.length===r.length){for(const u of r)this.rules.other.tableAlignRight.test(u)?a.align.push("right"):this.rules.other.tableAlignCenter.test(u)?a.align.push("center"):this.rules.other.tableAlignLeft.test(u)?a.align.push("left"):a.align.push(null);for(let u=0;u<t.length;u++)a.header.push({text:t[u],tokens:this.lexer.inline(t[u]),header:!0,align:a.align[u]});for(const u of o)a.rows.push(kn(u,a.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:a.align[c]})));return a}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const t=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:t,tokens:this.lexer.inline(t)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const t=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const a=De(t.slice(0,-1),"\\");if((t.length-a.length)%2===0)return}else{const a=Gs(n[2],"()");if(a===-2)return;if(a>-1){const u=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,u).trim(),n[3]=""}}let r=n[2],o="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(r);a&&(r=a[1],o=a[3])}else o=n[3]?n[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?r=r.slice(1):r=r.slice(1,-1)),xn(n,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let t;if((t=this.rules.inline.reflink.exec(e))||(t=this.rules.inline.nolink.exec(e))){const r=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=n[r.toLowerCase()];if(!o){const a=t[0].charAt(0);return{type:"text",raw:a,text:a}}return xn(t,o,t[0],this.lexer,this.rules)}}emStrong(e,n,t=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&t.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const a=[...r[0]].length-1;let s,u,l=a,c=0;const b=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(b.lastIndex=0,n=n.slice(-1*e.length+a);(r=b.exec(n))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(u=[...s].length,r[3]||r[4]){l+=u;continue}else if((r[5]||r[6])&&a%3&&!((a+u)%3)){c+=u;continue}if(l-=u,l>0)continue;u=Math.min(u,u+l+c);const m=[...r[0]][0].length,k=e.slice(0,a+r.index+m+u);if(Math.min(a,u)%2){const _=k.slice(1,-1);return{type:"em",raw:k,text:_,tokens:this.lexer.inlineTokens(_)}}const y=k.slice(2,-2);return{type:"strong",raw:k,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let t=n[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(t),o=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return r&&o&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:n[0],text:t}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let t,r;return n[2]==="@"?(t=n[1],r="mailto:"+t):(t=n[1],r=t),{type:"link",raw:n[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(e){var t;let n;if(n=this.rules.inline.url.exec(e)){let r,o;if(n[2]==="@")r=n[0],o="mailto:"+r;else{let a;do a=n[0],n[0]=((t=this.rules.inline._backpedal.exec(n[0]))==null?void 0:t[0])??"";while(a!==n[0]);r=n[0],n[1]==="www."?o="http://"+n[0]:o=n[0]}return{type:"link",raw:n[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){const t=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:t}}}}class Z{constructor(e){R(this,"tokens");R(this,"options");R(this,"state");R(this,"tokenizer");R(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||be,this.options.tokenizer=this.options.tokenizer||new st,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:G,block:Ke.normal,inline:Ie.normal};this.options.pedantic?(n.block=Ke.pedantic,n.inline=Ie.pedantic):this.options.gfm&&(n.block=Ke.gfm,this.options.breaks?n.inline=Ie.breaks:n.inline=Ie.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ke,inline:Ie}}static lex(e,n){return new Z(n).lex(e)}static lexInline(e,n){return new Z(n).inlineTokens(e)}lex(e){e=e.replace(G.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const t=this.inlineQueue[n];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],t=!1){var r,o,a;for(this.options.pedantic&&(e=e.replace(G.tabCharGlobal,"    ").replace(G.spaceLine,""));e;){let s;if((o=(r=this.options.extensions)==null?void 0:r.block)!=null&&o.some(l=>(s=l.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);const l=n.at(-1);s.raw.length===1&&l!==void 0?l.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);const l=n.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=`
`+s.raw,l.text+=`
`+s.text,this.inlineQueue.at(-1).src=l.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);const l=n.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=`
`+s.raw,l.text+=`
`+s.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}let u=e;if((a=this.options.extensions)!=null&&a.startBlock){let l=1/0;const c=e.slice(1);let b;this.options.extensions.startBlock.forEach(m=>{b=m.call({lexer:this},c),typeof b=="number"&&b>=0&&(l=Math.min(l,b))}),l<1/0&&l>=0&&(u=e.substring(0,l+1))}if(this.state.top&&(s=this.tokenizer.paragraph(u))){const l=n.at(-1);t&&(l==null?void 0:l.type)==="paragraph"?(l.raw+=`
`+s.raw,l.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(s),t=u.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);const l=n.at(-1);(l==null?void 0:l.type)==="text"?(l.raw+=`
`+s.raw,l.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(s);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var s,u,l;let t=e,r=null;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(t))!=null;)c.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(t=t.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+t.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(t))!=null;)t=t.slice(0,r.index)+"++"+t.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(r=this.tokenizer.rules.inline.blockSkip.exec(t))!=null;)t=t.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+t.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,a="";for(;e;){o||(a=""),o=!1;let c;if((u=(s=this.options.extensions)==null?void 0:s.inline)!=null&&u.some(m=>(c=m.call({lexer:this},e,n))?(e=e.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.escape(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.tag(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.link(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(c.raw.length);const m=n.at(-1);c.type==="text"&&(m==null?void 0:m.type)==="text"?(m.raw+=c.raw,m.text+=c.text):n.push(c);continue}if(c=this.tokenizer.emStrong(e,t,a)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.codespan(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.br(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.del(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.autolink(e)){e=e.substring(c.raw.length),n.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(e))){e=e.substring(c.raw.length),n.push(c);continue}let b=e;if((l=this.options.extensions)!=null&&l.startInline){let m=1/0;const k=e.slice(1);let y;this.options.extensions.startInline.forEach(_=>{y=_.call({lexer:this},k),typeof y=="number"&&y>=0&&(m=Math.min(m,y))}),m<1/0&&m>=0&&(b=e.substring(0,m+1))}if(c=this.tokenizer.inlineText(b)){e=e.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(a=c.raw.slice(-1)),o=!0;const m=n.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=c.raw,m.text+=c.text):n.push(c);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return n}}class it{constructor(e){R(this,"options");R(this,"parser");this.options=e||be}space(e){return""}code({text:e,lang:n,escaped:t}){var a;const r=(a=(n||"").match(G.notSpaceStart))==null?void 0:a[0],o=e.replace(G.endingNewline,"")+`
`;return r?'<pre><code class="language-'+se(r)+'">'+(t?o:se(o,!0))+`</code></pre>
`:"<pre><code>"+(t?o:se(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,t=e.start;let r="";for(let s=0;s<e.items.length;s++){const u=e.items[s];r+=this.listitem(u)}const o=n?"ol":"ul",a=n&&t!==1?' start="'+t+'"':"";return"<"+o+a+`>
`+r+"</"+o+`>
`}listitem(e){var t;let n="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?((t=e.tokens[0])==null?void 0:t.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+se(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",t="";for(let o=0;o<e.header.length;o++)t+=this.tablecell(e.header[o]);n+=this.tablerow({text:t});let r="";for(let o=0;o<e.rows.length;o++){const a=e.rows[o];t="";for(let s=0;s<a.length;s++)t+=this.tablecell(a[s]);r+=this.tablerow({text:t})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),t=e.header?"th":"td";return(e.align?`<${t} align="${e.align}">`:`<${t}>`)+n+`</${t}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${se(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:t}){const r=this.parser.parseInline(t),o=bn(e);if(o===null)return r;e=o;let a='<a href="'+e+'"';return n&&(a+=' title="'+se(n)+'"'),a+=">"+r+"</a>",a}image({href:e,title:n,text:t,tokens:r}){r&&(t=this.parser.parseInline(r,this.parser.textRenderer));const o=bn(e);if(o===null)return se(t);e=o;let a=`<img src="${e}" alt="${t}"`;return n&&(a+=` title="${se(n)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:se(e.text)}}class Ht{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Y{constructor(e){R(this,"options");R(this,"renderer");R(this,"textRenderer");this.options=e||be,this.options.renderer=this.options.renderer||new it,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ht}static parse(e,n){return new Y(n).parse(e)}static parseInline(e,n){return new Y(n).parseInline(e)}parse(e,n=!0){var r,o;let t="";for(let a=0;a<e.length;a++){const s=e[a];if((o=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&o[s.type]){const l=s,c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){t+=c||"";continue}}const u=s;switch(u.type){case"space":{t+=this.renderer.space(u);continue}case"hr":{t+=this.renderer.hr(u);continue}case"heading":{t+=this.renderer.heading(u);continue}case"code":{t+=this.renderer.code(u);continue}case"table":{t+=this.renderer.table(u);continue}case"blockquote":{t+=this.renderer.blockquote(u);continue}case"list":{t+=this.renderer.list(u);continue}case"html":{t+=this.renderer.html(u);continue}case"paragraph":{t+=this.renderer.paragraph(u);continue}case"text":{let l=u,c=this.renderer.text(l);for(;a+1<e.length&&e[a+1].type==="text";)l=e[++a],c+=`
`+this.renderer.text(l);n?t+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):t+=c;continue}default:{const l='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return t}parseInline(e,n=this.renderer){var r,o;let t="";for(let a=0;a<e.length;a++){const s=e[a];if((o=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&o[s.type]){const l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){t+=l||"";continue}}const u=s;switch(u.type){case"escape":{t+=n.text(u);break}case"html":{t+=n.html(u);break}case"link":{t+=n.link(u);break}case"image":{t+=n.image(u);break}case"strong":{t+=n.strong(u);break}case"em":{t+=n.em(u);break}case"codespan":{t+=n.codespan(u);break}case"br":{t+=n.br(u);break}case"del":{t+=n.del(u);break}case"text":{t+=n.text(u);break}default:{const l='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return t}}class Be{constructor(e){R(this,"options");R(this,"block");this.options=e||be}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Z.lex:Z.lexInline}provideParser(){return this.block?Y.parse:Y.parseInline}}R(Be,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class qs{constructor(...e){R(this,"defaults",Dt());R(this,"options",this.setOptions);R(this,"parse",this.parseMarkdown(!0));R(this,"parseInline",this.parseMarkdown(!1));R(this,"Parser",Y);R(this,"Renderer",it);R(this,"TextRenderer",Ht);R(this,"Lexer",Z);R(this,"Tokenizer",st);R(this,"Hooks",Be);this.use(...e)}walkTokens(e,n){var r,o;let t=[];for(const a of e)switch(t=t.concat(n.call(this,a)),a.type){case"table":{const s=a;for(const u of s.header)t=t.concat(this.walkTokens(u.tokens,n));for(const u of s.rows)for(const l of u)t=t.concat(this.walkTokens(l.tokens,n));break}case"list":{const s=a;t=t.concat(this.walkTokens(s.items,n));break}default:{const s=a;(o=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&o[s.type]?this.defaults.extensions.childTokens[s.type].forEach(u=>{const l=s[u].flat(1/0);t=t.concat(this.walkTokens(l,n))}):s.tokens&&(t=t.concat(this.walkTokens(s.tokens,n)))}}return t}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(t=>{const r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const a=n.renderers[o.name];a?n.renderers[o.name]=function(...s){let u=o.renderer.apply(this,s);return u===!1&&(u=a.apply(this,s)),u}:n.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=n[o.level];a?a.unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),r.extensions=n),t.renderer){const o=this.defaults.renderer||new it(this.defaults);for(const a in t.renderer){if(!(a in o))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const s=a,u=t.renderer[s],l=o[s];o[s]=(...c)=>{let b=u.apply(o,c);return b===!1&&(b=l.apply(o,c)),b||""}}r.renderer=o}if(t.tokenizer){const o=this.defaults.tokenizer||new st(this.defaults);for(const a in t.tokenizer){if(!(a in o))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const s=a,u=t.tokenizer[s],l=o[s];o[s]=(...c)=>{let b=u.apply(o,c);return b===!1&&(b=l.apply(o,c)),b}}r.tokenizer=o}if(t.hooks){const o=this.defaults.hooks||new Be;for(const a in t.hooks){if(!(a in o))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const s=a,u=t.hooks[s],l=o[s];Be.passThroughHooks.has(a)?o[s]=c=>{if(this.defaults.async)return Promise.resolve(u.call(o,c)).then(m=>l.call(o,m));const b=u.call(o,c);return l.call(o,b)}:o[s]=(...c)=>{let b=u.apply(o,c);return b===!1&&(b=l.apply(o,c)),b}}r.hooks=o}if(t.walkTokens){const o=this.defaults.walkTokens,a=t.walkTokens;r.walkTokens=function(s){let u=[];return u.push(a.call(this,s)),o&&(u=u.concat(o.call(this,s))),u}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Z.lex(e,n??this.defaults)}parser(e,n){return Y.parse(e,n??this.defaults)}parseMarkdown(e){return(t,r)=>{const o={...r},a={...this.defaults,...o},s=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&o.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=e);const u=a.hooks?a.hooks.provideLexer():e?Z.lex:Z.lexInline,l=a.hooks?a.hooks.provideParser():e?Y.parse:Y.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(t):t).then(c=>u(c,a)).then(c=>a.hooks?a.hooks.processAllTokens(c):c).then(c=>a.walkTokens?Promise.all(this.walkTokens(c,a.walkTokens)).then(()=>c):c).then(c=>l(c,a)).then(c=>a.hooks?a.hooks.postprocess(c):c).catch(s);try{a.hooks&&(t=a.hooks.preprocess(t));let c=u(t,a);a.hooks&&(c=a.hooks.processAllTokens(c)),a.walkTokens&&this.walkTokens(c,a.walkTokens);let b=l(c,a);return a.hooks&&(b=a.hooks.postprocess(b)),b}catch(c){return s(c)}}}onError(e,n){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+se(t.message+"",!0)+"</pre>";return n?Promise.resolve(r):r}if(n)return Promise.reject(t);throw t}}}const me=new qs;function E(p,e){return me.parse(p,e)}E.options=E.setOptions=function(p){return me.setOptions(p),E.defaults=me.defaults,Cn(E.defaults),E};E.getDefaults=Dt;E.defaults=be;E.use=function(...p){return me.use(...p),E.defaults=me.defaults,Cn(E.defaults),E};E.walkTokens=function(p,e){return me.walkTokens(p,e)};E.parseInline=me.parseInline;E.Parser=Y;E.parser=Y.parse;E.Renderer=it;E.TextRenderer=Ht;E.Lexer=Z;E.lexer=Z.lex;E.Tokenizer=st;E.Hooks=Be;E.parse=E;E.options;const Ws=E.setOptions;E.use;E.walkTokens;E.parseInline;const js=E;Y.parse;Z.lex;/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:Hn,setPrototypeOf:Tn,isFrozen:Vs,getPrototypeOf:Zs,getOwnPropertyDescriptor:Ys}=Object;let{freeze:$,seal:X,create:Fn}=Object,{apply:Lt,construct:It}=typeof Reflect<"u"&&Reflect;$||($=function(e){return e});X||(X=function(e){return e});Lt||(Lt=function(e,n,t){return e.apply(n,t)});It||(It=function(e,n){return new e(...n)});const Je=q(Array.prototype.forEach),Xs=q(Array.prototype.lastIndexOf),wn=q(Array.prototype.pop),Me=q(Array.prototype.push),Qs=q(Array.prototype.splice),tt=q(String.prototype.toLowerCase),vt=q(String.prototype.toString),_n=q(String.prototype.match),Ne=q(String.prototype.replace),Ks=q(String.prototype.indexOf),Js=q(String.prototype.trim),Q=q(Object.prototype.hasOwnProperty),F=q(RegExp.prototype.test),Oe=ei(TypeError);function q(p){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return Lt(p,e,t)}}function ei(p){return function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return It(p,n)}}function T(p,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tt;Tn&&Tn(p,null);let t=e.length;for(;t--;){let r=e[t];if(typeof r=="string"){const o=n(r);o!==r&&(Vs(e)||(e[t]=o),r=o)}p[r]=!0}return p}function ti(p){for(let e=0;e<p.length;e++)Q(p,e)||(p[e]=null);return p}function ge(p){const e=Fn(null);for(const[n,t]of Hn(p))Q(p,n)&&(Array.isArray(t)?e[n]=ti(t):t&&typeof t=="object"&&t.constructor===Object?e[n]=ge(t):e[n]=t);return e}function Pe(p,e){for(;p!==null;){const t=Ys(p,e);if(t){if(t.get)return q(t.get);if(typeof t.value=="function")return q(t.value)}p=Zs(p)}function n(){return null}return n}const yn=$(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),St=$(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),At=$(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ni=$(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Et=$(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),si=$(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vn=$(["#text"]),Sn=$(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Rt=$(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),An=$(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),et=$(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ii=X(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ri=X(/<%[\w\W]*|[\w\W]*%>/gm),oi=X(/\$\{[\w\W]*/gm),ai=X(/^data-[\-\w.\u00B7-\uFFFF]+$/),li=X(/^aria-[\-\w]+$/),Gn=X(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ci=X(/^(?:\w+script|data):/i),ui=X(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$n=X(/^html$/i),pi=X(/^[a-z][.\w]*(-[.\w]+)+$/i);var En=Object.freeze({__proto__:null,ARIA_ATTR:li,ATTR_WHITESPACE:ui,CUSTOM_ELEMENT:pi,DATA_ATTR:ai,DOCTYPE_NAME:$n,ERB_EXPR:ri,IS_ALLOWED_URI:Gn,IS_SCRIPT_OR_DATA:ci,MUSTACHE_EXPR:ii,TMPLIT_EXPR:oi});const ze={element:1,text:3,progressingInstruction:7,comment:8,document:9},hi=function(){return typeof window>"u"?null:window},fi=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let t=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(t=n.getAttribute(r));const o="dompurify"+(t?"#"+t:"");try{return e.createPolicy(o,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Rn=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function qn(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hi();const e=g=>qn(g);if(e.version="3.2.5",e.removed=[],!p||!p.document||p.document.nodeType!==ze.document||!p.Element)return e.isSupported=!1,e;let{document:n}=p;const t=n,r=t.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:s,Element:u,NodeFilter:l,NamedNodeMap:c=p.NamedNodeMap||p.MozNamedAttrMap,HTMLFormElement:b,DOMParser:m,trustedTypes:k}=p,y=u.prototype,_=Pe(y,"cloneNode"),z=Pe(y,"remove"),ue=Pe(y,"nextSibling"),j=Pe(y,"childNodes"),K=Pe(y,"parentNode");if(typeof a=="function"){const g=n.createElement("template");g.content&&g.content.ownerDocument&&(n=g.content.ownerDocument)}let L,J="";const{implementation:pe,createNodeIterator:he,createDocumentFragment:ie,getElementsByTagName:at}=n,{importNode:Ft}=t;let U=Rn();e.isSupported=typeof Hn=="function"&&typeof K=="function"&&pe&&pe.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Fe,ERB_EXPR:Ge,TMPLIT_EXPR:$e,DATA_ATTR:x,ARIA_ATTR:w,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:re,CUSTOM_ELEMENT:oe}=En;let{IS_ALLOWED_URI:Gt}=En,M=null;const $t=T({},[...yn,...St,...At,...Et,...vn]);let O=null;const qt=T({},[...Sn,...Rt,...An,...et]);let D=Object.seal(Fn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Se=null,lt=null,Wt=!0,ct=!0,jt=!1,Vt=!0,ke=!1,ut=!0,fe=!1,pt=!1,ht=!1,xe=!1,qe=!1,We=!1,Zt=!0,Yt=!1;const Wn="user-content-";let ft=!0,Ae=!1,Te={},we=null;const Xt=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Qt=null;const Kt=T({},["audio","video","img","source","image","track"]);let dt=null;const Jt=T({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),je="http://www.w3.org/1998/Math/MathML",Ve="http://www.w3.org/2000/svg",ae="http://www.w3.org/1999/xhtml";let _e=ae,gt=!1,mt=null;const jn=T({},[je,Ve,ae],vt);let Ze=T({},["mi","mo","mn","ms","mtext"]),Ye=T({},["annotation-xml"]);const Vn=T({},["title","style","font","a","script"]);let Ee=null;const Zn=["application/xhtml+xml","text/html"],Yn="text/html";let N=null,ye=null;const Xn=n.createElement("form"),en=function(i){return i instanceof RegExp||i instanceof Function},bt=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ye&&ye===i)){if((!i||typeof i!="object")&&(i={}),i=ge(i),Ee=Zn.indexOf(i.PARSER_MEDIA_TYPE)===-1?Yn:i.PARSER_MEDIA_TYPE,N=Ee==="application/xhtml+xml"?vt:tt,M=Q(i,"ALLOWED_TAGS")?T({},i.ALLOWED_TAGS,N):$t,O=Q(i,"ALLOWED_ATTR")?T({},i.ALLOWED_ATTR,N):qt,mt=Q(i,"ALLOWED_NAMESPACES")?T({},i.ALLOWED_NAMESPACES,vt):jn,dt=Q(i,"ADD_URI_SAFE_ATTR")?T(ge(Jt),i.ADD_URI_SAFE_ATTR,N):Jt,Qt=Q(i,"ADD_DATA_URI_TAGS")?T(ge(Kt),i.ADD_DATA_URI_TAGS,N):Kt,we=Q(i,"FORBID_CONTENTS")?T({},i.FORBID_CONTENTS,N):Xt,Se=Q(i,"FORBID_TAGS")?T({},i.FORBID_TAGS,N):{},lt=Q(i,"FORBID_ATTR")?T({},i.FORBID_ATTR,N):{},Te=Q(i,"USE_PROFILES")?i.USE_PROFILES:!1,Wt=i.ALLOW_ARIA_ATTR!==!1,ct=i.ALLOW_DATA_ATTR!==!1,jt=i.ALLOW_UNKNOWN_PROTOCOLS||!1,Vt=i.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ke=i.SAFE_FOR_TEMPLATES||!1,ut=i.SAFE_FOR_XML!==!1,fe=i.WHOLE_DOCUMENT||!1,xe=i.RETURN_DOM||!1,qe=i.RETURN_DOM_FRAGMENT||!1,We=i.RETURN_TRUSTED_TYPE||!1,ht=i.FORCE_BODY||!1,Zt=i.SANITIZE_DOM!==!1,Yt=i.SANITIZE_NAMED_PROPS||!1,ft=i.KEEP_CONTENT!==!1,Ae=i.IN_PLACE||!1,Gt=i.ALLOWED_URI_REGEXP||Gn,_e=i.NAMESPACE||ae,Ze=i.MATHML_TEXT_INTEGRATION_POINTS||Ze,Ye=i.HTML_INTEGRATION_POINTS||Ye,D=i.CUSTOM_ELEMENT_HANDLING||{},i.CUSTOM_ELEMENT_HANDLING&&en(i.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(D.tagNameCheck=i.CUSTOM_ELEMENT_HANDLING.tagNameCheck),i.CUSTOM_ELEMENT_HANDLING&&en(i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(D.attributeNameCheck=i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),i.CUSTOM_ELEMENT_HANDLING&&typeof i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(D.allowCustomizedBuiltInElements=i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ke&&(ct=!1),qe&&(xe=!0),Te&&(M=T({},vn),O=[],Te.html===!0&&(T(M,yn),T(O,Sn)),Te.svg===!0&&(T(M,St),T(O,Rt),T(O,et)),Te.svgFilters===!0&&(T(M,At),T(O,Rt),T(O,et)),Te.mathMl===!0&&(T(M,Et),T(O,An),T(O,et))),i.ADD_TAGS&&(M===$t&&(M=ge(M)),T(M,i.ADD_TAGS,N)),i.ADD_ATTR&&(O===qt&&(O=ge(O)),T(O,i.ADD_ATTR,N)),i.ADD_URI_SAFE_ATTR&&T(dt,i.ADD_URI_SAFE_ATTR,N),i.FORBID_CONTENTS&&(we===Xt&&(we=ge(we)),T(we,i.FORBID_CONTENTS,N)),ft&&(M["#text"]=!0),fe&&T(M,["html","head","body"]),M.table&&(T(M,["tbody"]),delete Se.tbody),i.TRUSTED_TYPES_POLICY){if(typeof i.TRUSTED_TYPES_POLICY.createHTML!="function")throw Oe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof i.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Oe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');L=i.TRUSTED_TYPES_POLICY,J=L.createHTML("")}else L===void 0&&(L=fi(k,r)),L!==null&&typeof J=="string"&&(J=L.createHTML(""));$&&$(i),ye=i}},tn=T({},[...St,...At,...ni]),nn=T({},[...Et,...si]),Qn=function(i){let f=K(i);(!f||!f.tagName)&&(f={namespaceURI:_e,tagName:"template"});const d=tt(i.tagName),C=tt(f.tagName);return mt[i.namespaceURI]?i.namespaceURI===Ve?f.namespaceURI===ae?d==="svg":f.namespaceURI===je?d==="svg"&&(C==="annotation-xml"||Ze[C]):!!tn[d]:i.namespaceURI===je?f.namespaceURI===ae?d==="math":f.namespaceURI===Ve?d==="math"&&Ye[C]:!!nn[d]:i.namespaceURI===ae?f.namespaceURI===Ve&&!Ye[C]||f.namespaceURI===je&&!Ze[C]?!1:!nn[d]&&(Vn[d]||!tn[d]):!!(Ee==="application/xhtml+xml"&&mt[i.namespaceURI]):!1},ee=function(i){Me(e.removed,{element:i});try{K(i).removeChild(i)}catch{z(i)}},Xe=function(i,f){try{Me(e.removed,{attribute:f.getAttributeNode(i),from:f})}catch{Me(e.removed,{attribute:null,from:f})}if(f.removeAttribute(i),i==="is")if(xe||qe)try{ee(f)}catch{}else try{f.setAttribute(i,"")}catch{}},sn=function(i){let f=null,d=null;if(ht)i="<remove></remove>"+i;else{const P=_n(i,/^[\r\n\t ]+/);d=P&&P[0]}Ee==="application/xhtml+xml"&&_e===ae&&(i='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+i+"</body></html>");const C=L?L.createHTML(i):i;if(_e===ae)try{f=new m().parseFromString(C,Ee)}catch{}if(!f||!f.documentElement){f=pe.createDocument(_e,"template",null);try{f.documentElement.innerHTML=gt?J:C}catch{}}const B=f.body||f.documentElement;return i&&d&&B.insertBefore(n.createTextNode(d),B.childNodes[0]||null),_e===ae?at.call(f,fe?"html":"body")[0]:fe?f.documentElement:B},rn=function(i){return he.call(i.ownerDocument||i,i,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},kt=function(i){return i instanceof b&&(typeof i.nodeName!="string"||typeof i.textContent!="string"||typeof i.removeChild!="function"||!(i.attributes instanceof c)||typeof i.removeAttribute!="function"||typeof i.setAttribute!="function"||typeof i.namespaceURI!="string"||typeof i.insertBefore!="function"||typeof i.hasChildNodes!="function")},on=function(i){return typeof s=="function"&&i instanceof s};function le(g,i,f){Je(g,d=>{d.call(e,i,f,ye)})}const an=function(i){let f=null;if(le(U.beforeSanitizeElements,i,null),kt(i))return ee(i),!0;const d=N(i.nodeName);if(le(U.uponSanitizeElement,i,{tagName:d,allowedTags:M}),i.hasChildNodes()&&!on(i.firstElementChild)&&F(/<[/\w!]/g,i.innerHTML)&&F(/<[/\w!]/g,i.textContent)||i.nodeType===ze.progressingInstruction||ut&&i.nodeType===ze.comment&&F(/<[/\w]/g,i.data))return ee(i),!0;if(!M[d]||Se[d]){if(!Se[d]&&cn(d)&&(D.tagNameCheck instanceof RegExp&&F(D.tagNameCheck,d)||D.tagNameCheck instanceof Function&&D.tagNameCheck(d)))return!1;if(ft&&!we[d]){const C=K(i)||i.parentNode,B=j(i)||i.childNodes;if(B&&C){const P=B.length;for(let W=P-1;W>=0;--W){const te=_(B[W],!0);te.__removalCount=(i.__removalCount||0)+1,C.insertBefore(te,ue(i))}}}return ee(i),!0}return i instanceof u&&!Qn(i)||(d==="noscript"||d==="noembed"||d==="noframes")&&F(/<\/no(script|embed|frames)/i,i.innerHTML)?(ee(i),!0):(ke&&i.nodeType===ze.text&&(f=i.textContent,Je([Fe,Ge,$e],C=>{f=Ne(f,C," ")}),i.textContent!==f&&(Me(e.removed,{element:i.cloneNode()}),i.textContent=f)),le(U.afterSanitizeElements,i,null),!1)},ln=function(i,f,d){if(Zt&&(f==="id"||f==="name")&&(d in n||d in Xn))return!1;if(!(ct&&!lt[f]&&F(x,f))){if(!(Wt&&F(w,f))){if(!O[f]||lt[f]){if(!(cn(i)&&(D.tagNameCheck instanceof RegExp&&F(D.tagNameCheck,i)||D.tagNameCheck instanceof Function&&D.tagNameCheck(i))&&(D.attributeNameCheck instanceof RegExp&&F(D.attributeNameCheck,f)||D.attributeNameCheck instanceof Function&&D.attributeNameCheck(f))||f==="is"&&D.allowCustomizedBuiltInElements&&(D.tagNameCheck instanceof RegExp&&F(D.tagNameCheck,d)||D.tagNameCheck instanceof Function&&D.tagNameCheck(d))))return!1}else if(!dt[f]){if(!F(Gt,Ne(d,re,""))){if(!((f==="src"||f==="xlink:href"||f==="href")&&i!=="script"&&Ks(d,"data:")===0&&Qt[i])){if(!(jt&&!F(I,Ne(d,re,"")))){if(d)return!1}}}}}}return!0},cn=function(i){return i!=="annotation-xml"&&_n(i,oe)},un=function(i){le(U.beforeSanitizeAttributes,i,null);const{attributes:f}=i;if(!f||kt(i))return;const d={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O,forceKeepAttr:void 0};let C=f.length;for(;C--;){const B=f[C],{name:P,namespaceURI:W,value:te}=B,Re=N(P);let H=P==="value"?te:Js(te);if(d.attrName=Re,d.attrValue=H,d.keepAttr=!0,d.forceKeepAttr=void 0,le(U.uponSanitizeAttribute,i,d),H=d.attrValue,Yt&&(Re==="id"||Re==="name")&&(Xe(P,i),H=Wn+H),ut&&F(/((--!?|])>)|<\/(style|title)/i,H)){Xe(P,i);continue}if(d.forceKeepAttr||(Xe(P,i),!d.keepAttr))continue;if(!Vt&&F(/\/>/i,H)){Xe(P,i);continue}ke&&Je([Fe,Ge,$e],hn=>{H=Ne(H,hn," ")});const pn=N(i.nodeName);if(ln(pn,Re,H)){if(L&&typeof k=="object"&&typeof k.getAttributeType=="function"&&!W)switch(k.getAttributeType(pn,Re)){case"TrustedHTML":{H=L.createHTML(H);break}case"TrustedScriptURL":{H=L.createScriptURL(H);break}}try{W?i.setAttributeNS(W,P,H):i.setAttribute(P,H),kt(i)?ee(i):wn(e.removed)}catch{}}}le(U.afterSanitizeAttributes,i,null)},Kn=function g(i){let f=null;const d=rn(i);for(le(U.beforeSanitizeShadowDOM,i,null);f=d.nextNode();)le(U.uponSanitizeShadowNode,f,null),an(f),un(f),f.content instanceof o&&g(f.content);le(U.afterSanitizeShadowDOM,i,null)};return e.sanitize=function(g){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=null,d=null,C=null,B=null;if(gt=!g,gt&&(g="<!-->"),typeof g!="string"&&!on(g))if(typeof g.toString=="function"){if(g=g.toString(),typeof g!="string")throw Oe("dirty is not a string, aborting")}else throw Oe("toString is not a function");if(!e.isSupported)return g;if(pt||bt(i),e.removed=[],typeof g=="string"&&(Ae=!1),Ae){if(g.nodeName){const te=N(g.nodeName);if(!M[te]||Se[te])throw Oe("root node is forbidden and cannot be sanitized in-place")}}else if(g instanceof s)f=sn("<!---->"),d=f.ownerDocument.importNode(g,!0),d.nodeType===ze.element&&d.nodeName==="BODY"||d.nodeName==="HTML"?f=d:f.appendChild(d);else{if(!xe&&!ke&&!fe&&g.indexOf("<")===-1)return L&&We?L.createHTML(g):g;if(f=sn(g),!f)return xe?null:We?J:""}f&&ht&&ee(f.firstChild);const P=rn(Ae?g:f);for(;C=P.nextNode();)an(C),un(C),C.content instanceof o&&Kn(C.content);if(Ae)return g;if(xe){if(qe)for(B=ie.call(f.ownerDocument);f.firstChild;)B.appendChild(f.firstChild);else B=f;return(O.shadowroot||O.shadowrootmode)&&(B=Ft.call(t,B,!0)),B}let W=fe?f.outerHTML:f.innerHTML;return fe&&M["!doctype"]&&f.ownerDocument&&f.ownerDocument.doctype&&f.ownerDocument.doctype.name&&F($n,f.ownerDocument.doctype.name)&&(W="<!DOCTYPE "+f.ownerDocument.doctype.name+`>
`+W),ke&&Je([Fe,Ge,$e],te=>{W=Ne(W,te," ")}),L&&We?L.createHTML(W):W},e.setConfig=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bt(g),pt=!0},e.clearConfig=function(){ye=null,pt=!1},e.isValidAttribute=function(g,i,f){ye||bt({});const d=N(g),C=N(i);return ln(d,C,f)},e.addHook=function(g,i){typeof i=="function"&&Me(U[g],i)},e.removeHook=function(g,i){if(i!==void 0){const f=Xs(U[g],i);return f===-1?void 0:Qs(U[g],f,1)[0]}return wn(U[g])},e.removeHooks=function(g){U[g]=[]},e.removeAllHooks=function(){U=Rn()},e}var di=qn();const gi={name:"GeminiChat",setup(){const p=ss(),e=is(),n=rs(()=>p.isAuthenticated),t=V(""),r=V(!1),o=V(!1),a=V(!1),s=V(null),u=V([]),l=V(null),c=V(null),b=V(!1),m=V(""),k=V(""),y=V(!1),_=V(!1),z=async()=>{if(!t.value.trim()||r.value||!n.value)return;const x=t.value;if(t.value="",!s.value)try{await ue()}catch(I){console.error("Lỗi khi tạo phiên chat mới:",I);return}s.value.messages||(s.value.messages=[]),s.value.messages.push({role:"user",content:x,timestamp:new Date().toISOString()}),await L(),r.value=!0,o.value=!0;const w=s.value.id;try{const I=await Le.post("/api/gemini-chat/send-message/",{message:x,session_id:s.value.id});if(o.value=!1,s.value.messages.push({role:"model",content:I.data.data.response,timestamp:new Date().toISOString()}),s.value.title==="Phiên chat mới"){await j();const re=u.value.find(oe=>oe.id===w);re&&(s.value.title=re.title)}else await j()}catch(I){o.value=!1,console.error("Lỗi khi gửi tin nhắn:",I),s.value.messages.push({role:"model",content:"Xin lỗi, đã xảy ra lỗi khi xử lý tin nhắn của bạn. Vui lòng thử lại sau.",timestamp:new Date().toISOString()})}finally{r.value=!1,await L(),c.value&&c.value.focus()}},ue=async()=>{if(!n.value){e.push("/login");return}r.value=!0;try{const x=await Le.post("/api/gemini-chat/sessions/create/");s.value=x.data.data,s.value.messages=[],await j()}catch(x){console.error("Lỗi khi tạo phiên chat mới:",x)}finally{r.value=!1}},j=async()=>{if(n.value){a.value=!0;try{const w=(await Le.get("/api/gemini-chat/sessions/")).data.results.sort((I,re)=>new Date(re.updated_at)-new Date(I.updated_at));if(u.value.length>0){const I=u.value.map(oe=>oe.id);w.filter(oe=>!I.includes(oe.id)).forEach(oe=>{oe.isNew=!0})}u.value=w}catch(x){console.error("Lỗi khi lấy danh sách phiên chat:",x)}finally{a.value=!1}}},K=async x=>{if(x){r.value=!0;try{const w=await Le.get(`/api/gemini-chat/sessions/${x}/`);s.value=w.data.data,s.value.messages&&s.value.messages.forEach((I,re)=>{}),await L()}catch(w){console.error("Lỗi khi tải phiên chat:",w)}finally{r.value=!1}}},L=async()=>{await ls(),l.value&&(l.value.scrollTop=l.value.scrollHeight)},J=x=>{Ws({gfm:!0,breaks:!0,pedantic:!1,smartLists:!0,smartypants:!1,xhtml:!1});let w=js(x);const I={ALLOWED_TAGS:["b","i","em","strong","a","p","ul","ol","li","br","span","div","img","pre","code","h1","h2","h3","h4","h5","h6","blockquote","hr","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["href","target","rel","id","class","style","src","alt","title"],ALLOW_DATA_ATTR:!0,ADD_ATTR:["target"]};return w=w.replace(/\[ID: (\d+)\]\(job\/(\d+)\)/g,'<a href="/job/$2" target="_blank" rel="noopener noreferrer">Xem chi tiết</a>'),w=w.replace(/\[([^\]]+)\]\(job\/(\d+)\)/g,'<a href="/job/$2" target="_blank" rel="noopener noreferrer">$1</a>'),di.sanitize(w,I)},pe=x=>{try{const w=new Date(x);return isNaN(w.getTime())?"Invalid Date":w.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})}catch{return"Error"}},he=x=>{if(!x)return"";try{const w=new Date(x);if(isNaN(w.getTime()))return console.warn("Invalid date string:",x),"";const I=new Date;return w.toDateString()===I.toDateString()?w.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):w.getFullYear()===I.getFullYear()?w.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}):w.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(w){return console.error("Error formatting date:",w,x),""}},ie=x=>{t.value=x,c.value&&c.value.focus()},at=x=>{if(!x.messages||x.messages.length===0)return"Bắt đầu cuộc trò chuyện...";const w=x.messages[x.messages.length-1],I=w.content.length>50?w.content.substring(0,50)+"...":w.content;return w.role==="user"?`Bạn: ${I}`:I};return os(()=>n.value,x=>{x?j():(s.value=null,u.value=[])}),as(()=>{n.value&&j()}),{message:t,isLoading:r,isTyping:o,isLoadingSessions:a,currentSession:s,chatSessions:u,messagesContainer:l,messageInput:c,isAuthenticated:n,sendMessage:z,createNewChat:ue,fetchChatSessions:j,loadChatSession:K,formatMessage:J,formatTime:pe,formatDate:he,setMessage:ie,showEditTitleDialog:b,editedTitle:m,editTitleError:k,isUpdatingTitle:y,openEditTitleDialog:x=>{m.value=x.title,b.value=!0},cancelEditTitle:()=>{b.value=!1},updateChatTitle:async()=>{if(!m.value.trim()){k.value="Vui lòng nhập tiêu đề mới";return}y.value=!0;try{const x=await Le.put(`/api/gemini-chat/sessions/${s.value.id}/update-title/`,{title:m.value});s.value.title=m.value,await j(),b.value=!1}catch(x){console.error("Lỗi khi cập nhật tiêu đề phiên chat:",x),k.value="Xin lỗi, đã xảy ra lỗi khi cập nhật tiêu đề phiên chat. Vui lòng thử lại sau."}finally{y.value=!1}},showMobileChat:_,openMobileChat:x=>{_.value=!0,K(x)},closeMobileChat:()=>{_.value=!1},getSessionPreview:at}}},mi={class:"gemini-chat-container"},bi={class:"h-full md:hidden"},ki={key:0,class:"h-full flex flex-col bg-white"},xi={class:"py-4 px-4 border-b border-gray-100 bg-white"},Ti={class:"flex items-center justify-between mb-3"},wi={class:"flex-1 overflow-y-auto"},_i={key:0,class:"p-6 text-center"},yi={key:1,class:"p-6 text-center"},vi=["onClick"],Si={class:"flex-1 min-w-0"},Ai={class:"flex justify-between items-center mb-1"},Ei={class:"text-base font-medium truncate text-gray-900"},Ri={class:"text-sm text-gray-500"},Ci={class:"text-sm truncate text-gray-500"},Li={key:1,class:"h-full flex flex-col bg-white"},Ii={class:"py-3 px-4 border-b border-gray-100 flex items-center bg-white shadow-sm"},Di={class:"flex-1 p-4 overflow-y-auto flex flex-col relative bg-gray-50",ref:"messagesContainer"},Mi={key:0,class:"my-auto text-center py-12"},Ni={key:1,class:"flex flex-col space-y-3"},Oi={class:"message-avatar"},Pi={class:"message-content"},zi={class:"message-sender"},Ui=["innerHTML"],Bi={class:"message-time"},Hi={key:0,class:"message bot-message"},Fi={class:"message-input-container"},Gi=["disabled"],$i=["disabled"],qi={key:0,class:"auth-prompt"},Wi={class:"text-sm"},ji={class:"h-full hidden md:flex md:flex-col bg-white shadow-md rounded-lg overflow-hidden"},Vi={class:"chat-header flex-shrink-0"},Zi={class:"flex items-center space-x-2"},Yi={key:0,class:"text-sm text-gray-500"},Xi={class:"chat-layout flex-1"},Qi={class:"chat-sidebar"},Ki={key:0,class:"flex justify-center py-4"},Ji={key:1,class:"chat-sessions"},er=["onClick"],tr={class:"flex items-center w-full justify-between"},nr={class:"truncate flex-1"},sr={class:"flex items-center"},ir={class:"truncate"},rr={class:"actions opacity-0 group-hover:opacity-100"},or=["onClick"],ar={class:"text-xs text-gray-500 mt-1"},lr={key:0,class:"py-4 text-center text-gray-500"},cr={class:"chat-content"},ur={ref:"messagesContainer",class:"messages-container"},pr={key:0,class:"empty-chat"},hr={class:"empty-chat-content"},fr={class:"example-questions"},dr={class:"message-avatar"},gr={class:"message-content"},mr={class:"message-sender"},br=["innerHTML"],kr={class:"message-time"},xr={key:0,class:"message bot-message"},Tr={class:"message-input-container"},wr=["disabled"],_r=["disabled"],yr={key:0,class:"auth-prompt"},vr={class:"text-sm md:text-base"},Sr={key:0,class:"edit-title-dialog"},Ar={class:"edit-title-content"},Er={class:"edit-title-header"},Rr={class:"edit-title-body"},Cr={key:0,class:"text-red-500 text-sm mt-1"},Lr={class:"edit-title-footer"},Ir=["disabled"],Dr={key:0},Mr={key:1};function Nr(p,e,n,t,r,o){const a=ns("router-link");return S(),v("div",mi,[h("div",bi,[t.showMobileChat?(S(),v("div",Li,[h("div",Ii,[h("button",{onClick:e[2]||(e[2]=(...s)=>t.closeMobileChat&&t.closeMobileChat(...s)),class:"mr-3 p-2 rounded-full hover:bg-gray-100 transition-colors"},e[25]||(e[25]=[h("i",{class:"fas fa-arrow-left text-gray-600"},null,-1)])),e[26]||(e[26]=xt('<div class="flex items-center flex-1" data-v-6b7c9b3f><div class="w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center overflow-hidden mr-3" data-v-6b7c9b3f><i class="fas fa-robot text-indigo-600" data-v-6b7c9b3f></i></div><div data-v-6b7c9b3f><h3 class="font-medium text-gray-800" data-v-6b7c9b3f>JobHub AI</h3><p class="text-xs text-gray-500" data-v-6b7c9b3f>Trợ lý tuyển dụng thông minh</p></div></div>',1))]),h("div",Di,[t.currentSession?(S(),v("div",Ni,[(S(!0),v(Ce,null,Qe(t.currentSession.messages,(s,u)=>(S(),v("div",{key:u,class:ve(["message",s.role==="user"?"user-message":"bot-message"])},[h("div",Oi,[h("i",{class:ve([s.role==="user"?"fas fa-user":"fas fa-robot","avatar-icon"])},null,2)]),h("div",Pi,[h("div",zi,ne(s.role==="user"?"Bạn":"JobHub AI"),1),h("div",{class:"message-text",innerHTML:t.formatMessage(s.content)},null,8,Ui),h("div",Bi,ne(t.formatTime(s.timestamp)),1)])],2))),128)),t.isTyping?(S(),v("div",Hi,e[28]||(e[28]=[xt('<div class="message-avatar" data-v-6b7c9b3f><i class="fas fa-robot avatar-icon" data-v-6b7c9b3f></i></div><div class="message-content" data-v-6b7c9b3f><div class="message-sender" data-v-6b7c9b3f>JobHub AI</div><div class="typing-indicator" data-v-6b7c9b3f><span data-v-6b7c9b3f></span><span data-v-6b7c9b3f></span><span data-v-6b7c9b3f></span></div></div>',2)]))):ce("",!0)])):(S(),v("div",Mi,e[27]||(e[27]=[h("i",{class:"fas fa-robot text-gray-300 text-5xl mb-3"},null,-1),h("p",{class:"mt-2 text-gray-500"},"Bắt đầu cuộc trò chuyện với AI!",-1)])))],512),h("div",Fi,[Tt(h("textarea",{"onUpdate:modelValue":e[3]||(e[3]=s=>t.message=s),onKeydown:e[4]||(e[4]=_t(yt((...s)=>t.sendMessage&&t.sendMessage(...s),["prevent"]),["enter"])),placeholder:"Nhập tin nhắn của bạn...",rows:"1",ref:"messageInput",class:"message-input",disabled:t.isLoading||!t.isAuthenticated},null,40,Gi),[[wt,t.message]]),h("button",{onClick:e[5]||(e[5]=(...s)=>t.sendMessage&&t.sendMessage(...s)),class:"send-button",disabled:t.isLoading||!t.message||!t.isAuthenticated},e[29]||(e[29]=[h("i",{class:"fas fa-paper-plane"},null,-1)]),8,$i)]),t.isAuthenticated?ce("",!0):(S(),v("div",qi,[h("p",Wi,[e[31]||(e[31]=de("Vui lòng ")),fn(a,{to:"/login",class:"text-indigo-600 hover:underline"},{default:dn(()=>e[30]||(e[30]=[de("đăng nhập")])),_:1}),e[32]||(e[32]=de(" để sử dụng JobHub AI"))])]))])):(S(),v("div",ki,[h("div",xi,[h("div",Ti,[e[19]||(e[19]=h("h2",{class:"text-xl font-semibold text-gray-800"},"JobHub AI",-1)),h("button",{onClick:e[0]||(e[0]=(...s)=>t.createNewChat&&t.createNewChat(...s)),class:"mobile-new-chat-btn"},e[18]||(e[18]=[h("i",{class:"fas fa-plus"},null,-1)]))])]),h("div",wi,[t.isLoadingSessions?(S(),v("div",_i,e[20]||(e[20]=[h("i",{class:"fas fa-circle-notch fa-spin text-indigo-500 text-2xl"},null,-1),h("p",{class:"mt-3 text-gray-500"},"Đang tải danh sách...",-1)]))):t.chatSessions.length===0?(S(),v("div",yi,[e[21]||(e[21]=h("i",{class:"fas fa-robot text-gray-300 text-5xl"},null,-1)),e[22]||(e[22]=h("p",{class:"mt-3 text-gray-500"},"Chưa có cuộc trò chuyện nào",-1)),h("button",{onClick:e[1]||(e[1]=(...s)=>t.createNewChat&&t.createNewChat(...s)),class:"mt-4 px-4 py-2 bg-indigo-500 text-white rounded-lg"}," Bắt đầu trò chuyện ")])):(S(!0),v(Ce,{key:2},Qe(t.chatSessions,s=>{var u;return S(),v("div",{key:s.id,class:ve(["mobile-session-item",{active:((u=t.currentSession)==null?void 0:u.id)===s.id}]),onClick:l=>t.openMobileChat(s.id)},[e[23]||(e[23]=h("div",{class:"flex-shrink-0 mr-3"},[h("div",{class:"w-12 h-12 bg-gradient-to-r from-indigo-400 to-indigo-500 rounded-full flex items-center justify-center text-white font-bold shadow-sm"},[h("i",{class:"fas fa-robot"})])],-1)),h("div",Si,[h("div",Ai,[h("h3",Ei,ne(s.title),1),h("span",Ri,ne(t.formatDate(s.updated_at)),1)]),h("p",Ci,ne(t.getSessionPreview(s)),1)]),e[24]||(e[24]=h("div",{class:"ml-2"},[h("i",{class:"fas fa-chevron-right text-gray-400"})],-1))],10,vi)}),128))])]))]),h("div",ji,[h("div",Vi,[e[34]||(e[34]=h("h1",{class:"text-2xl font-bold"},"Trợ lý tuyển dụng thông minh",-1)),h("div",Zi,[t.isLoading?(S(),v("span",Yi,"Đang xử lý...")):ce("",!0),h("button",{onClick:e[6]||(e[6]=(...s)=>t.createNewChat&&t.createNewChat(...s)),class:"new-chat-btn"},e[33]||(e[33]=[h("i",{class:"fas fa-plus-circle mr-1"},null,-1),de(" Cuộc trò chuyện mới ")]))])]),h("div",Xi,[h("div",Qi,[e[38]||(e[38]=h("div",{class:"sidebar-header"},[h("h2",{class:"text-lg font-semibold"},"Lịch sử trò chuyện")],-1)),t.isLoadingSessions?(S(),v("div",Ki,e[35]||(e[35]=[h("div",{class:"loader"},null,-1)]))):(S(),v("div",Ji,[(S(!0),v(Ce,null,Qe(t.chatSessions,s=>{var u,l;return S(),v("div",{key:s.id,class:ve(["chat-session-item group",{active:((u=t.currentSession)==null?void 0:u.id)===s.id,new_chat:s.isNew}]),onClick:c=>t.loadChatSession(s.id)},[h("div",tr,[h("div",nr,[h("div",sr,[e[36]||(e[36]=h("i",{class:"fas fa-comment-dots mr-2 text-indigo-600"},null,-1)),h("span",ir,ne(s.title),1)])]),h("div",rr,[((l=t.currentSession)==null?void 0:l.id)===s.id?(S(),v("button",{key:0,onClick:yt(c=>t.openEditTitleDialog(s),["stop"]),class:"edit-title-btn text-gray-500 hover:text-indigo-600"},e[37]||(e[37]=[h("i",{class:"fas fa-edit"},null,-1)]),8,or)):ce("",!0)])]),h("div",ar,ne(t.formatDate(s.updated_at)),1)],10,er)}),128)),t.chatSessions.length===0?(S(),v("div",lr," Chưa có lịch sử trò chuyện ")):ce("",!0)]))]),h("div",cr,[h("div",ur,[t.currentSession?(S(),v(Ce,{key:1},[(S(!0),v(Ce,null,Qe(t.currentSession.messages,(s,u)=>(S(),v("div",{key:u,class:ve(["message",s.role==="user"?"user-message":"bot-message"])},[h("div",dr,[h("i",{class:ve([s.role==="user"?"fas fa-user":"fas fa-robot","avatar-icon"])},null,2)]),h("div",gr,[h("div",mr,ne(s.role==="user"?"Bạn":"JobHub AI"),1),h("div",{class:"message-text",innerHTML:t.formatMessage(s.content)},null,8,br),h("div",kr,ne(t.formatTime(s.timestamp)),1)])],2))),128)),t.isTyping?(S(),v("div",xr,e[42]||(e[42]=[xt('<div class="message-avatar" data-v-6b7c9b3f><i class="fas fa-robot avatar-icon" data-v-6b7c9b3f></i></div><div class="message-content" data-v-6b7c9b3f><div class="message-sender" data-v-6b7c9b3f>JobHub AI</div><div class="typing-indicator" data-v-6b7c9b3f><span data-v-6b7c9b3f></span><span data-v-6b7c9b3f></span><span data-v-6b7c9b3f></span></div></div>',2)]))):ce("",!0)],64)):(S(),v("div",pr,[h("div",hr,[e[39]||(e[39]=h("div",{class:"icon-container"},[h("i",{class:"fas fa-robot text-3xl md:text-5xl text-indigo-600 mb-4"})],-1)),e[40]||(e[40]=h("h3",{class:"text-lg md:text-xl font-bold mb-2"},"Trợ lý tuyển dụng thông minh",-1)),e[41]||(e[41]=h("p",{class:"text-sm md:text-base text-gray-600 mb-4 px-4 md:px-0"}," Hỏi bất cứ điều gì về việc tìm kiếm việc làm, viết CV, phỏng vấn hoặc đăng tin tuyển dụng. ",-1)),h("div",fr,[h("button",{onClick:e[7]||(e[7]=s=>t.setMessage("Làm thế nào để viết một CV hiệu quả?")),class:"example-question"}," Làm thế nào để viết một CV hiệu quả? "),h("button",{onClick:e[8]||(e[8]=s=>t.setMessage("Giúp tôi chuẩn bị phỏng vấn cho vị trí developer")),class:"example-question"}," Giúp tôi chuẩn bị phỏng vấn cho vị trí developer "),h("button",{onClick:e[9]||(e[9]=s=>t.setMessage("Tìm kiếm việc làm ở Hà Nội")),class:"example-question"}," Tìm kiếm việc làm ở Hà Nội ")])])]))],512),h("div",Tr,[Tt(h("textarea",{"onUpdate:modelValue":e[10]||(e[10]=s=>t.message=s),onKeydown:e[11]||(e[11]=_t(yt((...s)=>t.sendMessage&&t.sendMessage(...s),["prevent"]),["enter"])),placeholder:"Nhập tin nhắn của bạn...",rows:"1",ref:"messageInput",class:"message-input",disabled:t.isLoading||!t.isAuthenticated},null,40,wr),[[wt,t.message]]),h("button",{onClick:e[12]||(e[12]=(...s)=>t.sendMessage&&t.sendMessage(...s)),class:"send-button",disabled:t.isLoading||!t.message||!t.isAuthenticated},e[43]||(e[43]=[h("i",{class:"fas fa-paper-plane"},null,-1)]),8,_r)]),t.isAuthenticated?ce("",!0):(S(),v("div",yr,[h("p",vr,[e[45]||(e[45]=de("Vui lòng ")),fn(a,{to:"/login",class:"text-indigo-600 hover:underline"},{default:dn(()=>e[44]||(e[44]=[de("đăng nhập")])),_:1}),e[46]||(e[46]=de(" để sử dụng JobHub AI"))])]))])])]),t.showEditTitleDialog?(S(),v("div",Sr,[h("div",Ar,[h("div",Er,[e[48]||(e[48]=h("h2",null,"Đổi tên phiên chat",-1)),h("button",{onClick:e[13]||(e[13]=(...s)=>t.cancelEditTitle&&t.cancelEditTitle(...s)),class:"close-btn"},e[47]||(e[47]=[h("i",{class:"fas fa-times"},null,-1)]))]),h("div",Rr,[Tt(h("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=s=>t.editedTitle=s),placeholder:"Nhập tiêu đề mới",class:"edit-title-input",onKeydown:e[15]||(e[15]=_t((...s)=>t.updateChatTitle&&t.updateChatTitle(...s),["enter"]))},null,544),[[wt,t.editedTitle]]),t.editTitleError?(S(),v("div",Cr,ne(t.editTitleError),1)):ce("",!0)]),h("div",Lr,[h("button",{onClick:e[16]||(e[16]=(...s)=>t.cancelEditTitle&&t.cancelEditTitle(...s)),class:"cancel-btn"},"Hủy"),h("button",{onClick:e[17]||(e[17]=(...s)=>t.updateChatTitle&&t.updateChatTitle(...s)),class:"save-btn",disabled:t.isUpdatingTitle},[t.isUpdatingTitle?(S(),v("span",Dr,"Đang lưu...")):(S(),v("span",Mr,"Lưu"))],8,Ir)])])])):ce("",!0)])}const zr=ts(gi,[["render",Nr],["__scopeId","data-v-6b7c9b3f"]]);export{zr as default};
