import{_ as Ve,B as Te,u as je,k as h,i as Ie,D as Y,E as Q,G as Le,o as Se,r as Pe,c,a as r,e,d as v,F as M,h as q,b as W,t as a,g as o,l,N as d,s as Z,w as I,n as p,f as y,q as z,m as K,v as A,C as ce,O as ue}from"./index-Hv-5ffem.js";import{u as me}from"./post-BPehyViq.js";import{_ as H}from"./BaseButton-DRalqz1J.js";import{u as $e}from"./useToast-B6sEZtkc.js";const Be={class:"job-detail-container px-4 pb-8 pt-4"},Ne={class:"max-w-5xl mx-auto"},Ee={key:0,class:"space-y-6"},Fe={class:"bg-white shadow-lg rounded-lg overflow-hidden mb-6"},Me={class:"p-4 md:p-6"},qe={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 md:gap-6 mb-6"},ze={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Ke={class:"lg:col-span-2 space-y-6"},Ae={class:"bg-white shadow-lg rounded-lg overflow-hidden"},Re={class:"p-4 md:p-6"},Oe={class:"space-y-6"},Ge={class:"bg-white shadow-lg rounded-lg overflow-hidden"},Ue={class:"p-4 md:p-6"},He={class:"space-y-4"},Xe={class:"bg-white shadow-lg rounded-lg overflow-hidden"},Ye={class:"p-4 md:p-6"},Qe={class:"flex flex-wrap gap-2"},We={key:1},Ze={class:"bg-white shadow-lg rounded-lg overflow-hidden mb-6"},Je={class:"p-4 md:p-6"},et={class:"text-xl md:text-2xl font-bold text-gray-900 mb-4"},tt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 md:gap-6 mb-6"},st={class:"flex items-center transform hover:scale-105 transition-transform"},nt={class:"w-10 h-10 md:w-12 md:h-12 bg-emerald-100 rounded-full flex items-center justify-center mr-3"},it={class:"font-medium text-sm md:text-base"},lt={class:"flex items-center transform hover:scale-105 transition-transform"},ot={class:"w-10 h-10 md:w-12 md:h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3"},at={class:"font-medium text-sm md:text-base truncate max-w-[180px]"},rt={class:"flex items-center transform hover:scale-105 transition-transform"},dt={class:"w-10 h-10 md:w-12 md:h-12 bg-purple-100 rounded-full flex items-center justify-center mr-3"},ct={class:"font-medium text-sm md:text-base"},ut={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},mt={class:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto mb-4 sm:mb-0"},gt={class:"text-white font-medium"},pt={key:0,class:"hidden sm:flex items-center gap-2 bg-green-50 px-4 py-2 rounded-lg border border-green-100 shadow-sm"},vt={class:"text-gray-700 text-sm"},ft={key:0,class:"sm:hidden mt-4 flex items-center gap-2 bg-green-50 px-4 py-3 rounded-lg border border-green-100 shadow-sm"},xt={class:"text-gray-700 text-sm"},ht={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},yt={class:"lg:col-span-2 space-y-6"},bt={class:"bg-white shadow-lg rounded-lg overflow-hidden transform hover:shadow-xl transition-all duration-300"},_t={class:"p-4 md:p-6"},wt={class:"flex flex-wrap items-center gap-2 mb-4"},kt={class:"text-gray-600 bg-gray-100 px-3 py-1 rounded-full text-xs md:text-sm hover:bg-gray-200 transition-colors"},Ct={class:"text-gray-600 bg-gray-100 px-3 py-1 rounded-full text-xs md:text-sm hover:bg-gray-200 transition-colors"},Dt={class:"mb-8"},Vt={class:"prose text-gray-600 text-sm md:text-base whitespace-pre-line"},Tt={class:"mb-8"},jt={class:"prose text-gray-600 text-sm md:text-base whitespace-pre-line"},It={class:"prose text-gray-600 text-sm md:text-base whitespace-pre-line"},Lt={class:"space-y-6"},St={class:"bg-white shadow-lg rounded-lg overflow-hidden transform hover:shadow-xl transition-all duration-300"},Pt={class:"p-4 md:p-6"},$t={class:"flex items-center mb-6"},Bt=["src"],Nt={class:"ml-3"},Et={class:"font-bold text-gray-900 text-sm md:text-base"},Ft={key:0},Mt={class:"space-y-4 text-gray-600 text-sm md:text-base"},qt={class:"flex items-start"},zt={class:"bg-white shadow-lg rounded-lg overflow-hidden transform hover:shadow-xl transition-all duration-300"},Kt={class:"p-4 md:p-6"},At={class:"space-y-4"},Rt={class:"flex items-center transform hover:scale-105 transition-transform"},Ot={class:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0"},Gt={class:"font-medium text-sm md:text-base"},Ut={class:"flex items-center transform hover:scale-105 transition-transform"},Ht={class:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0"},Xt={class:"font-medium text-sm md:text-base"},Yt={class:"flex items-center transform hover:scale-105 transition-transform"},Qt={class:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0"},Wt={class:"font-medium text-sm md:text-base"},Zt={class:"flex items-center transform hover:scale-105 transition-transform"},Jt={class:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0"},es={class:"font-medium text-sm md:text-base"},ts={class:"flex items-center gap-1"},ss={key:0,class:"flex items-center gap-2 bg-blue-50 py-2 px-3 rounded-lg text-blue-700 transform hover:scale-105 transition-all duration-300"},ns={class:"font-medium"},is={key:0,class:"fixed inset-0 z-50 flex items-center justify-center px-4"},ls={class:"flex items-center justify-between p-4 border-b"},os={class:"text-lg md:text-xl font-bold text-gray-900 pr-6"},as={key:0,class:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700"},rs={class:"flex items-center"},ds={class:"space-y-4"},cs={key:0,class:"mt-1 text-sm text-red-500"},us={key:0,class:"mt-1 text-sm text-red-500"},ms={key:0,class:"mt-1 text-sm text-red-500"},gs={key:0,class:"mt-1 text-sm text-red-500"},ps={key:0,class:"flex items-center justify-between"},vs={class:"flex items-center"},fs={class:"truncate"},xs={class:"font-medium text-gray-900 text-sm md:text-base truncate"},hs={class:"text-xs md:text-sm text-gray-500"},ys={key:1,class:"flex flex-col items-center justify-center"},bs={class:"text-center text-gray-500 text-sm md:text-base"},_s={class:"text-blue-600 cursor-pointer hover:underline"},ws={key:0,class:"mt-1 text-sm text-red-500"},ks={class:"mt-6 flex flex-col-reverse sm:flex-row sm:justify-end gap-2"},Cs=["disabled"],Ds={key:0,class:"flex items-center justify-center"},Vs={key:1},Ts={key:1,class:"fixed inset-0 z-50 flex items-center justify-center px-4"},js={class:"p-4 md:p-6"},Is={class:"flex items-center justify-center mb-4"},Ls={class:"bg-yellow-100 p-3 rounded-full"},Ss={class:"flex flex-col sm:flex-row justify-center gap-2 sm:space-x-4"},Ps={class:"p-4 flex items-center"},$s={class:"flex-1 mr-2"},Bs={key:3,class:"max-w-5xl mx-auto mt-8"},Ns={class:"text-xl md:text-2xl font-bold text-gray-900 mb-6 flex items-center"},Es={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6"},Fs={class:"p-4 flex-1"},Ms={key:0,class:"flex justify-end -mt-2 -mr-2 mb-1"},qs={class:"bg-amber-400 text-white text-xs font-semibold px-2 py-0.5 rounded-bl-lg rounded-tr-lg shadow-sm flex items-center"},zs={class:"flex justify-between items-start"},Ks={class:"flex-1"},As=["onClick"],Rs=["onClick","title"],Os={class:"flex items-center mb-2"},Gs={class:"relative w-8 h-8"},Us=["src"],Hs={key:0,class:"absolute -right-1 -top-1 w-3 h-3 bg-amber-400 rounded-full border border-white"},Xs={class:"grid grid-cols-1 gap-2 mb-3"},Ys={class:"flex items-center text-sm text-gray-500"},Qs={class:"flex items-center text-sm text-gray-500"},Ws={class:"flex items-center text-sm text-gray-500"},Zs={class:"text-xs text-gray-500"},Js=["onClick"],en={key:4,class:"fixed inset-0 z-50 flex items-center justify-center px-4"},tn={class:"p-4 md:p-6"},sn={class:"flex items-center justify-center mb-4"},nn={class:"bg-yellow-100 p-3 rounded-full"},ln={class:"flex flex-col sm:flex-row justify-center gap-2 sm:space-x-4"},on={key:5,class:"fixed inset-0 z-50 flex items-center justify-center px-4"},an={class:"p-4 md:p-6"},rn={class:"flex items-center justify-between mb-4"},dn={key:0,class:"mt-1 text-sm text-red-500"},cn={class:"flex gap-2 justify-end"},un=["disabled"],mn={key:0,class:"flex items-center justify-center"},gn={key:1},pn={__name:"JobDetail",setup(vn){const V=Te(),C=je(),n=h({}),P=h(!0),$=h(!1),L=h(!1),T=h(!1),B=h(!1),N=h(!1),D=h(null),R=h(!1),O=h(!1),m=Ie(),{addToast:b}=$e(),f=Y({name:"",email:"",phone_number:"",description:""}),u=Y({name:"",email:"",phone_number:"",description:"",cv:""}),J=h(""),_=h(""),S=h(!1),w=h("success"),j=h(""),E=Y({reason:""}),ee=s=>{s.target.src="/assets/logo.png"},G=s=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(s),te=s=>s.is_salary_negotiable?"Thoả thuận":s.salary_min===0&&s.salary_max>0?`Tới ${G(s.salary_max)}`:s.salary_max===0&&s.salary_min>0?`Từ ${G(s.salary_min)}`:s.salary_min>0&&s.salary_max>0?`${G(s.salary_min)} - ${G(s.salary_max)}`:"Thoả thuận",se=async()=>{try{P.value=!0;const t=await me().fetchPostById(V.params.id);n.value=t.data.data}catch(s){console.error("Error fetching job details:",s)}finally{P.value=!1}},F=()=>{$.value=!1,Object.keys(f).forEach(s=>{f[s]=""}),Object.keys(u).forEach(s=>{u[s]=""}),D.value=null,N.value=!1,_.value=""},ge=s=>{const t=s.target.files[0];t&&ne(t)},pe=s=>{N.value=!1;const t=s.dataTransfer.files[0];t&&ne(t)},ne=s=>{if(u.cv="",!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(s.type)){u.cv="Chỉ chấp nhận file PDF, DOC hoặc DOCX";return}if(s.size>5*1024*1024){u.cv="Kích thước file không được vượt quá 5MB";return}D.value=s},ve=()=>{D.value=null},fe=s=>{if(s===0)return"0 Bytes";const t=1024,g=["Bytes","KB","MB","GB"],x=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,x)).toFixed(2))+" "+g[x]},xe=()=>{let s=!0;return Object.keys(u).forEach(t=>{u[t]=""}),f.name.trim()||(u.name="Vui lòng nhập họ và tên",s=!1),f.email.trim()?/^\S+@\S+\.\S+$/.test(f.email)||(u.email="Email không hợp lệ",s=!1):(u.email="Vui lòng nhập email",s=!1),f.phone_number.trim()?/^[0-9]{10}$/.test(f.phone_number.replace(/\s/g,""))||(u.phone_number="Số điện thoại không hợp lệ",s=!1):(u.phone_number="Vui lòng nhập số điện thoại",s=!1),f.description.trim()||(u.description="Vui lòng nhập giới thiệu bản thân",s=!1),D.value||(u.cv="Vui lòng tải lên CV của bạn",s=!1),s},he=async()=>{var s;if(xe())try{R.value=!0,_.value="";const t=new FormData;if(t.append("post",n.value.id),t.append("name",f.name),t.append("email",f.email),t.append("phone_number",f.phone_number),t.append("description",f.description),t.append("cv",D.value),(await ce.post("/api/cv/create/",t,{headers:{"Content-Type":"multipart/form-data"}})).data.status===201){F();const x=new Date,k=new Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}).format(x);n.value={...n.value,latest_application_date:k,total_applicants:n.value.total_applicants!==void 0?n.value.total_applicants+1:void 0,has_applicants:!0},console.log("Đã cập nhật trạng thái ứng tuyển:",n.value.latest_application_date),_e("Ứng tuyển thành công! CV của bạn đã được gửi đến nhà tuyển dụng.","success")}}catch(t){if(console.error("Lỗi khi gửi ứng tuyển:",t),(s=t.response)!=null&&s.data){const g=t.response.data;if(g.message==="Bạn đã đạt giới hạn số lượng ứng tuyển trong ngày")_.value=g.message,F(),T.value=!0;else if(g.errors)if(typeof g.errors=="string")_.value=g.errors;else{const x=g.errors;Object.keys(x).forEach(k=>{u.hasOwnProperty(k)&&(Array.isArray(x[k])?u[k]=x[k][0]:u[k]=x[k])}),_.value=g.message||"Vui lòng kiểm tra lại thông tin đã nhập."}else _.value=g.message||"Đã xảy ra lỗi khi gửi ứng tuyển. Vui lòng thử lại sau."}else _.value="Không thể kết nối tới máy chủ. Vui lòng kiểm tra kết nối mạng và thử lại sau."}finally{R.value=!1}},ye=()=>{if(!m.isLoggedIn){b({title:"Cần đăng nhập",message:"Vui lòng đăng nhập để ứng tuyển công việc này",type:"warning"}),C.push({name:"Login",query:{redirect:V.fullPath}});return}if(!m.isCandidate){b({title:"Không thể ứng tuyển",message:"Chỉ tài khoản ứng viên mới có thể ứng tuyển công việc",type:"error"});return}$.value=!0},be=()=>{L.value=!1,C.push({name:"Login",query:{redirect:V.fullPath}})},_e=(s,t="success")=>{localStorage.setItem("notification",JSON.stringify({message:s,type:t,timestamp:new Date().getTime()})),J.value=t==="success"?s:"",_.value=t==="error"?s:"",w.value=t,S.value=!0,setTimeout(()=>{S.value=!1},5e3)},ie=Q(()=>{var s;return!!((s=n.value)!=null&&s.latest_application_date)});Q(()=>{var s;return((s=n.value)==null?void 0:s.can_chat_with_employer)===!0}),Q(()=>{var s,t;return m.isLoggedIn&&((s=m.userInfo)!=null&&s.is_premium)?!0:((t=n.value)==null?void 0:t.can_view_applicants)===!0});const le=s=>{if(!s)return"Không xác định";const t=new Date(s);return new Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}).format(t)},X=s=>{let t="Tính năng Premium",g="",x="crown";s==="chat"?(t="Trò chuyện với nhà tuyển dụng",g="Nâng cấp lên gói Premium để có thể trò chuyện trực tiếp với nhà tuyển dụng và tăng cơ hội được nhận việc!",x="comment-dots"):s==="view-applicants"&&(t="Xem số lượng ứng viên",g="Nâng cấp lên gói Premium để xem số lượng người đã ứng tuyển vào vị trí này và đánh giá mức độ cạnh tranh!",x="users"),b({title:t,message:g,type:"premium",icon:x,duration:7e3,action:{text:"Nâng cấp ngay",callback:()=>C.push({name:"CandidatePremium"})}}),setTimeout(()=>{C.push({name:"CandidatePremium"})},3e3)},we=()=>{var t,g;if(console.log("------------ DEBUG CHAT WITH EMPLOYER ------------"),console.log("Auth status:",{isLoggedIn:m.isLoggedIn,isAuthenticated:m.isAuthenticated,userRole:m.userRole,isCandidate:m.isCandidate,isPremium:(t=m.userInfo)==null?void 0:t.is_premium,token:!!localStorage.getItem("token")}),!m.isLoggedIn){console.error("Không thể chat: Người dùng chưa đăng nhập"),b({title:"Cần đăng nhập",message:"Vui lòng đăng nhập để nhắn tin với nhà tuyển dụng",type:"warning"}),C.push({name:"Login",query:{redirect:V.fullPath}});return}if(!m.isCandidate){console.error("Không thể chat: Người dùng không phải là ứng viên"),b({title:"Không thể nhắn tin",message:"Chỉ tài khoản ứng viên mới có thể nhắn tin với nhà tuyển dụng",type:"error"});return}if(!((g=m.userInfo)!=null&&g.is_premium)){console.error("Không thể chat: Người dùng không phải là Premium"),X("chat");return}if(!n.value){b({title:"Lỗi",message:"Không tìm thấy thông tin công việc",type:"error"});return}let s=null;if(console.log("Thông tin job để nhắn tin:",{id:n.value.id,title:n.value.title,user_id:n.value.user_id,enterprise_id:n.value.enterprise_id,enterprise:n.value.enterprise,enterprise_name:n.value.enterprise_name}),n.value.user_id?(s=n.value.user_id,console.log("Sử dụng user_id:",s)):n.value.enterprise_id?(s=n.value.enterprise_id,console.log("Sử dụng enterprise_id:",s)):n.value.enterprise&&(s=n.value.enterprise,console.log("Sử dụng enterprise:",s)),!s){b({title:"Lỗi",message:"Không tìm thấy thông tin nhà tuyển dụng",type:"error"});return}ue.connected||(console.log("Đang khởi tạo kết nối Socket trước khi chuyển trang..."),ue.init()),console.log(`Chuyển hướng đến trang nhắn tin với nhà tuyển dụng ID: ${s}`),setTimeout(()=>{C.push({name:"candidate-messages",query:{user:s}}).catch(x=>{console.error("Lỗi chuyển hướng đến trang chat:",x),b({title:"Lỗi chuyển hướng",message:"Không thể mở trang chat, vui lòng thử lại sau",type:"error"})})},300)},ke=async s=>{if(!m.isLoggedIn){b({title:"Cần đăng nhập",message:"Vui lòng đăng nhập để lưu công việc này",type:"warning"}),C.push({name:"Login",query:{redirect:V.fullPath}});return}try{const t=me();s.is_saved?(await t.deleteSavedPostByPostId(s.id),s.is_saved=!1,b({title:"Đã bỏ lưu",message:"Đã xóa công việc khỏi danh sách đã lưu",type:"success"})):(await t.savePost(s.id),s.is_saved=!0,b({title:"Đã lưu",message:"Đã thêm công việc vào danh sách đã lưu",type:"success"}))}catch(t){console.error("Lỗi khi lưu/bỏ lưu công việc:",t),b({title:"Lỗi",message:"Đã xảy ra lỗi khi thực hiện thao tác",type:"error"})}},Ce=()=>{T.value=!1,C.push({name:"CandidatePremium"})},oe=s=>{if(s===parseInt(V.params.id)){window.scrollTo({top:0,behavior:"smooth"});return}C.push({name:"JobDetail",params:{id:s}})};Le(()=>V.params.id,(s,t)=>{s!==t&&s&&(console.log(`Job ID changed from ${t} to ${s}, reloading job data...`),P.value=!0,se(),window.scrollTo({top:0,behavior:"smooth"}))},{immediate:!1});const U=()=>{B.value=!1,E.reason="",j.value=""},De=async()=>{var s,t;if(!E.reason.trim()){j.value="Vui lòng nhập lý do báo cáo";return}try{O.value=!0;const g=await ce.post("/api/posts/report/",{post:n.value.id,reason:E.reason});(g.status===201||g.status===200)&&(U(),b({title:"Báo cáo thành công",message:"Cảm ơn bạn đã báo cáo bài đăng này. Chúng tôi sẽ xem xét và phản hồi sớm.",type:"success"}))}catch(g){console.error("Lỗi khi gửi báo cáo:",g),(t=(s=g.response)==null?void 0:s.data)!=null&&t.message?j.value=g.response.data.message:j.value="Đã xảy ra lỗi khi gửi báo cáo. Vui lòng thử lại sau."}finally{O.value=!1}};return Se(()=>{m.fetchUserProfile().then(()=>{var s;console.log("[DEBUG] Thông tin người dùng sau khi tải profile:",m.userInfo),console.log("[DEBUG] Trạng thái premium sau khi tải profile:",(s=m.userInfo)==null?void 0:s.is_premium)}),se()}),(s,t)=>{var x,k,ae,re;const g=Pe("router-link");return r(),c("div",Be,[e("div",Ne,[P.value?(r(),c("div",Ee,[e("div",Fe,[e("div",Me,[t[17]||(t[17]=e("div",{class:"h-8 bg-gray-200 rounded w-full md:w-2/3 mb-4 animate-pulse"},null,-1)),e("div",qe,[(r(),c(M,null,q(3,i=>e("div",{key:i,class:"flex items-center animate-pulse"},t[16]||(t[16]=[e("div",{class:"w-10 h-10 md:w-12 md:h-12 bg-gray-200 rounded-full mr-3"},null,-1),e("div",{class:"flex-1"},[e("div",{class:"h-4 bg-gray-200 rounded w-20 mb-2"}),e("div",{class:"h-5 bg-gray-200 rounded w-32"})],-1)]))),64))]),t[18]||(t[18]=e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between animate-pulse"},[e("div",{class:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto mb-4 sm:mb-0"},[e("div",{class:"h-10 w-full sm:w-32 bg-gray-200 rounded-lg"}),e("div",{class:"h-10 w-full sm:w-24 bg-gray-200 rounded-lg"})])],-1))])]),e("div",ze,[e("div",Ke,[e("div",Ae,[e("div",Re,[t[20]||(t[20]=e("div",{class:"flex gap-2 mb-4 animate-pulse"},[e("div",{class:"h-6 w-24 bg-gray-200 rounded-full"}),e("div",{class:"h-6 w-24 bg-gray-200 rounded-full"})],-1)),(r(),c(M,null,q(3,i=>e("div",{key:i,class:"mb-8 animate-pulse"},t[19]||(t[19]=[W('<div class="h-7 bg-gray-200 rounded w-48 mb-4" data-v-115933ce></div><div class="space-y-2" data-v-115933ce><div class="h-4 bg-gray-200 rounded w-full" data-v-115933ce></div><div class="h-4 bg-gray-200 rounded w-5/6" data-v-115933ce></div><div class="h-4 bg-gray-200 rounded w-4/6" data-v-115933ce></div></div>',2)]))),64))])])]),e("div",Oe,[t[24]||(t[24]=W('<div class="bg-white shadow-lg rounded-lg overflow-hidden" data-v-115933ce><div class="p-4 md:p-6 animate-pulse" data-v-115933ce><div class="flex items-center mb-6" data-v-115933ce><div class="w-16 h-16 bg-gray-200 rounded mr-4" data-v-115933ce></div><div class="flex-1" data-v-115933ce><div class="h-5 bg-gray-200 rounded w-3/4 mb-2" data-v-115933ce></div><div class="h-4 bg-gray-200 rounded w-1/2" data-v-115933ce></div></div></div><div class="space-y-4" data-v-115933ce><div class="h-4 bg-gray-200 rounded w-full" data-v-115933ce></div><div class="h-4 bg-gray-200 rounded w-2/3" data-v-115933ce></div></div></div></div>',1)),e("div",Ge,[e("div",Ue,[t[22]||(t[22]=e("div",{class:"h-6 bg-gray-200 rounded w-40 mb-4 animate-pulse"},null,-1)),e("div",He,[(r(),c(M,null,q(5,i=>e("div",{key:i,class:"flex items-center animate-pulse"},t[21]||(t[21]=[e("div",{class:"w-10 h-10 bg-gray-200 rounded-full mr-3"},null,-1),e("div",{class:"flex-1"},[e("div",{class:"h-4 bg-gray-200 rounded w-20 mb-1"}),e("div",{class:"h-5 bg-gray-200 rounded w-32"})],-1)]))),64))])])]),e("div",Xe,[e("div",Ye,[t[23]||(t[23]=e("div",{class:"h-6 bg-gray-200 rounded w-40 mb-4 animate-pulse"},null,-1)),e("div",Qe,[(r(),c(M,null,q(5,i=>e("div",{key:i,class:"h-6 bg-gray-200 rounded-full w-24 animate-pulse"})),64))])])])])])])):(r(),c("div",We,[e("div",Ze,[e("div",Je,[e("h1",et,a(n.value.title),1),e("div",tt,[e("div",st,[e("div",nt,[o(l(d),{icon:"money-bill",class:"text-emerald-500 text-lg md:text-xl"})]),e("div",null,[t[25]||(t[25]=e("div",{class:"text-gray-500 text-xs md:text-sm"},"Mức lương",-1)),e("div",it,a(te(n.value)),1)])]),e("div",lt,[e("div",ot,[o(l(d),{icon:"map-marker-alt",class:"text-blue-500 text-lg md:text-xl"})]),e("div",null,[t[26]||(t[26]=e("div",{class:"text-gray-500 text-xs md:text-sm"},"Địa điểm",-1)),e("div",at,a(n.value.city)+a(n.value.district?`, ${n.value.district}`:""),1)])]),e("div",rt,[e("div",dt,[o(l(d),{icon:"briefcase",class:"text-purple-500 text-lg md:text-xl"})]),e("div",null,[t[27]||(t[27]=e("div",{class:"text-gray-500 text-xs md:text-sm"},"Kinh nghiệm",-1)),e("div",ct,a(n.value.experience),1)])])]),e("div",ut,[e("div",mt,[o(H,{text:"Ứng tuyển ngay",variant:"primary",size:"md",class:p(["relative w-full sm:w-auto px-4 md:px-6 py-2.5 md:py-3 flex items-center justify-center gap-2 transform hover:scale-105 transition-all duration-300 shadow-md hover:shadow-lg bg-gradient-to-r from-blue-600 to-indigo-600 rounded-md overflow-hidden",{"animate-pulse-gentle":!l(m).isLoggedIn}]),disabled:ie.value,onClick:ye},{default:I(()=>[o(l(d),{icon:"paper-plane",class:"text-white"}),e("span",gt,a(ie.value?"Đã ứng tuyển":"Ứng tuyển ngay"),1)]),_:1},8,["class","disabled"]),l(m).isCandidate&&l(m).isLoggedIn&&((x=l(m).userInfo)!=null&&x.is_premium)?(r(),Z(H,{key:0,type:"button",variant:"secondary",size:"md",class:"w-full sm:w-auto px-4 md:px-6 py-2.5 md:py-3 flex items-center justify-center gap-2 transform hover:scale-105 transition-all duration-300 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 hover:border-blue-300 shadow-md hover:shadow-lg",onClick:we},{default:I(()=>[o(l(d),{icon:"comment-dots",class:"text-blue-600"}),t[28]||(t[28]=e("span",{class:"text-blue-600 font-medium"},"Nhắn tin",-1))]),_:1})):l(m).isCandidate&&l(m).isLoggedIn&&!((k=l(m).userInfo)!=null&&k.is_premium)?(r(),Z(H,{key:1,type:"button",variant:"secondary",size:"md",class:"w-full sm:w-auto px-4 md:px-6 py-2.5 md:py-3 flex items-center justify-center gap-2 transform hover:scale-105 transition-all duration-300 bg-gradient-to-r from-yellow-50 to-amber-50 border border-yellow-200 hover:border-yellow-300 shadow-md hover:shadow-lg",onClick:t[0]||(t[0]=i=>X("chat"))},{default:I(()=>[o(l(d),{icon:"comment-dots",class:"text-yellow-600"}),t[29]||(t[29]=e("span",{class:"text-yellow-600 font-medium"},"Nâng cấp để nhắn tin",-1))]),_:1})):v("",!0),l(m).isLoggedIn?(r(),Z(H,{key:2,type:"button",variant:"danger",size:"md",class:"w-full sm:w-auto px-4 md:px-6 py-2.5 md:py-3 flex items-center justify-center gap-2 transform hover:scale-105 transition-all duration-300 bg-gradient-to-r from-red-50 to-rose-50 border border-red-200 hover:border-red-300 shadow-md hover:shadow-lg",onClick:t[1]||(t[1]=i=>B.value=!0)},{default:I(()=>[o(l(d),{icon:"flag",class:"text-red-600"}),t[30]||(t[30]=e("span",{class:"text-red-600 font-medium"},"Báo cáo",-1))]),_:1})):v("",!0)]),l(m).isLoggedIn&&n.value.latest_application_date?(r(),c("div",pt,[o(l(d),{icon:"check-circle",class:"text-green-500"}),e("div",vt,[e("span",null,"Đã ứng tuyển: "+a(n.value.latest_application_date),1),o(g,{to:"/my-applications",class:"text-blue-600 hover:underline ml-2 font-medium"},{default:I(()=>t[31]||(t[31]=[y("Xem CV")])),_:1})])])):v("",!0)]),l(m).isLoggedIn&&n.value.latest_application_date?(r(),c("div",ft,[o(l(d),{icon:"check-circle",class:"text-green-500"}),e("div",xt,[e("span",null,"Đã ứng tuyển: "+a(n.value.latest_application_date),1),o(g,{to:"/my-applications",class:"text-blue-600 hover:underline ml-2 font-medium"},{default:I(()=>t[32]||(t[32]=[y("Xem CV")])),_:1})])])):v("",!0)])]),e("div",ht,[e("div",yt,[e("div",bt,[e("div",_t,[e("div",wt,[e("span",kt,a(n.value.position_name),1),e("span",Ct,a(n.value.field_name),1)]),e("section",Dt,[t[33]||(t[33]=e("h2",{class:"text-lg md:text-xl font-bold text-gray-900 mb-4"},"Mô tả công việc",-1)),e("div",Vt,a(n.value.description),1)]),e("section",Tt,[t[34]||(t[34]=e("h2",{class:"text-lg md:text-xl font-bold text-gray-900 mb-4"},"Yêu cầu ứng viên",-1)),e("div",jt,a(n.value.required),1)]),e("section",null,[t[35]||(t[35]=e("h2",{class:"text-lg md:text-xl font-bold text-gray-900 mb-4"},"Quyền lợi",-1)),e("div",It,a(n.value.interest),1)])])])]),e("div",Lt,[e("div",St,[e("div",Pt,[e("div",$t,[e("img",{src:n.value.enterprise_logo,alt:"Company logo",class:"w-14 h-14 md:w-16 md:h-16 object-contain bg-white rounded p-1",onError:ee},null,40,Bt),e("div",Nt,[e("h3",Et,a(n.value.enterprise_name),1),n.value.is_enterprise_premium?(r(),c("div",Ft,t[36]||(t[36]=[e("span",{class:"inline-flex items-center px-2 py-1 bg-amber-400 text-white rounded-full text-xs font-semibold shadow"},"Pro Company",-1)]))):v("",!0)])]),e("div",Mt,[e("div",qt,[o(l(d),{icon:"map-marker-alt",class:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0"}),e("span",null,a(n.value.enterprise_address),1)]),o(g,{to:{name:"EnterpriseDetail",params:{id:n.value.enterprise}},class:"text-blue-600 hover:underline flex items-center group"},{default:I(()=>[o(l(d),{icon:"external-link-alt",class:"w-5 h-5 mr-3 transition-transform group-hover:translate-x-1 flex-shrink-0"}),t[37]||(t[37]=y(" Xem trang công ty "))]),_:1},8,["to"])])])]),e("div",zt,[e("div",Kt,[t[47]||(t[47]=e("h3",{class:"font-bold text-gray-900 mb-4 text-base md:text-lg"},"Thông tin chung",-1)),e("div",At,[e("div",Rt,[e("div",Ot,[o(l(d),{icon:"graduation-cap",class:"text-emerald-500"})]),e("div",null,[t[38]||(t[38]=e("div",{class:"text-gray-500 text-xs md:text-sm"},"Cấp bậc",-1)),e("div",Gt,a(n.value.level),1)])]),e("div",Ut,[e("div",Ht,[o(l(d),{icon:"users",class:"text-purple-500"})]),e("div",null,[t[39]||(t[39]=e("div",{class:"text-gray-500 text-xs md:text-sm"},"Số lượng tuyển",-1)),e("div",Xt,a(n.value.quantity)+" người",1)])]),e("div",Yt,[e("div",Qt,[o(l(d),{icon:"clock",class:"text-orange-500"})]),e("div",null,[t[40]||(t[40]=e("div",{class:"text-gray-500 text-xs md:text-sm"},"Thời gian làm việc",-1)),e("div",Wt,a(n.value.time_working),1)])]),e("div",Zt,[e("div",Jt,[o(l(d),{icon:"briefcase",class:"text-orange-500"})]),e("div",null,[t[41]||(t[41]=e("div",{class:"text-gray-500 text-xs md:text-sm"},"Hình thức làm việc",-1)),e("div",es,a(n.value.type_working),1)])]),e("div",ts,[t[42]||(t[42]=e("i",{class:"fas fa-calendar-alt text-green-500"},null,-1)),e("span",null,"Hạn nộp: "+a(le(n.value.deadline)),1)]),l(m).isLoggedIn&&((ae=l(m).userInfo)!=null&&ae.is_premium)&&n.value.total_applicants!==void 0?(r(),c("div",ss,[t[44]||(t[44]=e("i",{class:"fas fa-users text-blue-500"},null,-1)),e("div",null,[e("span",ns,a(n.value.total_applicants)+" ứng viên",1),t[43]||(t[43]=e("span",{class:"text-sm text-blue-600"}," đã ứng tuyển",-1))]),t[45]||(t[45]=e("i",{class:"fas fa-crown text-yellow-500 ml-1"},null,-1))])):n.value.has_applicants&&!(l(m).isLoggedIn&&((re=l(m).userInfo)!=null&&re.is_premium))?(r(),c("div",{key:1,onClick:t[2]||(t[2]=i=>X("view-applicants")),class:"flex items-center justify-between gap-2 bg-gray-50 border border-gray-200 py-2 px-3 rounded-lg text-gray-700 cursor-pointer hover:bg-yellow-50 transform hover:scale-105 transition-all duration-300"},t[46]||(t[46]=[W('<div class="flex items-center gap-2" data-v-115933ce><i class="fas fa-lock text-gray-400" data-v-115933ce></i><div data-v-115933ce><span class="font-medium" data-v-115933ce>?? ứng viên</span><span class="text-sm text-gray-500" data-v-115933ce> đã ứng tuyển</span></div></div><div class="flex items-center gap-1 text-yellow-600 font-medium text-sm" data-v-115933ce><i class="fas fa-crown text-yellow-500" data-v-115933ce></i><span data-v-115933ce>Nâng cấp Premium</span><i class="fas fa-arrow-right text-xs" data-v-115933ce></i></div>',2)]))):v("",!0)])])])])])]))]),$.value?(r(),c("div",is,[e("div",{class:"absolute inset-0 bg-black/50",onClick:F}),e("div",{class:p(["relative bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto transform transition-all duration-300",{"translate-y-0 opacity-100 scale-100":$.value,"translate-y-4 opacity-0 scale-95":!$.value}])},[e("div",ls,[e("h3",os,"Ứng tuyển vị trí: "+a(n.value.title),1),e("button",{onClick:F,class:"text-gray-400 hover:text-gray-600"},[o(l(d),{icon:"times",class:"text-xl"})])]),e("form",{onSubmit:z(he,["prevent"]),class:"p-4 md:p-6"},[_.value?(r(),c("div",as,[e("div",rs,[o(l(d),{icon:"exclamation-circle",class:"mr-2 flex-shrink-0"}),e("span",null,a(_.value),1)])])):v("",!0),e("div",ds,[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[y("Họ và tên "),e("span",{class:"text-red-500"},"*")],-1)),K(e("input",{"onUpdate:modelValue":t[3]||(t[3]=i=>f.name=i),type:"text",required:"",class:p(["w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":u.name}])},null,2),[[A,f.name]]),u.name?(r(),c("p",cs,a(u.name),1)):v("",!0)]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[y("Email "),e("span",{class:"text-red-500"},"*")],-1)),K(e("input",{"onUpdate:modelValue":t[4]||(t[4]=i=>f.email=i),type:"email",required:"",class:p(["w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":u.email}])},null,2),[[A,f.email]]),u.email?(r(),c("p",us,a(u.email),1)):v("",!0)]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[y("Số điện thoại "),e("span",{class:"text-red-500"},"*")],-1)),K(e("input",{"onUpdate:modelValue":t[5]||(t[5]=i=>f.phone_number=i),type:"tel",required:"",class:p(["w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":u.phone_number}])},null,2),[[A,f.phone_number]]),u.phone_number?(r(),c("p",ms,a(u.phone_number),1)):v("",!0)]),e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[y("Giới thiệu bản thân "),e("span",{class:"text-red-500"},"*")],-1)),K(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=i=>f.description=i),rows:"3",required:"",class:p(["w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":u.description}]),placeholder:"Giới thiệu ngắn gọn về bản thân bạn, kinh nghiệm và lý do muốn ứng tuyển vị trí này..."},null,2),[[A,f.description]]),u.description?(r(),c("p",gs,a(u.description),1)):v("",!0)]),e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[y("CV của bạn "),e("span",{class:"text-red-500"},"*")],-1)),e("div",{class:p(["relative border-2 border-dashed border-gray-300 rounded-lg p-4 md:p-6 transition-all",{"border-blue-500 bg-blue-50":N.value,"border-red-300":u.cv}]),onDragover:t[7]||(t[7]=z(i=>N.value=!0,["prevent"])),onDragleave:t[8]||(t[8]=z(i=>N.value=!1,["prevent"])),onDrop:z(pe,["prevent"])},[D.value?(r(),c("div",ps,[e("div",vs,[o(l(d),{icon:"file-pdf",class:"text-red-500 text-xl mr-3 flex-shrink-0"}),e("div",fs,[e("p",xs,a(D.value.name),1),e("p",hs,a(fe(D.value.size)),1)])]),e("button",{type:"button",onClick:ve,class:"text-gray-400 hover:text-red-500 ml-2 flex-shrink-0"},[o(l(d),{icon:"times"})])])):(r(),c("div",ys,[o(l(d),{icon:"cloud-upload-alt",class:"text-gray-400 text-2xl md:text-3xl mb-3"}),e("p",bs,[t[53]||(t[53]=y("Kéo thả file CV của bạn vào đây hoặc ")),e("label",_s,[t[52]||(t[52]=y(" tải lên từ máy tính ")),e("input",{type:"file",class:"hidden",onChange:ge,accept:".pdf,.doc,.docx"},null,32)])]),t[54]||(t[54]=e("p",{class:"text-xs md:text-sm text-gray-400 mt-1"},"Chấp nhận PDF, DOCX (Tối đa 5MB)",-1))]))],34),u.cv?(r(),c("p",ws,a(u.cv),1)):v("",!0)])]),e("div",ks,[e("button",{type:"button",onClick:F,class:"px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"}," Hủy "),e("button",{type:"submit",class:"px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed mb-2 sm:mb-0",disabled:R.value},[R.value?(r(),c("span",Ds,[o(l(d),{icon:"circle-notch",class:"fa-spin mr-2"}),t[56]||(t[56]=y(" Đang gửi... "))])):(r(),c("span",Vs,"Gửi ứng tuyển"))],8,Cs)])],32)],2)])):v("",!0),L.value?(r(),c("div",Ts,[e("div",{class:"absolute inset-0 bg-black/50",onClick:t[9]||(t[9]=i=>L.value=!1)}),e("div",{class:p(["relative bg-white rounded-lg shadow-xl w-full max-w-md transform transition-all duration-300",{"translate-y-0 opacity-100 scale-100":L.value,"translate-y-4 opacity-0 scale-95":!L.value}])},[e("div",js,[e("div",Is,[e("div",Ls,[o(l(d),{icon:"exclamation-triangle",class:"text-yellow-500 text-xl md:text-2xl"})])]),t[57]||(t[57]=e("h3",{class:"text-lg font-medium text-center text-gray-900 mb-2"},"Yêu cầu đăng nhập",-1)),t[58]||(t[58]=e("p",{class:"text-gray-500 text-center mb-6"},"Bạn cần đăng nhập để có thể ứng tuyển vào vị trí này",-1)),e("div",Ss,[e("button",{onClick:t[10]||(t[10]=i=>L.value=!1),class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 order-2 sm:order-1"}," Để sau "),e("button",{onClick:be,class:"px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 order-1 sm:order-2 mb-2 sm:mb-0"}," Đăng nhập ngay ")])])],2)])):v("",!0),S.value?(r(),c("div",{key:2,class:p(["fixed bottom-4 right-4 z-50 max-w-md w-full sm:w-auto shadow-xl rounded-lg overflow-hidden transform transition-all duration-300",{"translate-y-0 opacity-100":S.value,"translate-y-4 opacity-0":!S.value,"bg-green-50 border border-green-200":w.value==="success","bg-red-50 border border-red-200":w.value==="error"}])},[e("div",Ps,[e("div",{class:p(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center mr-3",{"bg-green-100":w.value==="success","bg-red-100":w.value==="error"}])},[o(l(d),{icon:w.value==="success"?"check-circle":"exclamation-circle",class:p({"text-green-500":w.value==="success","text-red-500":w.value==="error"})},null,8,["icon","class"])],2),e("div",$s,[e("p",{class:p(["font-medium text-sm",{"text-green-800":w.value==="success","text-red-800":w.value==="error"}])},a(w.value==="success"?J.value:_.value),3)]),e("button",{onClick:t[11]||(t[11]=i=>S.value=!1),class:"flex-shrink-0 text-gray-400 hover:text-gray-600"},[o(l(d),{icon:"times"})])])],2)):v("",!0),e("button",{onClick:t[12]||(t[12]=i=>s.$router.go(-1)),class:"fixed bottom-6 left-6 z-30 bg-white shadow-lg rounded-full p-3 hover:shadow-xl transition-all duration-300 focus:outline-none","aria-label":"Quay lại"},[o(l(d),{icon:"arrow-left",class:"text-gray-600"})]),!P.value&&n.value.related_posts&&n.value.related_posts.length>0?(r(),c("div",Bs,[e("h2",Ns,[o(l(d),{icon:"briefcase",class:"text-blue-500 mr-2"}),t[59]||(t[59]=e("span",null,"Việc làm liên quan",-1))]),e("div",Es,[(r(!0),c(M,null,q(n.value.related_posts,i=>(r(),c("div",{key:i.id,class:p(["bg-white shadow-md hover:shadow-lg rounded-lg overflow-hidden transition-all duration-300 flex flex-col",{"border-2 border-amber-400 shadow-amber-200":i.is_enterprise_premium}])},[e("div",Fs,[i.is_enterprise_premium?(r(),c("div",Ms,[e("span",qs,[o(l(d),{icon:"crown",class:"mr-1"}),t[60]||(t[60]=y(" Premium "))])])):v("",!0),e("div",zs,[e("div",Ks,[e("h3",{onClick:de=>oe(i.id),class:"font-bold text-gray-900 mb-2 hover:text-blue-600 transition-colors line-clamp-2 cursor-pointer"},a(i.title),9,As)]),e("div",null,[e("button",{onClick:de=>ke(i),class:"text-lg focus:outline-none transition-colors duration-300",title:i.is_saved?"Bỏ lưu":"Lưu tin tuyển dụng"},[o(l(d),{icon:["fas","heart"],class:p(i.is_saved?"text-red-500":"text-gray-300 hover:text-red-500")},null,8,["class"])],8,Rs)])]),e("div",Os,[e("div",Gs,[e("img",{src:i.enterprise_logo,alt:"Company logo",class:p(["w-8 h-8 object-contain rounded-full mr-2",{"border border-amber-400":i.is_enterprise_premium}]),onError:ee},null,42,Us),i.is_enterprise_premium?(r(),c("span",Hs)):v("",!0)]),e("p",{class:p(["text-gray-700 text-sm font-medium ml-2",{"text-amber-700":i.is_enterprise_premium}])},a(i.enterprise_name),3)]),e("div",Xs,[e("div",Ys,[o(l(d),{icon:"map-marker-alt",class:"mr-2 text-gray-400"}),e("span",null,a(i.city),1)]),e("div",Qs,[o(l(d),{icon:"briefcase",class:"mr-2 text-gray-400"}),e("span",null,a(i.experience),1)]),e("div",Ws,[o(l(d),{icon:"business-time",class:"mr-2 text-gray-400"}),e("span",null,a(i.type_working),1)]),e("div",{class:p(["flex items-center text-sm",{"text-amber-600 font-medium":i.is_enterprise_premium,"text-gray-500":!i.is_enterprise_premium}])},[o(l(d),{icon:"money-bill-wave",class:p(["mr-2",{"text-amber-500":i.is_enterprise_premium,"text-gray-400":!i.is_enterprise_premium}])},null,8,["class"]),e("span",null,a(te(i)),1)],2)]),e("div",{class:p(["flex justify-between items-center mt-auto pt-2 border-t",{"border-amber-100":i.is_enterprise_premium,"border-gray-100":!i.is_enterprise_premium}])},[e("div",Zs,[o(l(d),{icon:"calendar-alt",class:"mr-1"}),e("span",null,"Hạn: "+a(le(i.deadline)),1)]),e("button",{onClick:de=>oe(i.id),class:p(["text-sm font-medium flex items-center",{"text-amber-600 hover:text-amber-800":i.is_enterprise_premium,"text-blue-600 hover:text-blue-800":!i.is_enterprise_premium}])},[t[61]||(t[61]=e("span",null,"Xem chi tiết",-1)),o(l(d),{icon:"arrow-right",class:"ml-1"})],10,Js)],2)])],2))),128))])])):v("",!0),T.value?(r(),c("div",en,[e("div",{class:"absolute inset-0 bg-black/50",onClick:t[13]||(t[13]=i=>T.value=!1)}),e("div",{class:p(["relative bg-white rounded-lg shadow-xl w-full max-w-md transform transition-all duration-300",{"translate-y-0 opacity-100 scale-100":T.value,"translate-y-4 opacity-0 scale-95":!T.value}])},[e("div",tn,[e("div",sn,[e("div",nn,[o(l(d),{icon:"exclamation-triangle",class:"text-yellow-500 text-xl md:text-2xl"})])]),t[62]||(t[62]=e("h3",{class:"text-lg font-medium text-center text-gray-900 mb-2"},"Giới hạn ứng tuyển",-1)),t[63]||(t[63]=e("p",{class:"text-gray-500 text-center mb-6"},"Bạn đã đạt giới hạn số lượng ứng tuyển trong ngày. Vui lòng thử lại vào ngày mai hoặc nâng cấp tài khoản Premium để ứng tuyển không giới hạn.",-1)),e("div",ln,[e("button",{onClick:t[14]||(t[14]=i=>T.value=!1),class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 order-2 sm:order-1"}," Để sau "),e("button",{onClick:Ce,class:"px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 order-1 sm:order-2 mb-2 sm:mb-0"}," Nâng cấp ngay ")])])],2)])):v("",!0),B.value?(r(),c("div",on,[e("div",{class:"absolute inset-0 bg-black/50",onClick:U}),e("div",{class:p(["relative bg-white rounded-lg shadow-xl w-full max-w-md transform transition-all duration-300",{"translate-y-0 opacity-100 scale-100":B.value,"translate-y-4 opacity-0 scale-95":!B.value}])},[e("div",an,[e("div",rn,[t[64]||(t[64]=e("h3",{class:"text-lg font-medium text-gray-900"},"Báo cáo bài đăng",-1)),e("button",{onClick:U,class:"text-gray-400 hover:text-gray-600"},[o(l(d),{icon:"times"})])]),e("form",{onSubmit:z(De,["prevent"]),class:"space-y-4"},[e("div",null,[t[65]||(t[65]=e("label",{for:"report-reason",class:"block text-sm font-medium text-gray-700 mb-1"},[y("Lý do báo cáo "),e("span",{class:"text-red-500"},"*")],-1)),K(e("textarea",{id:"report-reason","onUpdate:modelValue":t[15]||(t[15]=i=>E.reason=i),rows:"4",class:p(["w-full border border-gray-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",{"border-red-500":j.value}]),placeholder:"Vui lòng mô tả chi tiết lý do bạn báo cáo bài đăng này...",required:""},null,2),[[A,E.reason]]),j.value?(r(),c("p",dn,a(j.value),1)):v("",!0)]),e("div",cn,[e("button",{type:"button",onClick:U,class:"px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"}," Hủy "),e("button",{type:"submit",class:"px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:O.value},[O.value?(r(),c("span",mn,[o(l(d),{icon:"circle-notch",class:"fa-spin mr-2"}),t[66]||(t[66]=y(" Đang gửi... "))])):(r(),c("span",gn,"Gửi báo cáo"))],8,un)])],32)])],2)])):v("",!0)])}}},bn=Ve(pn,[["__scopeId","data-v-115933ce"]]);export{bn as default};
