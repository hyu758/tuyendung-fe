import{_ as R,j as b,o as H,D as K,c as d,a as u,e,f as x,q as g,v as O,s as z,F as V,h as S,t as y,A as re,K as _,x as le,B as oe,u as ae,m as ie,i as ne,E as de,G as A,C as I,r as ue,M as ce,d as h,n as C,g as L,b as ye,w as pe}from"./index-Drq2Q2qZ.js";import{u as ge}from"./address-CubpzkpK.js";import{u as me}from"./field-Ds2YgaZS.js";import{u as fe}from"./post-BO_Qq6WW.js";const ve={class:"bg-white rounded-xl shadow-sm p-5 transition-all hover:shadow-md relative"},be={class:"flex justify-between items-center mb-5"},xe={class:"relative"},he={class:"relative"},_e=["value"],we={class:"relative"},ke=["value"],qe={class:"space-y-2 max-h-52 overflow-y-auto bg-gray-50 rounded-lg p-2.5 border border-gray-100"},$e=["id","value"],Ce=["for"],Ve={class:"space-y-2 max-h-72 overflow-y-auto bg-gray-50 rounded-lg p-2.5 border border-gray-100"},Se={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Te={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Pe={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Ue={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Fe={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Me={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},ze={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},De={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Le={class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},Ke={class:"space-y-2 bg-gray-50 rounded-lg p-2.5 border border-gray-100"},Ne=["id","value"],Je=["for"],Be={__name:"JobFilter",emits:["filter","close"],setup(X,{emit:p}){const w=p,P=b([]),k=b([]);async function D(){try{const s=await ge().fetchProvinces();s!=null&&s.data&&(P.value=s.data.map(m=>m.name));const i=await me().fetchFields();console.log(i),i!=null&&i.data&&(k.value=i.data.map(m=>m.name))}catch(c){console.error("Lỗi khi tải dữ liệu:",c)}}H(()=>{D()});const $=["Toàn thời gian","Bán thời gian","Thực tập","Freelance","Remote"],f=["Không yêu cầu kinh nghiệm","Dưới 1 năm","1-2 năm","3-5 năm","Trên 5 năm"],l=K({q:"",city:"",position:"",type_working:[],salary_type:"",experience:""}),F=()=>{const c={page:1,page_size:10,sort_by:"created_at",sort_order:"desc",all:!0};if(l.q&&l.q.trim()&&(c.q=l.q.trim()),l.city&&(c.city=l.city),l.position&&(c.position=l.position),l.type_working.length>0&&(c.type_working=l.type_working.join(",")),l.experience&&(c.experience=l.experience),l.salary_type)if(l.salary_type==="negotiable")c.negotiable="true";else{const[s,a]=l.salary_type.split("-").map(Number);s>0&&(c.salary_min=s),a<999&&(c.salary_max=a)}w("filter",c)},M=()=>{F(),w("close")},q=()=>{l.q="",l.city="",l.position="",l.type_working=[],l.salary_type="",l.experience="",w("filter",{page:1,page_size:10,sort_by:"created_at",sort_order:"desc",all:!0})};return(c,s)=>(u(),d("div",ve,[e("div",be,[s[16]||(s[16]=e("h3",{class:"text-lg font-semibold text-gray-800 flex items-center"},[e("i",{class:"fas fa-filter text-blue-500 mr-2"}),x(" Lọc kết quả ")],-1)),e("button",{onClick:s[0]||(s[0]=a=>c.$emit("close")),class:"lg:hidden w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors"},s[15]||(s[15]=[e("i",{class:"fas fa-times text-gray-500"},null,-1)]))]),e("form",{onSubmit:le(F,["prevent"]),class:"space-y-5"},[e("div",null,[s[18]||(s[18]=e("label",{for:"keyword",class:"block text-sm font-medium text-gray-700 mb-1.5"},"Từ khóa",-1)),e("div",xe,[s[17]||(s[17]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-search text-gray-400"})],-1)),g(e("input",{id:"keyword","onUpdate:modelValue":s[1]||(s[1]=a=>l.q=a),type:"text",placeholder:"Tiêu đề, kỹ năng, công ty...",class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"},null,512),[[O,l.q]])])]),e("div",null,[s[22]||(s[22]=e("label",{for:"location",class:"block text-sm font-medium text-gray-700 mb-1.5"},"Địa điểm",-1)),e("div",he,[s[20]||(s[20]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-map-marker-alt text-gray-400"})],-1)),g(e("select",{id:"location","onUpdate:modelValue":s[2]||(s[2]=a=>l.city=a),class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white transition-all"},[s[19]||(s[19]=e("option",{value:""},"Tất cả địa điểm",-1)),(u(!0),d(V,null,S(P.value,a=>(u(),d("option",{key:a,value:a},y(a),9,_e))),128))],512),[[z,l.city]]),s[21]||(s[21]=e("div",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center"},[e("i",{class:"fas fa-chevron-down text-gray-400 text-xs"})],-1))])]),e("div",null,[s[26]||(s[26]=e("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-1.5"},"Ngành nghề",-1)),e("div",we,[s[24]||(s[24]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-briefcase text-gray-400"})],-1)),g(e("select",{id:"category","onUpdate:modelValue":s[3]||(s[3]=a=>l.position=a),class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white transition-all"},[s[23]||(s[23]=e("option",{value:""},"Tất cả ngành nghề",-1)),(u(!0),d(V,null,S(k.value,a=>(u(),d("option",{key:a,value:a},y(a),9,ke))),128))],512),[[z,l.position]]),s[25]||(s[25]=e("div",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center"},[e("i",{class:"fas fa-chevron-down text-gray-400 text-xs"})],-1))])]),e("div",null,[s[27]||(s[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Loại công việc",-1)),e("div",qe,[(u(),d(V,null,S($,a=>e("div",{key:a,class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},[g(e("input",{id:a,"onUpdate:modelValue":s[4]||(s[4]=i=>l.type_working=i),value:a,type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-colors"},null,8,$e),[[re,l.type_working]]),e("label",{for:a,class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"},y(a),9,Ce)])),64))])]),e("div",null,[s[37]||(s[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mức lương",-1)),e("div",Ve,[e("div",Se,[g(e("input",{id:"salary-all","onUpdate:modelValue":s[5]||(s[5]=a=>l.salary_type=a),value:"",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[_,l.salary_type]]),s[28]||(s[28]=e("label",{for:"salary-all",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," Tất cả ",-1))]),e("div",Te,[g(e("input",{id:"salary-under-10","onUpdate:modelValue":s[6]||(s[6]=a=>l.salary_type=a),value:"0-10",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[_,l.salary_type]]),s[29]||(s[29]=e("label",{for:"salary-under-10",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," Dưới 10 triệu ",-1))]),e("div",Pe,[g(e("input",{id:"salary-10-15","onUpdate:modelValue":s[7]||(s[7]=a=>l.salary_type=a),value:"10-15",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[_,l.salary_type]]),s[30]||(s[30]=e("label",{for:"salary-10-15",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 10 - 15 triệu ",-1))]),e("div",Ue,[g(e("input",{id:"salary-15-20","onUpdate:modelValue":s[8]||(s[8]=a=>l.salary_type=a),value:"15-20",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[_,l.salary_type]]),s[31]||(s[31]=e("label",{for:"salary-15-20",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 15 - 20 triệu ",-1))]),e("div",Fe,[g(e("input",{id:"salary-20-25","onUpdate:modelValue":s[9]||(s[9]=a=>l.salary_type=a),value:"20-25",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[_,l.salary_type]]),s[32]||(s[32]=e("label",{for:"salary-20-25",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 20 - 25 triệu ",-1))]),e("div",Me,[g(e("input",{id:"salary-25-30","onUpdate:modelValue":s[10]||(s[10]=a=>l.salary_type=a),value:"25-30",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[_,l.salary_type]]),s[33]||(s[33]=e("label",{for:"salary-25-30",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 25 - 30 triệu ",-1))]),e("div",ze,[g(e("input",{id:"salary-30-50","onUpdate:modelValue":s[11]||(s[11]=a=>l.salary_type=a),value:"30-50",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[_,l.salary_type]]),s[34]||(s[34]=e("label",{for:"salary-30-50",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," 30 - 50 triệu ",-1))]),e("div",De,[g(e("input",{id:"salary-above-50","onUpdate:modelValue":s[12]||(s[12]=a=>l.salary_type=a),value:"50-999",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[_,l.salary_type]]),s[35]||(s[35]=e("label",{for:"salary-above-50",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," Trên 50 triệu ",-1))]),e("div",Le,[g(e("input",{id:"salary-negotiable","onUpdate:modelValue":s[13]||(s[13]=a=>l.salary_type=a),value:"negotiable",type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,512),[[_,l.salary_type]]),s[36]||(s[36]=e("label",{for:"salary-negotiable",class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"}," Thỏa thuận ",-1))])])]),e("div",null,[s[38]||(s[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kinh nghiệm",-1)),e("div",Ke,[(u(),d(V,null,S(f,a=>e("div",{key:a,class:"flex items-center p-1 hover:bg-white rounded-md transition-colors"},[g(e("input",{id:a,"onUpdate:modelValue":s[14]||(s[14]=i=>l.experience=i),value:a,type:"radio",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 transition-colors"},null,8,Ne),[[_,l.experience]]),e("label",{for:a,class:"ml-2 block text-sm text-gray-700 cursor-pointer w-full"},y(a),9,Je)])),64))])]),e("div",{class:"grid grid-cols-2 gap-3 pt-2"},[e("button",{type:"button",onClick:q,class:"px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all flex items-center justify-center"},s[39]||(s[39]=[e("i",{class:"fas fa-redo-alt mr-2"},null,-1),x(" Xóa bộ lọc ")])),s[40]||(s[40]=e("button",{type:"submit",class:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all flex items-center justify-center"},[e("i",{class:"fas fa-search mr-2"}),x(" Áp dụng ")],-1))]),e("div",{class:"lg:hidden mt-4 sticky bottom-0 bg-white pt-2 pb-1 border-t border-gray-100"},[e("button",{type:"button",onClick:M,class:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all flex items-center justify-center"},s[41]||(s[41]=[e("i",{class:"fas fa-check mr-2"},null,-1),x(" Áp dụng và đóng ")]))])],32)]))}},E=R(Be,[["__scopeId","data-v-7348cdc4"]]),Ae={class:"bg-gray-50 py-8 min-h-screen"},Ie={class:"container mx-auto px-4"},Ee={class:"bg-white rounded-xl shadow-sm p-5 mb-8 transition-all hover:shadow-md"},Re={class:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0"},He={class:"flex-1 relative"},Oe={class:"lg:hidden sticky top-0 z-10 bg-gray-50 py-2"},Xe={class:"flex justify-between items-center bg-white rounded-xl shadow-sm p-4 mb-4"},Ge={class:"text-sm font-medium text-gray-800"},We={key:0,class:"h-5 bg-gray-200 rounded w-32 animate-pulse"},Ye={key:1,class:"flex items-center"},Ze={class:"flex items-center space-x-3"},Qe={class:"relative"},je={class:"flex flex-col lg:flex-row space-y-6 lg:space-y-0 lg:space-x-6"},et={class:"lg:hidden w-full"},tt={key:0,class:"mt-4"},st={class:"hidden lg:block lg:w-1/4 lg:sticky lg:top-4 lg:self-start"},rt={class:"lg:w-3/4"},lt={class:"hidden lg:block bg-white rounded-xl shadow-sm p-5 mb-6"},ot={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0"},at={class:"text-lg font-semibold text-gray-800"},it={key:0,class:"h-7 bg-gray-200 rounded w-48 animate-pulse"},nt={key:1,class:"flex items-center"},dt={class:"flex items-center space-x-2"},ut={class:"relative"},ct={key:0,class:"space-y-6"},yt={key:1,class:"bg-white rounded-xl shadow-sm p-8 text-center"},pt={key:2},gt={class:"space-y-4"},mt={class:"relative"},ft=["onClick"],vt={class:"flex flex-col md:flex-row md:items-center"},bt={class:"mr-5 mb-4 md:mb-0"},xt={key:0,class:"w-16 h-16 rounded-lg overflow-hidden bg-white border border-gray-100 flex items-center justify-center"},ht=["src","alt"],_t={key:1,class:"w-16 h-16 rounded-lg flex items-center justify-center bg-blue-100 text-blue-700 font-bold text-xl"},wt={class:"flex-grow"},kt={class:"text-lg font-semibold text-gray-900 mb-1 line-clamp-1 hover:text-blue-600 transition-colors"},qt={class:"text-gray-600 text-sm mb-1"},$t={class:"flex gap-2 items-center"},Ct={key:0},Vt={key:1},St={class:"flex flex-wrap gap-2 mt-3"},Tt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-gray-100 text-gray-800"},Pt={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-gray-100 text-gray-800"},Ut={key:2,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-blue-100 text-blue-800"},Ft={class:"mt-4 md:mt-0 md:ml-4"},Mt={key:0,class:"text-green-600 font-medium"},zt={key:1,class:"text-green-600 font-medium"},Dt={class:"text-gray-500 text-xs mt-1"},Lt={key:0,class:"flex justify-center mt-10"},Kt={class:"flex items-center space-x-2"},Nt=["disabled"],Jt={key:1,class:"px-2"},Bt=["onClick"],At={key:2,class:"px-2"},It=["disabled"],Et={class:"text-sm text-gray-500 ml-4 flex items-center"},Rt={__name:"JobSearch",setup(X){const p=oe(),w=ae(),P=fe(),k=ie(),D=ne(),$=b(!1),f=b([]),l=b(1),F=b(10),M=b(0),q=K({sort_by:p.query.sort_by||"created_at",sort_order:"desc"});b([]);const c=b(!1),s=b(!1),a=b(!1),i=K({q:p.query.q||"",city:p.query.city||"",position:p.query.position||"",experience:p.query.experience||"",type_working:p.query.type_working||"",salary_min:p.query.salary_min||"",salary_max:p.query.salary_max||"",scales:p.query.scales||"",field:p.query.field||"",page:p.query.page||1,page_size:p.query.page_size||10,sort_by:p.query.sort_by||"created_at",sort_order:"desc",all:p.query.all!=="false"}),m=b(1),T=de(()=>{const t=Math.floor(2.5),n=m.value;let o=Math.max(l.value-t,1),v=o+5-1;return v>n&&(v=n,o=Math.max(v-5+1,1)),Array.from({length:v-o+1},(te,se)=>o+se)}),G=r=>r?r.split(" ").map(t=>t[0]).join("").substring(0,2).toUpperCase():"JH",W=(r,t)=>{if(!r&&!t)return"Thỏa thuận";const n=o=>o?(o/1e6).toLocaleString("vi-VN"):"";return r&&t?`${n(r)} - ${n(t)} triệu`:r?`Từ ${n(r)} triệu`:t?`Đến ${n(t)} triệu`:"Thỏa thuận"},Y=r=>{if(!r)return"";const t=new Date,n=new Date(r),o=Math.abs(t-n),v=Math.ceil(o/(1e3*60*60*24));return v===0?"Hôm nay":v===1?"Hôm qua":v<7?`${v} ngày trước`:v<30?`${Math.floor(v/7)} tuần trước`:n.toLocaleDateString("vi-VN")},Z=async()=>{var r;if(D.isAuthenticated){a.value=!0;try{(await I.get("/api/criteria/")).data.status===200&&(s.value=!0)}catch(t){((r=t.response)==null?void 0:r.status)!==404&&console.error("Lỗi khi lấy tiêu chí tìm việc:",t)}finally{a.value=!1}}};H(async()=>{await Z(),N()}),A(()=>p.query,r=>{i.q=r.q||"",i.city=r.city||"",i.position=r.position||"",i.experience=r.experience||"",i.type_working=r.type_working||"",i.salary_min=r.salary_min||"",i.salary_max=r.salary_max||"",i.page=r.page||1,i.page_size=r.page_size||10,i.sort_by=r.sort_by||"created-at",i.sort_order=r.sort_order||"desc",i.all=r.all!=="false",N()},{deep:!0}),A(()=>q.sort_by,()=>{i.sort_by=q.sort_by,i.page=1,w.push({path:"/job-search",query:{...i}})});const N=async()=>{$.value=!0;try{const t=(await I.get("/api/posts/search/",{params:i})).data.data;console.log(t),f.value=t.results.map(n=>({id:n.id,title:n.title,location:`${n.city}${n.district?`, ${n.district}`:""}`,type_working:n.type_working,salary_min:n.salary_min,salary_max:n.salary_max,publishDate:new Date(n.created_at),experience:n.experience,description:n.description,required:n.required,interest:n.interest,isFeatured:!1,isSaved:n.is_saved||!1,is_enterprise_premium:n.is_enterprise_premium,enterprise_name:n.enterprise_name||"",enterprise_logo:n.enterprise_logo||"",matchesCriteria:s.value&&!a.value&&n.matches_criteria||!1})),m.value=t.total_pages,l.value=t.page,F.value=t.page_size,M.value=t.total}catch(r){console.error("Không thể lấy danh sách việc làm:",r),k.error("Có lỗi xảy ra khi tải danh sách việc làm")}finally{$.value=!1}},J=()=>{const r={page:1,page_size:10,sort_by:"created_at",sort_order:"desc",all:!0};i.q&&i.q.trim()&&(r.q=i.q.trim()),Object.assign(i,r),w.push({path:"/job-search",query:r})},B=r=>{const t={page:1,page_size:i.page_size,sort_by:r.sort_by||i.sort_by||"created_at",sort_order:r.sort_order||i.sort_order||"desc",all:r.all!==void 0?r.all:!0};r.q&&(t.q=r.q),r.city&&(t.city=r.city),r.position&&(t.position=r.position),r.experience&&(t.experience=r.experience),r.type_working&&(t.type_working=r.type_working),r.salary_min&&(t.salary_min=r.salary_min),r.salary_max&&(t.salary_max=r.salary_max),r.negotiable&&(t.negotiable=r.negotiable),r.scales&&(t.scales=r.scales),r.field&&(t.field=r.field),Object.assign(i,t),w.push({path:"/job-search",query:t})},Q=()=>{i.q="",i.city="",i.position="",i.experience="",i.type_working="",i.salary_min="",i.salary_max="",i.negotiable=!1,i.scales="",i.field="";const r={page:1,page_size:10,sort_by:"created_at",sort_order:"desc",all:!0};Object.assign(i,r),q.sort_by="created_at",w.push({path:"/job-search",query:r})},U=r=>{r<1||r>m.value||(i.page=r,w.push({path:"/job-search",query:{...i}}))},j=async r=>{try{const t=f.value.findIndex(n=>n.id===r.id);if(t===-1)return;if(f.value[t].isSaved){const n=await P.deleteSavedPostByPostId(r.id);n.success?(f.value[t].isSaved=!1,k.success("Đã bỏ lưu việc làm thành công")):k.error(n.error)}else{const n=await P.savePost(r.id);n.success?(f.value[t].isSaved=!0,k.success("Đã lưu việc làm thành công")):k.error(n.error)}}catch(t){console.error("Error handling save job:",t),k.error("Có lỗi xảy ra khi thực hiện thao tác")}},ee=()=>{c.value=!c.value};return(r,t)=>{const n=ue("router-link");return u(),d("div",Ae,[e("div",Ie,[t[29]||(t[29]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl md:text-3xl font-bold text-gray-900 mb-2"},"Tìm kiếm việc làm"),e("p",{class:"text-gray-600"},"Khám phá cơ hội nghề nghiệp phù hợp với bạn")],-1)),e("div",Ee,[e("div",Re,[e("div",He,[t[8]||(t[8]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("i",{class:"fas fa-search text-gray-400"})],-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>i.q=o),type:"text",placeholder:"Tiêu đề công việc, vị trí, kỹ năng...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",onKeyup:ce(J,["enter"])},null,544),[[O,i.q]])]),e("div",null,[e("button",{onClick:J,class:"w-full px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-all transform active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"},t[9]||(t[9]=[e("div",{class:"flex items-center justify-center"},[e("i",{class:"fas fa-search mr-2"}),x(" Tìm kiếm ")],-1)]))])])]),e("div",Oe,[e("div",Xe,[e("div",Ge,[$.value?(u(),d("div",We)):(u(),d("span",Ye,[t[10]||(t[10]=e("i",{class:"fas fa-clipboard-list text-blue-500 mr-2"},null,-1)),x(" "+y(f.value.length===0?"Không có kết quả":`${f.value.length} việc làm`),1)]))]),e("div",Ze,[e("div",Qe,[g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>q.sort_by=o),class:"pl-2 pr-6 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 appearance-none cursor-pointer bg-white transition-all"},t[11]||(t[11]=[e("option",{value:"created_at"},"Mới nhất",-1),e("option",{value:"salary_max"},"Lương cao",-1)]),512),[[z,q.sort_by]]),t[12]||(t[12]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-1 text-gray-700"},[e("i",{class:"fas fa-chevron-down text-xs"})],-1))])])])]),e("div",je,[e("div",et,[e("button",{onClick:ee,class:"w-full flex items-center justify-between px-4 py-3 bg-white rounded-xl shadow-sm hover:shadow-md transition-all"},[t[13]||(t[13]=e("span",{class:"flex items-center font-medium text-gray-800"},[e("i",{class:"fas fa-filter text-blue-500 mr-2"}),x(" Bộ lọc tìm kiếm ")],-1)),e("i",{class:C(["fas",c.value?"fa-chevron-up":"fa-chevron-down"])},null,2)]),c.value?(u(),d("div",tt,[L(E,{onFilter:B,onClose:t[2]||(t[2]=o=>c.value=!1)})])):h("",!0)]),e("div",st,[L(E,{onFilter:B})]),e("div",rt,[e("div",lt,[e("div",ot,[e("h2",at,[$.value?(u(),d("div",it)):(u(),d("span",nt,[t[14]||(t[14]=e("i",{class:"fas fa-clipboard-list text-blue-500 mr-2"},null,-1)),x(" "+y(f.value.length===0?"Không có kết quả":`Tìm thấy ${f.value.length} việc làm`),1)]))]),e("div",dt,[t[17]||(t[17]=e("label",{for:"sort",class:"text-sm text-gray-600"},"Sắp xếp:",-1)),e("div",ut,[g(e("select",{id:"sort","onUpdate:modelValue":t[3]||(t[3]=o=>q.sort_by=o),class:"pl-3 pr-8 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none cursor-pointer bg-white transition-all"},t[15]||(t[15]=[e("option",{value:"created_at"},"Mới nhất",-1),e("option",{value:"salary_max"},"Lương cao đến thấp",-1)]),512),[[z,q.sort_by]]),t[16]||(t[16]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[e("i",{class:"fas fa-chevron-down text-xs"})],-1))])])])]),$.value?(u(),d("div",ct,[(u(),d(V,null,S(3,o=>e("div",{key:`skeleton-${o}`,class:"bg-white rounded-xl shadow-sm p-5 animate-pulse"},t[18]||(t[18]=[ye('<div class="flex flex-col md:flex-row md:items-center" data-v-839f291c><div class="md:w-16 md:h-16 w-12 h-12 bg-gray-200 rounded-lg mb-4 md:mb-0 md:mr-4" data-v-839f291c></div><div class="flex-grow" data-v-839f291c><div class="h-6 bg-gray-200 rounded w-3/4 mb-3" data-v-839f291c></div><div class="h-4 bg-gray-200 rounded w-1/2 mb-2" data-v-839f291c></div><div class="h-4 bg-gray-200 rounded w-1/4" data-v-839f291c></div></div><div class="mt-4 md:mt-0 md:ml-4" data-v-839f291c><div class="h-8 bg-gray-200 rounded w-24" data-v-839f291c></div></div></div>',1)]))),64))])):f.value.length===0?(u(),d("div",yt,[t[20]||(t[20]=e("div",{class:"text-5xl text-blue-500 opacity-80 mb-4"},[e("i",{class:"fas fa-search"})],-1)),t[21]||(t[21]=e("h3",{class:"text-xl font-semibold text-gray-800 mb-2"},"Không tìm thấy việc làm phù hợp",-1)),t[22]||(t[22]=e("p",{class:"text-gray-600 mb-6 max-w-md mx-auto"},"Vui lòng thử lại với từ khóa khác hoặc bỏ bớt bộ lọc",-1)),e("button",{onClick:Q,class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all flex items-center mx-auto"},t[19]||(t[19]=[e("i",{class:"fas fa-redo-alt mr-2"},null,-1),x(" Xóa bộ lọc ")]))])):(u(),d("div",pt,[e("div",gt,[(u(!0),d(V,null,S(f.value,o=>(u(),d("div",{key:o.id,class:C(["bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-all transform hover:-translate-y-1 border border-gray-100",{"border-l-4 border-l-green-500":o.matchesCriteria}])},[e("div",mt,[e("button",{onClick:v=>j(o),class:C(["absolute top-4 right-4 z-10 text-gray-400 hover:text-red-500 transition-colors focus:outline-none bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-sm",{"text-red-500":o.isSaved}])},[e("i",{class:C(o.isSaved?"fas fa-heart":"far fa-heart")},null,2)],10,ft),L(n,{to:`/job/${o.id}`,class:"block p-5"},{default:pe(()=>[e("div",vt,[e("div",bt,[o.enterprise_logo?(u(),d("div",xt,[e("img",{src:o.enterprise_logo,alt:o.enterprise_name,class:"object-contain w-full h-full"},null,8,ht)])):(u(),d("div",_t,y(G(o.enterprise_name)),1))]),e("div",wt,[e("h3",kt,y(o.title),1),e("p",qt,y(o.enterprise_name||"Công ty ẩn danh"),1),e("div",$t,[o!=null&&o.is_enterprise_premium?(u(),d("div",Ct,t[23]||(t[23]=[e("span",{class:"inline-flex items-center px-2 py-1 bg-amber-400 text-white rounded-full text-xs font-semibold shadow"}," Pro Company ",-1)]))):h("",!0),o.matchesCriteria?(u(),d("div",Vt,t[24]||(t[24]=[e("span",{class:"inline-flex items-center px-2 py-1 bg-green-500 text-white rounded-full text-xs font-semibold shadow"},[e("i",{class:"fas fa-check-circle mr-1"}),x(" Phù hợp ")],-1)]))):h("",!0)]),e("div",St,[o.location?(u(),d("div",Tt,[t[25]||(t[25]=e("i",{class:"fas fa-map-marker-alt text-gray-500 mr-1"},null,-1)),x(" "+y(o.location),1)])):h("",!0),o.experience?(u(),d("div",Pt,[t[26]||(t[26]=e("i",{class:"fas fa-briefcase text-gray-500 mr-1"},null,-1)),x(" "+y(o.experience),1)])):h("",!0),o.type_working?(u(),d("div",Ut,y(o.type_working),1)):h("",!0)])]),e("div",Ft,[o.salary_min||o.salary_max?(u(),d("div",Mt,y(W(o.salary_min,o.salary_max)),1)):(u(),d("div",zt," Thỏa thuận ")),e("div",Dt,y(Y(o.publishDate)),1)])])]),_:2},1032,["to"])])],2))),128))]),m.value>1?(u(),d("div",Lt,[e("nav",Kt,[e("button",{class:C(["flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",{"opacity-50 cursor-not-allowed":l.value===1}]),disabled:l.value===1,onClick:t[4]||(t[4]=o=>U(l.value-1))},t[27]||(t[27]=[e("i",{class:"fas fa-chevron-left text-gray-500"},null,-1)]),10,Nt),T.value.includes(1)?h("",!0):(u(),d("button",{key:0,onClick:t[5]||(t[5]=o=>U(1)),class:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 text-gray-700"}," 1 ")),T.value[0]>2?(u(),d("span",Jt,"...")):h("",!0),(u(!0),d(V,null,S(T.value,o=>(u(),d("button",{key:o,onClick:v=>U(o),class:C(["flex items-center justify-center w-10 h-10 rounded-lg transition-colors",l.value===o?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50 text-gray-700"])},y(o),11,Bt))),128)),T.value[T.value.length-1]<m.value-1?(u(),d("span",At,"...")):h("",!0),T.value.includes(m.value)?h("",!0):(u(),d("button",{key:3,onClick:t[6]||(t[6]=o=>U(m.value)),class:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 text-gray-700"},y(m.value),1)),e("button",{class:C(["flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",{"opacity-50 cursor-not-allowed":l.value===m.value}]),disabled:l.value===m.value,onClick:t[7]||(t[7]=o=>U(l.value+1))},t[28]||(t[28]=[e("i",{class:"fas fa-chevron-right text-gray-500"},null,-1)]),10,It)]),e("div",Et," Trang "+y(l.value)+"/"+y(m.value)+" ("+y(M.value)+" kết quả) ",1)])):h("",!0)]))])])])])}}},Wt=R(Rt,[["__scopeId","data-v-839f291c"]]);export{Wt as default};
