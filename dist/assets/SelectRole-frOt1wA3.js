import{u as v,i as x,k as d,o as h,c as w,a as c,e as t,s as y,d as b,z as k,g,w as f,f as p,C as _}from"./index-BKXScjE2.js";import{_ as m}from"./BaseButton-BDebd4jh.js";const C={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},V={class:"max-w-md w-full space-y-8 p-10 bg-white shadow-lg rounded-xl"},z={class:"mt-8 space-y-6"},R={__name:"SelectRole",setup(B){const i=v(),o=x(),s=d(null),n=d(null);h(()=>{o.isAuthenticated?o.userRole&&o.userRole!=="none"&&i.push("/"):i.push("/login")});async function l(a){var e,r;s.value=a,n.value=null;try{await _.post("/api/set-role/",{role:a}),o.userRole=a,await o.updateUserFromToken(),i.push("/")}catch(u){console.error("Error setting role:",u),n.value=((r=(e=u.response)==null?void 0:e.data)==null?void 0:r.detail)||"Có lỗi xảy ra khi chọn vai trò. Vui lòng thử lại."}finally{s.value=null}}return(a,e)=>(c(),w("div",C,[t("div",V,[e[4]||(e[4]=t("div",null,[t("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Chọn vai trò của bạn "),t("p",{class:"mt-2 text-center text-sm text-gray-600"}," Vui lòng cho chúng tôi biết bạn muốn sử dụng JobHub với vai trò nào. ")],-1)),n.value?(c(),y(k,{key:0,variant:"error",message:n.value,show:!!n.value,class:"mt-4"},null,8,["message","show"])):b("",!0),t("div",z,[g(m,{onClick:e[0]||(e[0]=r=>l("employer")),loading:s.value==="employer",disabled:!!s.value,variant:"primary",size:"lg",class:"w-full relative flex justify-center py-3 px-4 border border-transparent text-lg font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out transform hover:scale-105"},{default:f(()=>e[2]||(e[2]=[t("span",{class:"absolute left-0 inset-y-0 flex items-center pl-3"},[t("svg",{class:"h-6 w-6 text-indigo-300 group-hover:text-indigo-100",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1),p(" Tôi là Nhà tuyển dụng ")])),_:1},8,["loading","disabled"]),g(m,{onClick:e[1]||(e[1]=r=>l("candidate")),loading:s.value==="candidate",disabled:!!s.value,variant:"secondary",size:"lg",class:"w-full relative flex justify-center py-3 px-4 border border-transparent text-lg font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out transform hover:scale-105"},{default:f(()=>e[3]||(e[3]=[t("span",{class:"absolute left-0 inset-y-0 flex items-center pl-3"},[t("svg",{class:"h-6 w-6 text-indigo-500 group-hover:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),p(" Tôi là Người tìm việc ")])),_:1},8,["loading","disabled"])])])]))}};export{R as default};
